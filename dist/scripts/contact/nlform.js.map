{"version":3,"sources":["contact/nlform.js"],"names":[],"mappings":"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","file":"contact/nlform.js","sourcesContent":[";\n(function(window) {\n\n\t'use strict';\n\n\tvar document = window.document;\n\n\tif (!String.prototype.trim) {\n\t\tString.prototype.trim = function() {\n\t\t\treturn this.replace(/^\\s+|\\s+$/g, '');\n\t\t};\n\t}\n\n\tfunction NLForm(el) {\n\t\tthis.el = el;\n\t\tthis.overlay = this.el.querySelector('.formOverlay');\n\t\tthis.fields = [];\n\t\tthis.fldOpen = -1;\n\t\tthis._init();\n\t}\n\n\tNLForm.prototype = {\n\t\t_init: function() {\n\t\t\tvar self = this;\n\t\t\tArray.prototype.slice.call(this.el.querySelectorAll('select')).forEach(function(el, i) {\n\t\t\t\tself.fldOpen++;\n\t\t\t\tself.fields.push(new NLField(self, el, 'dropdown', self.fldOpen));\n\t\t\t});\n\t\t\tArray.prototype.slice.call(this.el.querySelectorAll('input')).forEach(function(el, i) {\n\t\t\t\tself.fldOpen++;\n\t\t\t\tself.fields.push(new NLField(self, el, 'input', self.fldOpen));\n\t\t\t});\n\t\t\tthis.overlay.addEventListener('click', function(ev) {\n\t\t\t\tself._closeFlds();\n\t\t\t});\n\t\t\tthis.overlay.addEventListener('touchstart', function(ev) {\n\t\t\t\tself._closeFlds();\n\t\t\t});\n\t\t},\n\t\t_closeFlds: function() {\n\t\t\tif (this.fldOpen !== -1) {\n\t\t\t\tthis.fields[this.fldOpen].close();\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction NLField(form, el, type, idx) {\n\t\tthis.form = form;\n\t\tthis.elOriginal = el;\n\t\tthis.pos = idx;\n\t\tthis.type = type;\n\t\tthis._create();\n\t\tthis._initEvents();\n\t}\n\n\tNLField.prototype = {\n\t\t_create: function() {\n\t\t\tif (this.type === 'dropdown') {\n\t\t\t\tthis._createDropDown();\n\t\t\t} else if (this.type === 'input') {\n\t\t\t\tthis._createInput();\n\t\t\t}\n\t\t},\n\t\t_createDropDown: function() {\n\t\t\tvar self = this;\n\t\t\tthis.fld = document.createElement('div');\n\t\t\tthis.fld.className = 'formField formDropdown';\n\t\t\tthis.toggle = document.createElement('a');\n\t\t\tthis.toggle.innerHTML = this.elOriginal.options[this.elOriginal.selectedIndex].innerHTML;\n\t\t\tthis.toggle.className = 'formField-toggle';\n\t\t\tthis.optionsList = document.createElement('ul');\n\t\t\tvar ihtml = '';\n\t\t\tArray.prototype.slice.call(this.elOriginal.querySelectorAll('option')).forEach(function(el, i) {\n\t\t\t\tihtml += self.elOriginal.selectedIndex === i ? '<li class=\"formDropdown-checked\">' + el.innerHTML + '</li>' : '<li>' + el.innerHTML + '</li>';\n\t\t\t\t// selected index value\n\t\t\t\tif (self.elOriginal.selectedIndex === i) {\n\t\t\t\t\tself.selectedIdx = i;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.optionsList.innerHTML = ihtml;\n\t\t\tthis.optionsList.className =\"custom_dropdown\";\n\t\t\tthis.ddContainer = document.createElement('div');\n\t\t\tthis.ddContainer.className = \"selection\";\n\t\t\tthis.fld.appendChild(this.toggle);\n\n\t\t\tthis.ddContainer.appendChild(this.optionsList);\n\t\t\tthis.elOriginal.parentNode.insertBefore(this.fld, this.elOriginal);\n\t\t\tthis.fld.parentNode.insertBefore(this.ddContainer,this.fld)\n\t\t\tthis.elOriginal.style.display = 'none';\n\t\t},\n\t\t_createInput: function() {\n\t\t\tvar self = this;\n\t\t\tconsole.log(this);\n\n\t\t\tthis.fld = document.createElement('div');\n\t\t\tif (this.elOriginal.className === 'message') {\n\t\t\t\tthis.fld.className = 'formField userMsg textarea';\n\t\t\t} else {\n\t\t\t\tthis.fld.className = 'formField userMsg';\n\t\t\t}\n\t\t\tthis.toggle = document.createElement('a');\n\t\t\tthis.toggle.innerHTML = this.elOriginal.getAttribute('placeholder');\n\t\t\tthis.toggle.className = 'formField-toggle';\n\t\t\tthis.optionsList = document.createElement('ul');\n\n\t\t\tif (this.elOriginal.className === 'message') {\n\t\t\t\tthis.getinput = document.createElement('textarea');\n\t\t\t\tthis.getinput.className = \"common\"\n\t\t\t} else {\n\t\t\t\tthis.getinput = document.createElement('input');\n\t\t\t\tthis.getinput.setAttribute('type', 'text');\n\t\t\t}\n\n\t\t\tthis.getinput.setAttribute('placeholder', this.elOriginal.getAttribute('placeholder'));\n\t\t\tthis.getinputWrapper = document.createElement('li');\n\t\t\tthis.getinputWrapper.className = 'nl-ti-input';\n\t\t\tif (this.elOriginal.className === 'message') {\n\t\t\t\tthis.inputsubmit = document.createElement('span');\n\t\t\t\tthis.inputsubmit.className = 'formField-go icon-checkmark bottom';\n\t\t\t} else {\n\t\t\t\tthis.inputsubmit = document.createElement('span');\n\t\t\t\tthis.inputsubmit.className = 'formField-go icon-checkmark';\n\t\t\t}\n\n\n\t\t\tthis.getinputWrapper.appendChild(this.getinput);\n\t\t\tthis.getinputWrapper.appendChild(this.inputsubmit);\n\t\t\t// this.example = document.createElement( 'li' );\n\t\t\t// this.example.className = 'nl-ti-example';\n\t\t\t// this.example.innerHTML = this.elOriginal.getAttribute( 'data-subline' );\n\t\t\tthis.optionsList.appendChild(this.getinputWrapper);\n\t\t\t// this.optionsList.appendChild( this.example );\n\t\t\tthis.fld.appendChild(this.toggle);\n\t\t\tthis.fld.appendChild(this.optionsList);\n\t\t\tthis.elOriginal.parentNode.insertBefore(this.fld, this.elOriginal);\n\t\t\tthis.elOriginal.style.display = 'none';\n\t\t},\n\t\t_initEvents: function() {\n\t\t\tvar self = this;\n\t\t\tthis.toggle.addEventListener('click', function(ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself._open();\n\t\t\t});\n\t\t\tthis.toggle.addEventListener('touchstart', function(ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself._open();\n\t\t\t});\n\n\t\t\tif (this.type === 'dropdown') {\n\t\t\t\tvar opts = Array.prototype.slice.call(this.optionsList.querySelectorAll('li'));\n\t\t\t\topts.forEach(function(el, i) {\n\t\t\t\t\tel.addEventListener('click', function(ev) {\n\t\t\t\t\t\tconsole.log('clicked an item');\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tconsole.log(el);\n\t\t\t\t\t\tconsole.log(opts.indexOf(el));\n\t\t\t\t\t\tself.close(el, opts.indexOf(el));\n\t\t\t\t\t});\n\t\t\t\t\tel.addEventListener('touchstart', function(ev) {\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tself.close(el, opts.indexOf(el));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else if (this.type === 'input' && this.elOriginal.className === 'message') {\n\t\t\t\tthis.getinput.addEventListener('keypress', function(ev) {\n\t\t\t\t\tif (ev.which === 13) {\n\t\t\t\t\t\tvar content = this.value;\n\t\t\t\t\t\tvar caret = getCaret(this);\n\t\t\t\t\t\tif (ev.shiftKey) {\n\t\t\t\t\t\t\tthis.value = content + \"\\n\" + content.substring(caret, content.length);\n\t\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// this.value = content.substring(0, caret - 1) + content.substring(caret, content.length);\n\t\t\t\t\t\t\tconsole.log(this.value);\n\t\t\t\t\t\t\tthis.value = this.value.replace(/(?:\\r\\n|\\r|\\n)/g, '<br>');\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.inputsubmit.addEventListener('click', function(ev) {\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tself.close();\n\t\t\t\t});\n\t\t\t\tthis.inputsubmit.addEventListener('touchstart', function(ev) {\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tself.close();\n\t\t\t\t});\n\t\t\t} else if (this.type === 'input') {\n\t\t\t\tthis.getinput.addEventListener('keypress', function(ev) {\n\t\t\t\t\tif (ev.which === 13) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.inputsubmit.addEventListener('click', function(ev) {\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tself.close();\n\t\t\t\t});\n\t\t\t\tthis.inputsubmit.addEventListener('touchstart', function(ev) {\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tself.close();\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\t\t_open: function() {\n\t\t\tif (this.open) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.open = true;\n\t\t\tthis.form.fldOpen = this.pos;\n\t\t\tvar self = this;\n\t\t\tconsole.log(this);\n\t\t\t\n\t\t\tconsole.log(this.elOriginal.type);\n\t\t\tif (this.elOriginal.type === 'select-one') {\n\t\t\t\tconsole.log('its dropdown')\n\t\t\t\t$('.selection').addClass('open');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.fld.className += ' formField-open';\n\t\t\t}\n\t\t\tif (this.elOriginal.className === 'message') {\n\t\t\t\t$('.formField-open textarea').val(this.elOriginal.value.replace(/<br\\s*[\\/]?>/gi, \"\\n\"));\n\t\t\t\tconsole.log(this.elOriginal.value);\n\t\t\t\t$('.formField-open textarea').focus();\n\n\t\t\t\t$('.formField-open textarea').attr('placeholder', '');\n\t\t\t\tconsole.log(this);\n\n\t\t\t} else {\n\t\t\t\t$('.formField-open input').focus();\n\t\t\t}\n\t\t\t$('.formOverlay').addClass('open');\n\t\t},\n\t\tclose: function(opt, idx) {\n\t\t\tif (!this.open) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.open = false;\n\t\t\tthis.form.fldOpen = -1;\n\t\t\t\n\t\t\t$('.formOverlay').removeClass('open');\n\t\t\tif (this.type === 'dropdown') {\n\t\t\t\t$('.selection').removeClass('open');\n\t\t\t\tif (opt) {\n\t\t\t\t\t\n\t\t\t\t\tvar selectedopt = this.optionsList.children[this.selectedIdx];\n\t\t\t\t\tselectedopt.className = '';\n\t\t\t\t\topt.className = 'checked';\n\t\t\t\t\tthis.toggle.innerHTML = opt.innerHTML;\n\t\t\t\t\t// update selected index value\n\t\t\t\t\tthis.selectedIdx = idx;\n\t\t\t\t\t// update original select element´s value\n\t\t\t\t\tthis.elOriginal.value = this.elOriginal.children[this.selectedIdx].value;\n\t\t\t\t}\n\t\t\t} else if (this.type === 'input') {\n\t\t\t\tthis.fld.className = this.fld.className.replace(/\\b formField-open\\b/, '');\n\t\t\t\tthis.getinput.blur();\n\t\t\t\tthis.toggle.innerHTML = this.getinput.value.trim() !== '' ? this.getinput.value : this.getinput.getAttribute('placeholder');\n\t\t\t\tthis.elOriginal.value = this.getinput.value;\n\t\t\t\tconsole.log(this.elOriginal.value)\n\t\t\t\tif (this.elOriginal.value === '') {\n\t\t\t\t\tconsole.log('its blank');\n\t\t\t\t\t$('.textarea .formField-toggle').text('___________________________________________________');\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t}\n\n\t// add to global namespace\n\twindow.NLForm = NLForm;\n\n\tfunction getCaret(el) {\n\t\tif (el.selectionStart) {\n\t\t\treturn el.selectionStart;\n\t\t} else if (document.selection) {\n\t\t\tel.focus();\n\t\t\tvar r = document.selection.createRange();\n\t\t\tif (r == null) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tvar re = el.createTextRange(),\n\t\t\t\trc = re.duplicate();\n\t\t\tre.moveToBookmark(r.getBookmark());\n\t\t\trc.setEndPoint('EndToStart', re);\n\t\t\treturn rc.text.length;\n\t\t}\n\t\treturn 0;\n\t}\n\n})(window);"],"sourceRoot":"/source/"}