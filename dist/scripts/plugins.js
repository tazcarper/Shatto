!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Layzr=e()}(this,function(){"use strict";function t(t){this._lastScroll=0,this._ticking=!1,t=t||{},this._optionsContainer=document.querySelector(t.container)||window,this._optionsSelector=t.selector||"[data-layzr]",this._optionsAttr=t.attr||"data-layzr",this._optionsAttrRetina=t.retinaAttr||"data-layzr-retina",this._optionsAttrBg=t.bgAttr||"data-layzr-bg",this._optionsAttrHidden=t.hiddenAttr||"data-layzr-hidden",this._optionsThreshold=t.threshold||0,this._optionsCallback=t.callback||null,this._retina=window.devicePixelRatio>1,this._srcAttr=this._retina?this._optionsAttrRetina:this._optionsAttr,this._nodes=document.querySelectorAll(this._optionsSelector),this._handlerBind=this._requestScroll.bind(this),this._create()}return t.prototype._requestScroll=function(){this._optionsContainer===window?this._lastScroll=window.pageYOffset:this._lastScroll=this._optionsContainer.scrollTop+this._getOffset(this._optionsContainer),this._requestTick()},t.prototype._requestTick=function(){this._ticking||(requestAnimationFrame(this.update.bind(this)),this._ticking=!0)},t.prototype._getOffset=function(t){return t.getBoundingClientRect().top+window.pageYOffset},t.prototype._getContainerHeight=function(){return this._optionsContainer.innerHeight||this._optionsContainer.offsetHeight},t.prototype._create=function(){this._handlerBind(),this._optionsContainer.addEventListener("scroll",this._handlerBind,!1),this._optionsContainer.addEventListener("resize",this._handlerBind,!1)},t.prototype._destroy=function(){this._optionsContainer.removeEventListener("scroll",this._handlerBind,!1),this._optionsContainer.removeEventListener("resize",this._handlerBind,!1)},t.prototype._inViewport=function(t){var e=this._lastScroll,n=e+this._getContainerHeight(),o=this._getOffset(t),a=o+this._getContainerHeight(),i=this._optionsThreshold/100*window.innerHeight;return a>=e-i&&n+i>=o&&!t.hasAttribute(this._optionsAttrHidden)},t.prototype._reveal=function(t){var e=t.getAttribute(this._srcAttr)||t.getAttribute(this._optionsAttr);t.hasAttribute(this._optionsAttrBg)?t.style.backgroundImage="url("+e+")":t.setAttribute("src",e),"function"==typeof this._optionsCallback&&this._optionsCallback.call(t),t.removeAttribute(this._optionsAttr),t.removeAttribute(this._optionsAttrRetina),t.removeAttribute(this._optionsAttrBg),t.removeAttribute(this._optionsAttrHidden)},t.prototype.updateSelector=function(){this._nodes=document.querySelectorAll(this._optionsSelector)},t.prototype.update=function(){for(var t=this._nodes.length,e=0;t>e;e++){var n=this._nodes[e];n.hasAttribute(this._optionsAttr)&&this._inViewport(n)&&this._reveal(n)}this._ticking=!1},t}),+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var o=n&&t(n);return o&&o.length?o:e.parent()}function n(n){n&&3===n.which||(t(a).remove(),t(i).each(function(){var o=t(this),a=e(o),i={relatedTarget:this};a.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(a[0],n.target)||(a.trigger(n=t.Event("hide.bs.dropdown",i)),n.isDefaultPrevented()||(o.attr("aria-expanded","false"),a.removeClass("open").trigger("hidden.bs.dropdown",i))))}))}function o(e){return this.each(function(){var n=t(this),o=n.data("bs.dropdown");o||n.data("bs.dropdown",o=new r(this)),"string"==typeof e&&o[e].call(n)})}var a=".dropdown-backdrop",i='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.5",r.prototype.toggle=function(o){var a=t(this);if(!a.is(".disabled, :disabled")){var i=e(a),r=i.hasClass("open");if(n(),!r){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(i.trigger(o=t.Event("show.bs.dropdown",s)),o.isDefaultPrevented())return;a.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},r.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var o=t(this);if(n.preventDefault(),n.stopPropagation(),!o.is(".disabled, :disabled")){var a=e(o),r=a.hasClass("open");if(!r&&27!=n.which||r&&27==n.which)return 27==n.which&&a.find(i).trigger("focus"),o.trigger("click");var s=" li:not(.disabled):visible a",l=a.find(".dropdown-menu"+s);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",i,r.prototype.toggle).on("keydown.bs.dropdown.data-api",i,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,o=this;t(this).one("bsTransitionEnd",function(){n=!0});var a=function(){n||t(o).trigger(t.support.transition.end)};return setTimeout(a,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){var n,o=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function n(e){return this.each(function(){var n=t(this),a=n.data("bs.collapse"),i=t.extend({},o.DEFAULTS,n.data(),"object"==typeof e&&e);!a&&i.toggle&&/show|hide/.test(e)&&(i.toggle=!1),a||n.data("bs.collapse",a=new o(this,i)),"string"==typeof e&&a[e]()})}var o=function(e,n){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.5",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,a=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(a&&a.length&&(e=a.data("bs.collapse"),e&&e.transitioning))){var i=t.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){a&&a.length&&(n.call(a,"hide"),e||a.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[r](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(o.TRANSITION_DURATION):a.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,o){var a=t(o);this.addAriaAndCollapsedClass(e(a),a)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var a=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=a,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var a=t(this);a.attr("data-target")||o.preventDefault();var i=e(a),r=i.data("bs.collapse"),s=r?"toggle":a.data();n.call(i,s)})}(jQuery),function(){"use strict";function t(o){if(!o)throw new Error("No options passed to Waypoint constructor");if(!o.element)throw new Error("No element option passed to Waypoint constructor");if(!o.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,e+=1}var e=0,n={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in n)e.push(n[o]);for(var a=0,i=e.length;i>a;a++)e[a][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=a.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,n+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,o={},a=window.Waypoint,i=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,a.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||a.isTouch)&&(e.didScroll=!0,a.requestAnimationFrame(t))})},e.prototype.handleResize=function(){a.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in e){var o=e[n],a=o.newScroll>o.oldScroll,i=a?o.forward:o.backward;for(var r in this.waypoints[n]){var s=this.waypoints[n][r],l=o.oldScroll<s.triggerPoint,c=o.newScroll>=s.triggerPoint,u=l&&c,p=!l&&!c;(u||p)&&(s.queueTrigger(i),t[s.group.id]=s.group)}}for(var d in t)t[d].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?a.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?a.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var o=0,a=t.length;a>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,n=e?void 0:this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:n.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:n.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var i in t){var r=t[i];for(var s in this.waypoints[i]){var l,c,u,p,d,h=this.waypoints[i][s],f=h.options.offset,g=h.triggerPoint,y=0,j=null==g;h.element!==h.element.window&&(y=h.adapter.offset()[r.offsetProp]),"function"==typeof f?f=f.apply(h):"string"==typeof f&&(f=parseFloat(f),h.options.offset.indexOf("%")>-1&&(f=Math.ceil(r.contextDimension*f/100))),l=r.contextScroll-r.contextOffset,h.triggerPoint=y+l-f,c=g<r.oldScroll,u=h.triggerPoint>=r.oldScroll,p=c&&u,d=!c&&!u,!j&&p?(h.queueTrigger(r.backward),o[h.group.id]=h.group):!j&&d?(h.queueTrigger(r.forward),o[h.group.id]=h.group):j&&r.oldScroll>=h.triggerPoint&&(h.queueTrigger(r.forward),o[h.group.id]=h.group)}}return a.requestAnimationFrame(function(){for(var t in o)o[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){i&&i(),e.refreshAll()},a.requestAnimationFrame=function(e){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;n.call(window,e)},a.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function n(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},a=window.Waypoint;n.prototype.add=function(t){this.waypoints.push(t)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var o=this.triggerQueues[n],a="up"===n||"left"===n;o.sort(a?e:t);for(var i=0,r=o.length;r>i;i+=1){var s=o[i];(s.options.continuous||i===o.length-1)&&s.trigger([n])}}this.clearTriggerQueues()},n.prototype.next=function(e){this.waypoints.sort(t);var n=a.Adapter.inArray(e,this.waypoints),o=n===this.waypoints.length-1;return o?null:this.waypoints[n+1]},n.prototype.previous=function(e){this.waypoints.sort(t);var n=a.Adapter.inArray(e,this.waypoints);return n?this.waypoints[n-1]:null},n.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},n.prototype.remove=function(t){var e=a.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(t){return o[t.axis][t.name]||new n(t)},a.Group=n}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,n=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,n){t.prototype[n]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[n].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(n,o){t[o]=e[o]}),n.adapters.push({name:"jquery",Adapter:t}),n.Adapter=t}(),function(){"use strict";function t(t){return function(){var n=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var a=t.extend({},o,{element:this});"string"==typeof a.context&&(a.context=t(this).closest(a.context)[0]),n.push(new e(a))}),n}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();var outdatedBrowser=function(t){function e(t){s.style.opacity=t/100,s.style.filter="alpha(opacity="+t+")"}function n(t){e(t),1==t&&(s.style.display="block"),100==t&&(l=!0)}function o(){var t=document.getElementById("btnCloseUpdateBrowser"),e=document.getElementById("btnUpdateBrowser");s.style.backgroundColor=bkgColor,s.style.color=txtColor,s.children[0].style.color=txtColor,s.children[1].style.color=txtColor,e.style.color=txtColor,e.style.borderColor&&(e.style.borderColor=txtColor),t.style.color=txtColor,t.onmousedown=function(){return s.style.display="none",!1},e.onmouseover=function(){this.style.color=bkgColor,this.style.backgroundColor=txtColor},e.onmouseout=function(){this.style.color=txtColor,this.style.backgroundColor=bkgColor}}function a(){var t=!1;if(window.XMLHttpRequest)t=new XMLHttpRequest;else if(window.ActiveXObject)try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}}return t}function i(t){var e=a();return e&&(e.onreadystatechange=function(){r(e)},e.open("GET",t,!0),e.send(null)),!1}function r(t){var e=document.getElementById("outdated");return 4==t.readyState&&(200==t.status||304==t.status?e.innerHTML=t.responseText:e.innerHTML=p,o()),!1}var s=document.getElementById("outdated");this.defaultOpts={bgColor:"#f25648",color:"#ffffff",lowerThan:"transform",languagePath:"../outdatedbrowser/lang/en.html"},t?("IE8"==t.lowerThan||"borderSpacing"==t.lowerThan?t.lowerThan="borderSpacing":"IE9"==t.lowerThan||"boxShadow"==t.lowerThan?t.lowerThan="boxShadow":"IE10"==t.lowerThan||"transform"==t.lowerThan||""==t.lowerThan||"undefined"==typeof t.lowerThan?t.lowerThan="transform":("IE11"==t.lowerThan||"borderImage"==t.lowerThan)&&(t.lowerThan="borderImage"),this.defaultOpts.bgColor=t.bgColor,this.defaultOpts.color=t.color,this.defaultOpts.lowerThan=t.lowerThan,this.defaultOpts.languagePath=t.languagePath,bkgColor=this.defaultOpts.bgColor,txtColor=this.defaultOpts.color,cssProp=this.defaultOpts.lowerThan,languagePath=this.defaultOpts.languagePath):(bkgColor=this.defaultOpts.bgColor,txtColor=this.defaultOpts.color,cssProp=this.defaultOpts.lowerThan,languagePath=this.defaultOpts.languagePath);var l=!0,c=function(){var t=document.createElement("div"),e="Khtml Ms O Moz Webkit".split(" "),n=e.length;return function(o){if(o in t.style)return!0;for(o=o.replace(/^[a-z]/,function(t){return t.toUpperCase()});n--;)if(e[n]+o in t.style)return!0;return!1}}();if(!c(""+cssProp)){if(l&&"1"!==s.style.opacity){l=!1;for(var u=1;100>=u;u++)setTimeout(function(t){return function(){n(t)}}(u),8*u)}" "===languagePath||0==languagePath.length?o():i(languagePath);var p='<h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>'}},$event=$.event,$special,resizeTimeout;$special=$event.special.debouncedresize={setup:function(){$(this).on("resize",$special.handler)},teardown:function(){$(this).off("resize",$special.handler)},handler:function(t,e){var n=this,o=arguments,a=function(){t.type="debouncedresize",$event.dispatch.apply(n,o)};resizeTimeout&&clearTimeout(resizeTimeout),e?a():resizeTimeout=setTimeout(a,$special.threshold)},threshold:250};var BLANK="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";$.fn.imagesLoaded=function(t){function e(){var e=$(l),n=$(c);a&&(c.length?a.reject(r,e,n):a.resolve(r)),$.isFunction(t)&&t.call(o,r,e,n)}function n(t,n){t.src!==BLANK&&-1===$.inArray(t,s)&&(s.push(t),n?c.push(t):l.push(t),$.data(t,"imagesLoaded",{isBroken:n,src:t.src}),i&&a.notifyWith($(t),[n,r,$(l),$(c)]),r.length===s.length&&(setTimeout(e),r.unbind(".imagesLoaded")))}var o=this,a=$.isFunction($.Deferred)?$.Deferred():0,i=$.isFunction(a.notify),r=o.find("img").add(o.filter("img")),s=[],l=[],c=[];return $.isPlainObject(t)&&$.each(t,function(e,n){"callback"===e?t=n:a&&a[e](n)}),r.length?r.bind("load.imagesLoaded error.imagesLoaded",function(t){n(t.target,"error"===t.type)}).each(function(t,e){var o=e.src,a=$.data(e,"imagesLoaded");return a&&a.src===o?void n(e,a.isBroken):e.complete&&void 0!==e.naturalWidth?void n(e,0===e.naturalWidth||0===e.naturalHeight):void((e.readyState||e.complete)&&(e.src=BLANK,e.src=o))}):e(),a?a.promise(o):o};var Grid=function(){function t(t){x=$.extend(!0,{},x,t),u.imagesLoaded(function(){n(!0),i(),o()})}function e(t){p=p.add(t),t.each(function(){var t=$(this);t.data({offsetTop:t.offset().top,height:t.height()})}),a(t)}function n(t){p.each(function(){var e=$(this);e.data("offsetTop",e.offset().top),t&&e.data("height",e.height())})}function o(){a(p),y.on("debouncedresize",function(){f=0,h=-1,n(),i();var t=$.data(this,"preview");"undefined"!=typeof t&&s()})}function a(t){t.on("click","span.og-close",function(){return s(),!1}).children("a").on("click",function(t){var e=$(this).parent();return d===e.index()?s():r(e),!1})}function i(){c={width:y.width(),height:y.height()}}function r(t){var e=$.data(this,"preview"),n=t.data("offsetTop");if(f=0,"undefined"!=typeof e){if(h===n)return e.update(t),!1;n>h&&(f=e.height),s()}h=n,e=$.data(this,"preview",new l(t)),e.open()}function s(){d=-1;var t=$.data(this,"preview");t.close(),$.removeData(this,"preview")}function l(t){this.$item=t,this.expandedIdx=this.$item.index(),this.create(),this.update()}var c,u=$("#og-grid"),p=u.children("li"),d=-1,h=-1,f=0,g=10,y=$(window),j=$("html, body"),m={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},v=m[Modernizr.prefixed("transition")],w=Modernizr.csstransitions,x={minHeight:500,speed:350,easing:"ease"};return l.prototype={create:function(){this.$title=$("<h3></h3>"),this.$description=$("<p></p>"),this.$href=$(""),this.$details=$('<div class="og-details"></div>').append(this.$title,this.$description,this.$href),this.$loading=$('<div class="og-loading"></div>'),this.$fullimage=$('<div class="og-fullimg"></div>').append(this.$loading),this.$closePreview=$('<span class="og-close"></span>'),this.$previewInner=$('<div class="og-expander-inner"></div>').append(this.$closePreview,this.$fullimage,this.$details),this.$previewEl=$('<div class="og-expander"></div>').append(this.$previewInner),this.$item.append(this.getEl()),w&&this.setTransition()},update:function(t){if(t&&(this.$item=t),-1!==d){var e=p.eq(d);e.removeClass("og-expanded"),this.$item.addClass("og-expanded"),this.positionPreview()}d=this.$item.index();var n=this.$item.children("a"),o={href:n.attr("href"),largesrc:n.data("largesrc"),title:n.data("title"),description:n.data("description")};this.$title.html(o.title),this.$description.html(o.description),this.$href.attr("href",o.href);var a=this;"undefined"!=typeof a.$largeImg&&a.$largeImg.remove(),a.$fullimage.is(":visible")&&(this.$loading.show(),$("<img/>").load(function(){var t=$(this);t.attr("src")===a.$item.children("a").data("largesrc")&&(a.$loading.hide(),a.$fullimage.find("img").remove(),a.$largeImg=t.fadeIn(350),a.$fullimage.append(a.$largeImg))}).attr("src",o.largesrc))},open:function(){setTimeout($.proxy(function(){this.setHeights(),this.positionPreview()},this),25)},close:function(){var t=this,e=function(){w&&$(this).off(v),t.$item.removeClass("og-expanded"),t.$previewEl.remove()};return setTimeout($.proxy(function(){"undefined"!=typeof this.$largeImg&&this.$largeImg.fadeOut("fast"),this.$previewEl.css("height",0);var t=p.eq(this.expandedIdx);t.css("height",t.data("height")).on(v,e),w||e.call()},this),25),!1},calcHeight:function(){var t=c.height-this.$item.data("height")-g,e=c.height;t<x.minHeight&&(t=x.minHeight,e=x.minHeight+this.$item.data("height")+g),this.height=t,this.itemHeight=e},setHeights:function(){var t=this,e=function(){w&&t.$item.off(v),t.$item.addClass("og-expanded")};this.calcHeight(),this.$previewEl.css("height",this.height),this.$item.css("height",this.itemHeight).on(v,e),w||e.call()},positionPreview:function(){var t=this.$item.data("offsetTop"),e=this.$previewEl.offset().top-f,n=this.height+this.$item.data("height")+g<=c.height?t:this.height<c.height?e-(c.height-this.height):e;j.animate({scrollTop:n},x.speed)},setTransition:function(){this.$previewEl.css("transition","height "+x.speed+"ms "+x.easing),this.$item.css("transition","height "+x.speed+"ms "+x.easing)},getEl:function(){return this.$previewEl}},{init:t,addItems:e}}();!function(t){"use strict";function e(t){this.el=t,this.overlay=this.el.querySelector(".formOverlay"),this.fields=[],this.fldOpen=-1,this._init()}function n(t,e,n,o){this.form=t,this.elOriginal=e,this.pos=o,this.type=n,this._create(),this._initEvents()}function o(t){if(t.selectionStart)return t.selectionStart;if(a.selection){t.focus();var e=a.selection.createRange();if(null==e)return 0;var n=t.createTextRange(),o=n.duplicate();return n.moveToBookmark(e.getBookmark()),o.setEndPoint("EndToStart",n),o.text.length}return 0}var a=t.document;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),e.prototype={_init:function(){var t=this;Array.prototype.slice.call(this.el.querySelectorAll("select")).forEach(function(e,o){t.fldOpen++,t.fields.push(new n(t,e,"dropdown",t.fldOpen))}),Array.prototype.slice.call(this.el.querySelectorAll("input")).forEach(function(e,o){t.fldOpen++,t.fields.push(new n(t,e,"input",t.fldOpen))}),this.overlay.addEventListener("click",function(e){t._closeFlds()}),this.overlay.addEventListener("touchstart",function(e){t._closeFlds()})},_closeFlds:function(){-1!==this.fldOpen&&this.fields[this.fldOpen].close()}},n.prototype={_create:function(){"dropdown"===this.type?this._createDropDown():"input"===this.type&&this._createInput()},_createDropDown:function(){var t=this;this.fld=a.createElement("div"),this.fld.className="formField formDropdown",this.toggle=a.createElement("a"),this.toggle.innerHTML=this.elOriginal.options[this.elOriginal.selectedIndex].innerHTML,this.toggle.className="formField-toggle",this.optionsList=a.createElement("ul");var e="";Array.prototype.slice.call(this.elOriginal.querySelectorAll("option")).forEach(function(n,o){e+=t.elOriginal.selectedIndex===o?'<li class="formDropdown-checked">'+n.innerHTML+"</li>":"<li>"+n.innerHTML+"</li>",t.elOriginal.selectedIndex===o&&(t.selectedIdx=o)}),this.optionsList.innerHTML=e,this.optionsList.className="custom_dropdown",this.ddContainer=a.createElement("div"),this.ddContainer.className="selection",this.fld.appendChild(this.toggle),this.ddContainer.appendChild(this.optionsList),this.elOriginal.parentNode.insertBefore(this.fld,this.elOriginal),this.fld.parentNode.insertBefore(this.ddContainer,this.fld),this.elOriginal.style.display="none"},_createInput:function(){console.log(this),this.fld=a.createElement("div"),"message"===this.elOriginal.className?this.fld.className="formField userMsg textarea":this.fld.className="formField userMsg",this.toggle=a.createElement("a"),this.toggle.innerHTML=this.elOriginal.getAttribute("placeholder"),this.toggle.className="formField-toggle",this.optionsList=a.createElement("ul"),"message"===this.elOriginal.className?(this.getinput=a.createElement("textarea"),this.getinput.className="common"):(this.getinput=a.createElement("input"),this.getinput.setAttribute("type","text")),this.getinput.setAttribute("placeholder",this.elOriginal.getAttribute("placeholder")),this.getinputWrapper=a.createElement("li"),this.getinputWrapper.className="nl-ti-input","message"===this.elOriginal.className?(this.inputsubmit=a.createElement("span"),this.inputsubmit.className="formField-go icon-checkmark bottom"):(this.inputsubmit=a.createElement("span"),this.inputsubmit.className="formField-go icon-checkmark"),this.getinputWrapper.appendChild(this.getinput),this.getinputWrapper.appendChild(this.inputsubmit),this.optionsList.appendChild(this.getinputWrapper),this.fld.appendChild(this.toggle),this.fld.appendChild(this.optionsList),this.elOriginal.parentNode.insertBefore(this.fld,this.elOriginal),this.elOriginal.style.display="none"},_initEvents:function(){var t=this;if(this.toggle.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t._open()}),this.toggle.addEventListener("touchstart",function(e){e.preventDefault(),e.stopPropagation(),t._open()}),"dropdown"===this.type){var e=Array.prototype.slice.call(this.optionsList.querySelectorAll("li"));e.forEach(function(n,o){n.addEventListener("click",function(o){console.log("clicked an item"),o.preventDefault(),console.log(n),console.log(e.indexOf(n)),t.close(n,e.indexOf(n))}),n.addEventListener("touchstart",function(o){o.preventDefault(),t.close(n,e.indexOf(n))})})}else"input"===this.type&&"message"===this.elOriginal.className?(this.getinput.addEventListener("keypress",function(e){if(13===e.which){var n=this.value,a=o(this);e.shiftKey?(this.value=n+"\n"+n.substring(a,n.length),e.stopPropagation()):(console.log(this.value),this.value=this.value.replace(/(?:\r\n|\r|\n)/g,"<br>"),t.close())}}),this.inputsubmit.addEventListener("click",function(e){e.preventDefault(),t.close()}),this.inputsubmit.addEventListener("touchstart",function(e){e.preventDefault(),t.close()})):"input"===this.type&&(this.getinput.addEventListener("keypress",function(e){13===e.which&&t.close()}),this.inputsubmit.addEventListener("click",function(e){e.preventDefault(),t.close()}),this.inputsubmit.addEventListener("touchstart",function(e){e.preventDefault(),t.close()}))},_open:function(){if(this.open)return!1;this.open=!0,this.form.fldOpen=this.pos;console.log(this),console.log(this.elOriginal.type),"select-one"===this.elOriginal.type?(console.log("its dropdown"),$(".selection").addClass("open")):this.fld.className+=" formField-open","message"===this.elOriginal.className?($(".formField-open textarea").val(this.elOriginal.value.replace(/<br\s*[\/]?>/gi,"\n")),console.log(this.elOriginal.value),$(".formField-open textarea").focus(),$(".formField-open textarea").attr("placeholder",""),console.log(this)):$(".formField-open input").focus(),$(".formOverlay").addClass("open")},close:function(t,e){if(!this.open)return!1;
if(this.open=!1,this.form.fldOpen=-1,$(".formOverlay").removeClass("open"),"dropdown"===this.type){if($(".selection").removeClass("open"),t){var n=this.optionsList.children[this.selectedIdx];n.className="",t.className="checked",this.toggle.innerHTML=t.innerHTML,this.selectedIdx=e,this.elOriginal.value=this.elOriginal.children[this.selectedIdx].value}}else"input"===this.type&&(this.fld.className=this.fld.className.replace(/\b formField-open\b/,""),this.getinput.blur(),this.toggle.innerHTML=""!==this.getinput.value.trim()?this.getinput.value:this.getinput.getAttribute("placeholder"),this.elOriginal.value=this.getinput.value,console.log(this.elOriginal.value),""===this.elOriginal.value&&(console.log("its blank"),$(".textarea .formField-toggle").text("___________________________________________________")))}},t.NLForm=e}(window),function(t){var e=function(e,n){var o={controller:null};return o.options=t.extend(!0,{items_box:".list",item_path:".list-item",panel_path:".panel",no_results:".jplist-no-results",redraw_callback:"",animate_to_top:"",animate_to_top_duration:1e3,ask_event:"jplist.ask",answer_event:"jplist.answer",force_ask_event:"jplist.forceAsk",restore_event:"jplist.restore",status_event:"jplist.status",rebuild_panel_event:"jplist.rebuildPanel",sort_event:"jplist.sort",filter_event:"jplist.filter",pagination_event:"jplist.pagination",change_url_deep_links_event:"jplist.changeUrlDeepLinks",set_deep_links_event:"jplist.setDeepLinks",add_item_event:"jplist.addItem",del_item_event:"jplist.delItem",collection_ready_event:"jplist.collectionReady",cookies:!1,expiration:-1,cookie_name:"jplist",deep_linking:!1,dataSource:{type:"html",server:{ajax:{url:"server.php",dataType:"html",type:"POST"},serverOkCallback:null,serverErrorCallback:null,preloaderPath:".preloader"},jsFunction:{jsFunctionName:null,preloaderPath:".preloader",options:{}}},control_types:{"default-sort":{class_name:"DefaultSort",options:{}},"drop-down":{class_name:"Dropdown",options:{}},label:{class_name:"Label",options:{}},counter:{class_name:"Counter",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},placeholder:{class_name:"Placeholder",options:{paging_length:7,jump_to_start:!1,prev_arrow:"&lt;",next_arrow:"&gt;",first_arrow:"&lt;&lt;",last_arrow:"&gt;&gt;"}},reset:{class_name:"Reset",options:{}},select:{class_name:"Select",options:{}},textbox:{class_name:"Textbox",options:{eventName:"keyup",ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},views:{class_name:"Views",options:{}},"checkbox-filters":{class_name:"CheckboxFilter",options:{}},"checkbox-group-filter":{class_name:"CheckboxGroupFilter",options:{}},"checkbox-text-filter":{class_name:"CheckboxTextFilter",options:{ignore:""}},"button-filter":{class_name:"ButtonFilter",options:{}},"button-filter-group":{class_name:"ButtonFilterGroup",options:{}},"button-text-filter":{class_name:"ButtonTextFilter",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},"button-text-filter-group":{class_name:"ButtonTextFilterGroup",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},"radio-buttons-filters":{class_name:"RadioButtonsFilter",options:{}},"range-filter":{class_name:"RangeSliderToggleFilter",options:{}}}},e),o.controller=new t.fn.jplist.controller.Controller(n,o.options),t.extend(this,o)};t.fn.jplist=function(n){return this.each(function(){var o=new e(n,t(this));t(this).data("jplist",o)})},t.fn.jplist.models=t.fn.jplist.models||{},t.fn.jplist.services=t.fn.jplist.services||{},t.fn.jplist.view=t.fn.jplist.view||{},t.fn.jplist.actions=t.fn.jplist.actions||{},t.fn.jplist.controller=t.fn.jplist.controller||{},t.fn.jplist.controls=t.fn.jplist.controls||{},t.fn.jplist.addons=t.fn.jplist.addons||{}}(jQuery),function(t){var e=function(e,n,o){o={html:null,pathitems:[],jqElement:e,index:o},o.html=jQuery.fn.jplist.services.Helper.getOuterHtml(e);var a,i;e=[];for(var r=0;r<n.length;r++)a=n[r],i=o.jqElement.find(a.jqPath),0<i.length&&(a=new jQuery.fn.jplist.models.Pathitem(i,a),e.push(a));return o.pathitems=e,t.extend(this,o)};e.prototype.findPathitem=function(t){for(var e,n=null,o=0;o<this.pathitems.length;o++)if(e=this.pathitems[o],jQuery.fn.jplist.services.Path.isPathsEqual(e.path,t,!0)){n=e;break}return n},jQuery.fn.jplist.models.Dataitem=function(t,n,o){t=new e(t,n,o),this.html=t.html,this.jqElement=t.jqElement,this.pathitems=t.pathitems,this.findPathitem=t.findPathitem}}(jQuery),function(t){jQuery.fn.jplist.models.Path=function(t,e){this.jqPath=t,this.dataType=e}}(jQuery),function(t){jQuery.fn.jplist.models.Pathitem=function(t,e){this.path=e,this.text=t.text(),this.html=t.html()}}(jQuery),function(t){jQuery.fn.jplist.models.Status=function(t,e,n,o,a,i){this.action=e,this.name=t,this.type=n,this.data=o,this.cookies=a,this.category=i}}(jQuery),function(t){jQuery.fn.jplist.services.Path={},jQuery.fn.jplist.services.Path.isPathInList=function(t,e){for(var n,o=!1,a=0;a<e.length;a++)if(n=e[a],jQuery.fn.jplist.services.Path.isPathsEqual(t,n,!0)){o=!0;break}return o},jQuery.fn.jplist.services.Path.isPathsEqual=function(t,e,n){var o=!1;return n?t.jqPath===e.jqPath&&(o=!0):t.jqPath===e.jqPath&&t.dataType===e.dataType&&(o=!0),o}}(jQuery),function(t){jQuery.fn.jplist.services.Status={},jQuery.fn.jplist.services.Status.findStatusByField=function(t,e,n){for(var o,a=-1,i=0;i<n.length;i++)if(o=n[i],o[e]===t[e]){a=i;break}return a},jQuery.fn.jplist.services.Status.getStatusesByAction=function(t,e){for(var n,o=[],a=0;a<e.length;a++)n=e[a],n.action===t&&o.push(n);return o},jQuery.fn.jplist.services.Status.getCategories=function(e){for(var n,o,a=[],i=0;i<e.length;i++)n=e[i],o=n.category?n.category:"nocategory",t.isArray(a[o])||(a[o]=[]),a[o].push(n);return a}}(jQuery),function(t){jQuery.fn.jplist.services.Cookies={},jQuery.fn.jplist.services.Cookies.setCookie=function(t,e,n){e=escape(e);var o=new Date;n=Number(n),-1==n||isNaN(n)?document.cookie=t+"="+e+";path=/;":(o.setMinutes(o.getMinutes()+n),document.cookie=t+"="+e+";path=/; expires="+o.toUTCString())},jQuery.fn.jplist.services.Cookies.getCookie=function(t){var e,n,o,a=null;o=document.cookie.split(";");for(var i=0;i<o.length;i++)if(e=o[i].substr(0,o[i].indexOf("=")),n=o[i].substr(o[i].indexOf("=")+1),e=e.replace(/^\s+|\s+$/g,""),e==t){a=unescape(n);break}return a},jQuery.fn.jplist.services.Cookies.saveCookies=function(t,e,n){t=JSON.stringify(t),jQuery.fn.jplist.services.Cookies.setCookie(e,t,n)},jQuery.fn.jplist.services.Cookies.restoreCookies=function(e){return e=jQuery.fn.jplist.services.Cookies.getCookie(e),(e=t.parseJSON(e))||(e=[]),e}}(jQuery),function(t){jQuery.fn.jplist.services.Helper={},jQuery.fn.jplist.services.Helper.getOuterHtml=function(t){var e="",n=t[0].attributes,o=t.html();t=t[0].tagName.toString().toLowerCase();for(var e=e+("<"+t),a=0;a<n.length;a++)n[a].nodeValue&&(e+=" "+n[a].nodeName+"=",e+='"'+n[a].nodeValue+'"');return e=e+">"+o,e+="</"+t+">"},jQuery.fn.jplist.services.Helper.replaceHash=function(e){e=t.trim(e.replace("#",""));var n;e=""===e?"#":"#"+e,window.location.hash!==e&&("replaceState"in window.history?window.history.replaceState("","",e):(n=window.location.href.indexOf("#"),e=-1==n?window.location.href+e:window.location.href.substring(0,n)+e,window.location.replace(e)))}}(jQuery),function(t){var e=function(e){return t(e.dataview).map(function(t,e){return e.jqElement.get()})},n=function(e){return t(e.dataitems).map(function(t,e){return e.jqElement.get()})},o=function(t,e){for(var n,o,a=-1,i=0;i<t.dataitems.length;i++)if(n=t.dataitems[i],n=jQuery.fn.jplist.services.Helper.getOuterHtml(n.jqElement),o=jQuery.fn.jplist.services.Helper.getOuterHtml(e),n===o){a=i;break}return a},a=function(t,e){var n;n=o(t,e),-1!==n&&(t.dataitems.splice(n,1),t.$jplistBox.trigger(t.options.del_item_event,[e,t.dataitems]))},i=function(e,n){n.each(function(){a(e,t(this))})},r=function(t,e,n,o){e=new jQuery.fn.jplist.models.Dataitem(e,n,o),t.dataitems.push(e),t.$jplistBox.trigger(t.options.add_item_event,[e,t.dataitems])},s=function(e,n,o){n.each(function(n){r(e,t(this),o,n)})},l=function(e,n){return t.extend(this,{dataitems:[],dataview:[],$jplistBox:e,options:n})};l.prototype.dataviewToJqueryObject=function(){return e(this)},l.prototype.dataitemsToJqueryObject=function(){return n(this)},l.prototype.resetDataview=function(){this.dataview=t.merge([],this.dataitems)},l.prototype.modifyDataview=function(e){t.isFunction(e)&&e(this.dataview)},l.prototype.empty=function(){this.dataitems=[],this.dataview=[]},l.prototype.addDataItem=function(t,e,n){r(this,t,e,n)},l.prototype.addDataItems=function(t,e){s(this,t,e)},l.prototype.delDataitem=function(t){a(this,t)},l.prototype.delDataitems=function(t){i(this,t)},l.prototype.indexOf=function(t){return o(this,t)},l.prototype.dataviewToString=function(){var t,e,n="";for(e=0;e<this.dataview.length;e++)t=this.dataview[e],n+=t.html;return n},jQuery.fn.jplist.services.Collection=function(t,e){var n;n=new l(t,e),this.$jplistBox=t,this.options=e,this.dataitems=n.dataitems,this.dataview=n.dataview,this.resetDataview=n.resetDataview,this.modifyDataview=n.modifyDataview,this.addDataItem=n.addDataItem,this.addDataItems=n.addDataItems,this.empty=n.empty,this.delDataitem=n.delDataitem,this.delDataitems=n.delDataitems,this.indexOf=n.indexOf,this.dataviewToString=n.dataviewToString,this.dataviewToJqueryObject=n.dataviewToJqueryObject,this.dataitemsToJqueryObject=n.dataitemsToJqueryObject}}(jQuery),function(t){jQuery.fn.jplist.services.Panel={},jQuery.fn.jplist.services.Panel.findControlsByNameAction=function(t,e,n){for(var o,a=[],i=0;i<t.length;i++)o=t[i],o.name===e&&o.action===n&&a.push(o);return a},jQuery.fn.jplist.services.Panel.findControlsByName=function(t,e){for(var n,o=[],a=0;a<t.length;a++)n=t[a],n.name===e&&o.push(n);return o},jQuery.fn.jplist.services.Panel.mergeIdenticalStatuses=function(e){for(var n,o,a,i=[],r=0;r<e.length;r++)(n=e[r])&&(o=jQuery.fn.jplist.services.Status.findStatusByField(n,"name",i),-1!==o?(a=i[o],a.action===n.action&&a.type!==n.type&&(n=t.extend(!0,{},n,i[o]),i[o]=n)):i.push(n));return i},jQuery.fn.jplist.services.Panel.mergeWithStatus=function(e,n){for(var o,a=0;a<e.length;a++)o=e[a],o.name===n.name&&o.action===n.action&&t.extend(!0,o,n);return e},jQuery.fn.jplist.services.Panel.getStatuses=function(e,n){for(var o,a,i,r=[],s=0;s<e.length;s++)o=e[s],(o=o.getStatus(n))&&(a=jQuery.fn.jplist.services.Status.findStatusByField(o,"name",r),-1!=a?(i=r[a],i.action==o.action&&i.type!=o.type&&t.extend(!0,r[a],o)):r.push(o));return r},jQuery.fn.jplist.services.Panel.setStatuses=function(t,e,n){for(var o,a,i=0;i<e.length;i++){o=e[i],a=jQuery.fn.jplist.services.Panel.findControlsByNameAction(t,o.name,o.action);for(var r=0;r<a.length;r++)a[r].setStatus(o,n)}},jQuery.fn.jplist.services.Panel.getPaths=function(t){for(var e,n,o=[],a=0;a<t.length;a++){e=t[a],e=e.getPaths();for(var i=0;i<e.length;i++)n=e[i],jQuery.fn.jplist.services.Path.isPathInList(n,o)||o.push(n)}return o}}(jQuery),function(t){jQuery.fn.jplist.actions.Pagination=function(t,e,n){n=Number(n),isNaN(n)&&(n=0),n=this.itemsNumber=n,null===e?e=n:(e=Number(e),isNaN(e)&&(e=n)),this.itemsOnPage=e,e=(e=this.itemsOnPage)?Math.ceil(this.itemsNumber/e):0,e=this.pagesNumber=e,t=Number(t),isNaN(t)&&(t=0),t>e-1&&(t=0),this.currentPage=t,this.start=this.currentPage*this.itemsOnPage,t=this.itemsNumber,e=this.start+this.itemsOnPage,e>t&&(e=t),this.end=e,t=this.currentPage,this.prevPage=0>=t?0:t-1,t=this.currentPage,e=this.pagesNumber,this.nextPage=0===e?0:t>=e-1?e-1:t+1}}(jQuery),function(t){jQuery.fn.jplist.actions.Filters={},jQuery.fn.jplist.actions.Filters.removeCharacters=function(t,e){return t?t.replace(RegExp(e,"ig"),"").toLowerCase():""},jQuery.fn.jplist.actions.Filters.pathFilter=function(t,e){for(var n,o,a=[],i=0;i<e.length;i++)n=e[i],"default"===t.jqPath?a.push(n):(o=n.findPathitem(t))&&a.push(n);return a},jQuery.fn.jplist.actions.Filters.pathGroupFilter=function(t,e){var n,o,a=[],i=[];if(0>=t.length)return e;for(o=0;o<t.length;o++)n=t[o],n=new jQuery.fn.jplist.models.Path(n,null),a.push(n);for(var r=0;r<e.length;r++){o=e[r];for(var s=0;s<a.length;s++){if(n=a[s],"default"===n.jqPath){i.push(o);break}(n=o.findPathitem(n))&&i.push(o)}}return i},jQuery.fn.jplist.actions.Filters.invertedPathFilter=function(t,e){for(var n,o,a=[],i=!1,r=0;r<e.length;r++)if(n=e[r],i=!1,t&&0<t.length){for(var s=0;s<t.length;s++)o=t.eq(s),o=o.attr("data-path").toString(),"default"==o?i=!0:(o=new jQuery.fn.jplist.models.Path(o,null),(o=n.findPathitem(o))&&(i=!0));i&&a.push(n)}return a},jQuery.fn.jplist.actions.Filters.textFilter=function(t,e,n,o){for(var a,i,r,s=[],l=0;l<n.length;l++)a=n[l],i=a.findPathitem(e),"default"===e.jqPath?s.push(a):i&&(i=jQuery.fn.jplist.actions.Filters.removeCharacters(i.text,o),r=jQuery.fn.jplist.actions.Filters.removeCharacters(t,o),-1!==i.indexOf(r)&&s.push(a));return s},jQuery.fn.jplist.actions.Filters.textFilterPathGroup=function(t,e,n){var o,a,i,r,s=[],l=[];for(r=0;r<t.length;r++)i=t[r],i.selected&&(o=i.path,a=new jQuery.fn.jplist.models.Path(o,null),i.pathObj=a,s.push(i));if(0>=s.length)return n;for(o=0;o<n.length;o++){t=n[o],r=!1;for(var c=0;c<s.length;c++)if(i=s[c],a=i.pathObj){if("default"===a.jqPath){r=!0;break}(a=t.findPathitem(a))&&(a=jQuery.fn.jplist.actions.Filters.removeCharacters(a.text,e),i=jQuery.fn.jplist.actions.Filters.removeCharacters(i.text,e),-1!==a.indexOf(i)&&(r=!0))}r&&l.push(t)}return l},jQuery.fn.jplist.actions.Filters.textGroupFilter=function(t,e,n,o,a){var i,r,s,l,c,u=[];if(0>=t.length)return a;s=new jQuery.fn.jplist.models.Path(n,null);for(var p=0;p<a.length;p++)if(n=a[p],r=n.findPathitem(s),"default"===s.jqPath)u.push(n);else if(r)if(r=jQuery.fn.jplist.actions.Filters.removeCharacters(r.text,o),"or"===e){for(c=0;c<t.length;c++)if(i=t[c],i=jQuery.fn.jplist.actions.Filters.removeCharacters(i,o),-1!==r.indexOf(i)){u.push(n);break}}else{for(l=[],c=0;c<t.length;c++)i=t[c],i=jQuery.fn.jplist.actions.Filters.removeCharacters(i,o),-1!==r.indexOf(i)&&l.push(i);l.length===t.length&&u.push(n)}return u},jQuery.fn.jplist.actions.Filters.dateFilter=function(t,e,n,o,a,i){for(var r,s,l=[],c=0;c<a.length;c++)r=a[c],(s=r.findPathitem(o))&&(t&&e&&n?(s=jQuery.fn.jplist.actions.Sort.formatDatetime(s.text,i))&&"function"==typeof s.getFullYear&&s.getFullYear()===t&&s.getMonth()-1===e&&s.getDate()===n&&l.push(r):l.push(r));return l},jQuery.fn.jplist.actions.Filters.pagerFilter=function(t,e){return e.slice(t.start,t.end)},jQuery.fn.jplist.actions.Filters.rangeFilter=function(e,n,o,a,i,r){o=[];for(var s,l=t.isNumeric(i),c=t.isNumeric(r),u=0;u<n.length;u++)a=n[u],(s=a.findPathitem(e))&&(s=Number(s.text.replace(/[^0-9\.]+/g,"")),isNaN(s)||(l&&c?s>=i&&r>=s&&o.push(a):l&&!c?s>=i&&o.push(a):!l&&c&&r>=s&&o.push(a)));return o},jQuery.fn.jplist.actions.Filters.dateRangeFilter=function(t,e,n,o,a,i,r,s,l){for(var c,u,p,d,h=[],f=0;f<e.length;f++)c=e[f],(u=c.findPathitem(t))&&(p=!o||!a||!i,d=!r||!s||!l,p||d?h.push(c):(d=jQuery.fn.jplist.actions.Sort.formatDatetime(u.text,n))&&"function"==typeof d.getFullYear&&(u=new Date(o,a,i),p=new Date(r,s,l),d.setHours(0),d.setMinutes(0),d.setSeconds(0),d>=u&&p>=d&&h.push(c)));return h},jQuery.fn.jplist.actions.Filters.autocompleteFilter=function(e,n,o,a,i){var r,s,l=[];if(t.isNumeric(e)&&t.isNumeric(n)&&google&&jQuery.fn.jlocator&&jQuery.fn.jlocator.store){e=new google.maps.LatLng(e,n);for(var c=0;c<a.length;c++)n=a[c],r=new jQuery.fn.jlocator.store(n.jqElement,{}),s=r.country?t.trim(r.country.toLowerCase())==t.trim(o.toLowerCase()):!1,r=google.maps.geometry.spherical.computeDistanceBetween(e,r.latlng),(i>=r||s)&&l.push(n);return l}return a}}(jQuery),function(t){jQuery.fn.jplist.actions.Sort={};var e=function(t,e){var n,o=null;return n=t.replace(/{year}|{month}|{day}|{hour}|{min}|{sec}/g,".*"),(n=RegExp(n,"g").exec(e))&&1<n.length&&(o=n[1]),o},n=function(t,e){var n=null;return"{month}"==t?(e=e.toLowerCase(),("january"===e||"jan"===e||"jan."===e)&&(n=0),("february"===e||"feb"===e||"feb."===e)&&(n=1),("march"===e||"mar"===e||"mar."===e)&&(n=2),("april"==e||"apr"===e||"apr."===e)&&(n=3),"may"===e&&(n=4),("july"==e||"jun"===e||"jun."===e)&&(n=5),("april"===e||"jul"===e||"jul."===e)&&(n=6),("august"===e||"aug"===e||"aug."===e)&&(n=7),("september"===e||"sep"===e||"sep."===e)&&(n=8),("october"===e||"oct"===e||"oct."===e)&&(n=9),("november"===e||"nov"===e||"nov."===e)&&(n=10),("december"===e||"dec"===e||"dec."===e)&&(n=11),null===n&&(n=parseInt(e,10),isNaN(n)||n--)):n=parseInt(e,10),n},o=function(t,e,n,o){return t=t.findPathitem(o),e=e.findPathitem(o),t&&e?(o=parseFloat(t.text.replace(/[^0-9\.]+/g,"")),e=parseFloat(e.text.replace(/[^0-9\.]+/g,"")),n=o==e?0:"asc"==n?isNaN(o)?1:isNaN(e)?-1:o-e:isNaN(o)?1:isNaN(e)?-1:e-o):0},a=function(t,e,n,o,a){return t=t.findPathitem(o),e=e.findPathitem(o),t&&e?(a?(o=RegExp(a,"ig"),a=t.text.toString().replace(o,"").toLowerCase(),t=e.text.toString().replace(o,"").toLowerCase()):(a=t.text.toString().toLowerCase(),t=e.text.toString().toLowerCase()),a==t?0:"asc"==n?a>t?1:-1:t>a?1:-1):0},i=function(e,n,o,a,i){return e=e.findPathitem(a),n=n.findPathitem(a),e&&n?(t.trim(i)?(a=jQuery.fn.jplist.actions.Sort.formatDatetime(e.text,i),i=jQuery.fn.jplist.actions.Sort.formatDatetime(n.text,i)):(a=new Date(Date.parse(e.text)),i=new Date(Date.parse(n.text))),a==i?0:"asc"==o?a>i?1:-1:i>a?1:-1):0},r=function(t,e,n,s){var l,c,u,p=0;if(0<n.length){if(l=n[s],"default"!=l.data.path)switch(c=new jQuery.fn.jplist.models.Path(l.data.path,l.data.type),u=l.data.order,l.data.dateTimeFormat||(l.data.dateTimeFormat=""),l.data.ignore||(l.data.ignore=""),l.data.type){case"text":p=a(t,e,u,c,l.data.ignore);break;case"number":p=o(t,e,u,c);break;case"datetime":p=i(t,e,u,c,l.data.dateTimeFormat);break;case"date":p=i(t,e,u,c,l.data.dateTimeFormat)}else p=t.index,l=e.index,p=p===l?0:isNaN(p)?1:isNaN(l)?-1:p-l;0===p&&s+1<n.length&&(p=r(t,e,n,s+1))}return p};jQuery.fn.jplist.actions.Sort.formatDatetime=function(t,o){var a,i,r,s,l,c;return o=o.replace(/\./g,"\\."),o=o.replace(/\(/g,"\\("),o=o.replace(/\)/g,"\\)"),o=o.replace(/\[/g,"\\["),o=o.replace(/\]/g,"\\]"),a=o.replace("{year}","(.*)"),(i=e(a,t))&&(i=n("{year}",i)),a=o.replace("{day}","(.*)"),(s=e(a,t))&&(s=n("{day}",s)),a=o.replace("{month}","(.*)"),(r=e(a,t))&&(r=n("{month}",r)),a=o.replace("{hour}","(.*)"),(l=e(a,t))&&(l=n("{hour}",l)),a=o.replace("{min}","(.*)"),(c=e(a,t))&&(c=n("{min}",c)),a=o.replace("{sec}","(.*)"),(a=e(a,t))&&(a=n("{sec}",a)),(!i||isNaN(i))&&(i=1900),(!r||isNaN(r))&&(r=0),(!s||isNaN(s))&&(s=1),(!l||isNaN(l))&&(l=0),(!c||isNaN(c))&&(c=0),(!a||isNaN(a))&&(a=0),new Date(i,r,s,l,c,a)},jQuery.fn.jplist.actions.Sort.doubleSort=function(t,e){e.sort(function(e,n){return r(e,n,t,0)})},jQuery.fn.jplist.actions.Sort.numbers=function(t,e,n){n.sort(function(n,a){return o(n,a,t,e)})},jQuery.fn.jplist.actions.Sort.text=function(t,e,n,o){n.sort(function(n,i){return a(n,i,t,e,o)})},jQuery.fn.jplist.actions.Sort.datetime=function(t,e,n,o){n.sort(function(n,a){return i(n,a,t,e,o)})}}(jQuery),function(t){var e=function(t,e){for(var n,o=[],a=0;a<e.length;a++)n=e.eq(a),n=new jQuery.fn.jplist.view.PanelControl(t.$jplistBox,t.options,n,t.events),o.push(n);return o},n=function(e){var n,o=t(window).scrollTop();n=Number(e.data("top")),isNaN(n)||(o>n?e.addClass("jplist-sticky"):e.removeClass("jplist-sticky"))},o=function(e,o){o.each(function(){var e=t(this),o=e.offset().top;e.data("top",o),n(e)}),t(window).scroll(function(){o.each(function(){n(t(this))})})},a=function(n){for(var o,a=0;a<n.controls.length;a++)o=n.controls[a],o.initEvents();n.$jplistBox.on(n.options.answer_event,function(t,e,o){jQuery.fn.jplist.services.Panel.setStatuses(n.controls,e,!1)}),n.$jplistBox.on(n.options.force_ask_event,function(t,e){var o;o=jQuery.fn.jplist.services.Panel.getStatuses(n.controls,e),n.$jplistBox.trigger(n.options.ask_event,[o])}),n.$jplistBox.on(n.options.restore_event,function(t,e){jQuery.fn.jplist.services.Panel.setStatuses(n.controls,e,!0),n.$jplistBox.trigger(n.options.ask_event,[e])}),n.$jplistBox.on(n.options.status_event,function(t,e){var o;o=jQuery.fn.jplist.services.Panel.getStatuses(n.controls,!1),o=jQuery.fn.jplist.services.Panel.mergeWithStatus(o,e),n.$jplistBox.trigger(n.options.ask_event,[o])}),n.$jplistBox.on(n.options.change_url_deep_links_event,function(e){if(n.options.deep_linking){e=n.controls;var o,a="",a=[];o="";for(var i=0;i<e.length;i++)o=e[i],o=t.trim(o.getDeepLink()),""!==o&&-1===t.inArray(o,a)&&a.push(o);a=a.join("~~"),jQuery.fn.jplist.services.Helper.replaceHash(a)}}),n.$jplistBox.on(n.options.set_deep_links_event,function(e){var o,a=t.trim(window.location.hash.replace("#","")),i=[];e=[];var r;if(n.options.deep_linking&&""!==t.trim(a))for(i=a.split("~~"),a=0;a<i.length;a++)o=i[a],r=o.split("="),2===r.length&&(o=r[0],r=r[1],o=o.split("--"),2===o.length&&(o={controlName:o[0],propName:o[1],propValue:r},e.push(o)));if(0>=e.length)n.$jplistBox.trigger(n.options.force_ask_event,[!0]);else{o=n.controls;for(var s,l,i=[],a=0;a<e.length;a++){r=e[a],s=jQuery.fn.jplist.services.Panel.findControlsByName(o,r.controlName);for(var c=0;c<s.length;c++)l=s[c],(l=l.getStatusByDeepLink(r.propName,r.propValue))&&i.push(l)}for(e=jQuery.fn.jplist.services.Panel.getStatuses(n.controls,!1),a=0;a<i.length;a++)jQuery.fn.jplist.services.Panel.mergeWithStatus(e,i[a]);n.$jplistBox.trigger(n.options.ask_event,[e])}}),n.$jplistBox.on(n.options.rebuild_panel_event,function(a,i){n.$controls=n.$panel.find("[data-control-type]"),n.controls=e(n,n.$controls),n.paths=jQuery.fn.jplist.services.Panel.getPaths(n.controls);for(var r=0;r<n.controls.length;r++)o=n.controls[r],o.initEvents();t.isFunction(i)&&i(n.$controls,n.controls,n.paths)})},i=function(n,i,r){return n={options:i,$jplistBox:n,$panel:n.find(i.panel_path),$controls:null,$sticky:null,events:r,paths:[],controls:[]},n.$controls=n.$panel.find("[data-control-type]"),n.controls=e(n,n.$controls),n.paths=jQuery.fn.jplist.services.Panel.getPaths(n.controls),n.$sticky=n.$jplistBox.find('[data-sticky="true"]'),0<n.$sticky.length&&o(n,n.$sticky),a(n),t.extend(this,n)};jQuery.fn.jplist.view.Panel=function(t,e,n){t=new i(t,e,n),this.paths=t.paths,this.controls=t.controls}}(jQuery),function(t){var e=function(e){var n;e.controlTypeClass&&(n=e.controlTypeClass.render)&&t.isFunction(n)&&n(e)},n=function(e){var n;e.controlTypeClass&&(n=e.controlTypeClass.initEvents)&&t.isFunction(n)&&n(e)},o=function(n,o,a,i){return n={$jplistBox:n,options:o,$control:a,events:i,type:null,action:null,name:null,category:null,cookies:!0,controlType:null,controlTypeClass:null,controlTypeOptions:null},n.type=a.attr("data-control-type"),n.action=a.attr("data-control-action"),n.name=a.attr("data-control-name"),n.category=a.attr("data-control-category"),(a=a.attr("data-control-cookies"))&&"false"===a.toString()&&(n.cookies=!1),n.controlType=n.options.control_types[n.type],n.controlType&&(n.controlType.class_name&&(n.controlTypeClass=jQuery.fn.jplist.controls[n.controlType.class_name]),n.controlType.options&&(n.controlTypeOptions=n.controlType.options)),e(n),t.extend(this,n)};o.prototype.render=function(){e(this)},o.prototype.getStatusByDeepLink=function(e,n){var o,a=null;return this.controlTypeClass&&(o=this.controlTypeClass.getStatusByDeepLink)&&t.isFunction(o)&&(a=o(this,e,n)),a},o.prototype.getDeepLink=function(){var e,n="";return this.controlTypeClass&&(e=this.controlTypeClass.getDeepLink)&&t.isFunction(e)&&(n=e(this)),n},o.prototype.getPaths=function(){var e,n=[];return this.controlTypeClass&&(e=this.controlTypeClass.getPaths)&&t.isFunction(e)&&e(this,n),n},o.prototype.getStatus=function(e){var n,o=null;return this.controlTypeClass&&(n=this.controlTypeClass.getStatus)&&t.isFunction(n)&&(o=n(e,this)),o},o.prototype.setStatus=function(e,n){var o;e.action===this.action&&e.name===this.name&&this.controlTypeClass&&(o=this.controlTypeClass.setStatus)&&t.isFunction(o)&&o(e,this,n)},o.prototype.initEvents=function(){n(this)},jQuery.fn.jplist.view.PanelControl=function(t,e,a,i){t=new o(t,e,a,i),n(t),this.options=t.options,this.$jplistBox=t.$jplistBox,this.$control=t.$control,this.events=t.events,this.type=t.type,this.action=t.action,this.name=t.name,this.category=t.category,this.cookies=t.cookies,this.controlType=t.controlType,this.controlTypeClass=t.controlTypeClass,this.controlTypeOptions=t.controlTypeOptions,this.render=t.render,this.getPaths=t.getPaths,this.getStatus=t.getStatus,this.setStatus=t.setStatus,this.initEvents=t.initEvents,this.getStatusByDeepLink=t.getStatusByDeepLink,this.getDeepLink=t.getDeepLink}}(jQuery),function(t){var e=function(e){e.$jplistBox.on(e.options.ask_event,function(n,o){e.$itemsBox.addClass("jplist-hidden"),e.$noResults.addClass("jplist-hidden"),e.$preloader&&e.$preloader.removeClass("jplist-hidden"),e.options.cookies&&jQuery.fn.jplist.services.Cookies.saveCookies(o,e.options.cookie_name,e.options.expiration),e.options.dataSource.server.ajax.data||(e.options.dataSource.server.ajax.data={}),e.options.dataSource.server.ajax.data.statuses=encodeURIComponent(JSON.stringify(o)),t.ajax(e.options.dataSource.server.ajax).done(function(n){var a={html:""};if(e.$preloader&&e.$preloader.addClass("jplist-hidden"),e.$itemsBox.removeClass("jplist-hidden"),n){if(a=t.parseJSON(n),a.html||(a.html=""),a.data){var i=a.data;n=0;var r;i.count&&t.isNumeric(i.count)&&(n=i.count);for(var i=jQuery.fn.jplist.services.Status.getStatusesByAction("paging",o),s=0;s<i.length;s++)r=i[s],r.data.currentPage||(r.data.currentPage=0),r=new jQuery.fn.jplist.actions.Pagination(r.data.currentPage,r.data.number,n),i[s].data.paging=r}n=a.html,e.$itemsBox.html(n),e.$jplistBox.trigger(e.options.answer_event,[o,n]),n&&""!==t.trim(n)?(e.$noResults.addClass("jplist-hidden"),e.$itemsBox.removeClass("jplist-hidden")):(e.$noResults.removeClass("jplist-hidden"),e.$itemsBox.addClass("jplist-hidden")),t.isFunction(e.options.redraw_callback)&&e.options.redraw_callback()}t.isFunction(e.options.dataSource.server.serverOkCallback)&&e.options.dataSource.server.serverOkCallback(a.html,o)}).fail(function(){t.isFunction(e.options.dataSource.server.serverErrorCallback)&&e.options.dataSource.server.serverErrorCallback(o)})})},n=function(n,o,a,i){return n={options:i,$jplistBox:n,$itemsBox:o,$noResults:a,$preloader:null},n.options.dataSource.server.preloaderPath&&(n.$preloader=n.$jplistBox.find(n.options.dataSource.server.preloaderPath)),e(n),t.extend(this,n)};jQuery.fn.jplist.controller.Server=function(t,e,o,a){return new n(t,e,o,a)}}(jQuery),function(t){var e=function(e){e.$jplistBox.on(e.options.ask_event,function(n,o){e.options.cookies&&jQuery.fn.jplist.services.Cookies.saveCookies(o,e.options.cookie_name,e.options.expiration),t.isFunction(e.options.dataSource.jsFunction.jsFunctionName)&&(e.$itemsBox.html(""),e.$preloader&&e.$preloader.show(0),e.options.dataSource.jsFunction.jsFunctionName(o,e.options,function(n){e.$preloader&&e.$preloader.hide(0),e.$itemsBox.html(n),e.$jplistBox.trigger(e.options.answer_event,[o,n]),n&&""!==t.trim(n)?(e.$noResults.addClass("jplist-hidden"),e.$itemsBox.removeClass("jplist-hidden")):(e.$noResults.removeClass("jplist-hidden"),e.$itemsBox.addClass("jplist-hidden")),t.isFunction(e.options.redraw_callback)&&e.options.redraw_callback(),e.options.deep_linking&&e.$jplistBox.trigger(e.options.change_url_deep_links_event,[])}))})},n=function(n,o,a,i){return n={options:i,$jplistBox:n,$itemsBox:o,$noResults:a,$preloader:null},n.options.dataSource.jsFunction.preloaderPath&&(n.$preloader=n.$jplistBox.find(n.options.dataSource.jsFunction.preloaderPath)),e(n),t.extend(this,n)};jQuery.fn.jplist.controller.dataSourceJSFunction=function(t,e,o,a){return new n(t,e,o,a)}}(jQuery),function(t){var e=function(t,e){t.modifyDataview(function(n){var o;switch(o=new jQuery.fn.jplist.models.Path(e.data.path,null),e.data.filterType){case"text":t.dataview=jQuery.fn.jplist.actions.Filters.textFilter(e.data.value,o,n,e.data.ignore);break;case"path":t.dataview=jQuery.fn.jplist.actions.Filters.pathFilter(o,n);break;case"inverted_path":t.dataview=jQuery.fn.jplist.actions.Filters.invertedPathFilter(e.data.checked_checkboxes,n);break;case"range":t.dataview=jQuery.fn.jplist.actions.Filters.rangeFilter(o,n,e.data.min,e.data.max,e.data.prev,e.data.next);break;case"date":t.dataview=jQuery.fn.jplist.actions.Filters.dateFilter(e.data.year,e.data.month,e.data.day,o,n,e.data.format);break;case"date_range":t.dataview=jQuery.fn.jplist.actions.Filters.dateRangeFilter(o,n,e.data.format,e.data.prev_year,e.data.prev_month,e.data.prev_day,e.data.next_year,e.data.next_month,e.data.next_day);break;case"pathGroup":t.dataview=jQuery.fn.jplist.actions.Filters.pathGroupFilter(e.data.pathGroup,n);break;case"textGroup":t.dataview=jQuery.fn.jplist.actions.Filters.textGroupFilter(e.data.textGroup,e.data.logic,e.data.path,e.data.ignoreRegex,n);break;case"textFilterPathGroup":t.dataview=jQuery.fn.jplist.actions.Filters.textFilterPathGroup(e.data.textAndPathsGroup,e.data.ignoreRegex,n);break;case"autocomplete":t.dataview=jQuery.fn.jplist.actions.Filters.autocompleteFilter(e.data.latitude,e.data.longitude,e.data.name,n,e.data.radius)}})},n=function(n){n.$jplistBox.on(n.options.ask_event,function(o,a){if(n.options.cookies&&jQuery.fn.jplist.services.Cookies.saveCookies(a,n.options.cookie_name,n.options.expiration),n.collection){var i=n.collection;i.resetDataview();var r;r=jQuery.fn.jplist.services.Status.getStatusesByAction("sort",a),0<r.length&&(jQuery.fn.jplist.actions.Sort.doubleSort(r,i.dataview),n.$jplistBox.trigger(n.options.sort_event,[a,i]));var s;if(r=jQuery.fn.jplist.services.Status.getStatusesByAction("filter",a),0<r.length){for(var l=0;l<r.length;l++)s=r[l],e(i,s);n.$jplistBox.trigger(n.options.filter_event,[a,i])}var c,l=null;if(r=jQuery.fn.jplist.services.Status.getStatusesByAction("paging",a),0<r.length){for(s=0;s<r.length;s++)l=r[s],c=l.data.currentPage?l.data.currentPage:0,l=new jQuery.fn.jplist.actions.Pagination(c,l.data.number,i.dataview.length),r[s].data.paging=l,i.dataview=jQuery.fn.jplist.actions.Filters.pagerFilter(l,i.dataview);n.$jplistBox.trigger(n.options.pagination_event,[a,i])}r=i.dataitemsToJqueryObject(),s=i.dataviewToJqueryObject(),0<r.length&&r.detach(),0<s.length&&n.$itemsBox.append(s),n.$jplistBox.trigger(n.options.answer_event,[a,i]),0>=i.dataview.length?(n.$noResults.removeClass("jplist-hidden"),n.$itemsBox.addClass("jplist-hidden")):(n.$noResults.addClass("jplist-hidden"),n.$itemsBox.removeClass("jplist-hidden")),t.isFunction(n.options.redraw_callback)&&n.options.redraw_callback(i,s,a),""!==n.options.animate_to_top&&(i="auto"!==n.options.animate_to_top?t(n.options.animate_to_top).offset().top:n.$jplistBox.offset().top,t("html, body").animate({scrollTop:i},n.options.animate_to_top_duration))}n.options.deep_linking&&n.$jplistBox.trigger(n.options.change_url_deep_links_event,[])})},o=function(t,e,n,a){for(var i;a<n.length;a++)i=n.eq(a),e.addDataItem(i,t.panel.paths,a),a+1<n.length&&0===a%50&&window.setTimeout(function(){o(t,e,n,a)},0)},a=function(e,a){var i,r={options:a,$jplistBox:e,$itemsBox:e.find(a.items_box).eq(0),$noResults:null,panel:null,collection:null,events:null,server:null,dataSourceJSFunction:null};switch(r.events=new jQuery.fn.jplist.controller.Events(r.$jplistBox,r.options),r.panel=new jQuery.fn.jplist.view.Panel(r.$jplistBox,r.options,r.events),r.$noResults=e.find(r.options.no_results),r.options.dataSource||(r.options.dataSource="html"),r.options.dataSource.type){case"html":var s;i=new jQuery.fn.jplist.services.Collection(r.$jplistBox,r.options),s=r.$itemsBox.find(r.options.item_path).detach(),o(r,i,s,0),i.resetDataview(),r.collection=i,n(r),r.$jplistBox.trigger(r.options.collection_ready_event,[r.collection]);break;case"server":r.server=new jQuery.fn.jplist.controller.Server(r.$jplistBox,r.$itemsBox,r.$noResults,r.options);break;case"jsFunction":t.isFunction(r.options.dataSource.jsFunction.jsFunctionName)&&(r.dataSourceJSFunction=new jQuery.fn.jplist.controller.dataSourceJSFunction(r.$jplistBox,r.$itemsBox,r.$noResults,r.options))}return r.options.deep_linking?r.$jplistBox.trigger(r.options.set_deep_links_event,[]):r.options.cookies?(i=jQuery.fn.jplist.services.Cookies.restoreCookies(r.options.cookie_name),0<i.length?r.$jplistBox.trigger(r.options.restore_event,[i]):r.$jplistBox.trigger(r.options.force_ask_event,[!0])):r.$jplistBox.trigger(r.options.force_ask_event,[!0]),
t.extend(this,r)};jQuery.fn.jplist.controller.Controller=function(t,e){return new a(t,e)}}(jQuery),function(t){var e=function(e,n){return t.extend(this,{options:n,$jplistBox:e,lastStatus:null})};jQuery.fn.jplist.controller.Events=function(t,n){return new e(t,n)}}(jQuery),function(t){jQuery.fn.jplist.controls.DefaultSort={},jQuery.fn.jplist.controls.DefaultSort.statusRelatedDataSort=function(t,e,n,o,a){return{path:t,type:e,order:n,dateTimeFormat:o,ignore:a}},jQuery.fn.jplist.controls.DefaultSort.getPaths=function(e,n){var o,a;o=e.$control.attr("data-path"),a=e.$control.attr("data-type"),o&&""!==t.trim(o)&&(o=new jQuery.fn.jplist.models.Path(o,a),jQuery.fn.jplist.services.Path.isPathInList(o,n)||n.push(o))},jQuery.fn.jplist.controls.DefaultSort.getStatus=function(t,e){var n;return n=new jQuery.fn.jplist.controls.DefaultSort.statusRelatedDataSort(e.$control.attr("data-path"),e.$control.attr("data-type"),e.$control.attr("data-order"),e.$control.attr("data-datetime-format"),e.$control.attr("data-ignore")),new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)}}(jQuery),function(t){jQuery.fn.jplist.controls.Dropdown={},jQuery.fn.jplist.controls.Dropdown.statusRelatedDataSort=function(t,e,n,o,a){return{path:t,type:e,order:n,dateTimeFormat:o,ignore:a}},jQuery.fn.jplist.controls.Dropdown.statusRelatedDataFilter=function(t,e){return{path:t,type:e,filterType:"path"}},jQuery.fn.jplist.controls.Dropdown.statusRelatedDataItemsOnPage=function(t){return{number:t}},jQuery.fn.jplist.controls.Dropdown.render=function(t){var e;e=t.$control.find("li:eq(0)"),e.addClass("active"),e=e.find("span"),0>=t.$control.find(".panel").length&&t.$control.prepend('<div class="panel">'+e.text()+"</div>")},jQuery.fn.jplist.controls.Dropdown.getDeepLink=function(e){var n,o="";if(n=jQuery.fn.jplist.controls.Dropdown.getStatus(!1,e),n.data)switch(e.action){case"paging":(t.isNumeric(n.data.number)||"all"===n.data.number)&&(o=e.name+"--number="+n.data.number);break;case"sort":n.data.path&&n.data.type&&n.data.order&&(o=e.name+"--path~type~order="+n.data.path+"~"+n.data.type+"~"+n.data.order);break;case"filter":n.data.path&&(o=e.name+"--path="+n.data.path)}return o},jQuery.fn.jplist.controls.Dropdown.getStatusByDeepLink=function(e,n,o){var a;if("number"!==n&&"path~type~order"!==n&&"path"!==n)return null;if(a=jQuery.fn.jplist.controls.Dropdown.getStatus(!0,e),a.data)switch(e.action){case"paging":"number"===n&&t.isNumeric(a.data.number)&&(a.data.number=o);break;case"sort":"path~type~order"===n&&(e=o.split("~"),3===e.length&&(a.data.path=e[0],a.data.type=e[1],a.data.order=e[2]));break;case"filter":"path"===n&&a.data.path&&(a.data.path=o)}return a},jQuery.fn.jplist.controls.Dropdown.getPaths=function(e,n){var o,a,i;e.$control.find("span").each(function(){o=t(this).attr("data-path"),a=t(this).attr("data-type"),o&&""!==t.trim(o)&&(i=new jQuery.fn.jplist.models.Path(o,a),jQuery.fn.jplist.services.Path.isPathInList(i,n)||n.push(i))})},jQuery.fn.jplist.controls.Dropdown.getStatus=function(t,e){var n,o,a=null;switch(t?(n=e.$control.find('li:has(span[data-default="true"])').eq(0),0>=n.length&&(n=e.$control.find("li:eq(0)"))):n=e.$control.find(".active"),n=n.find("span"),e.action){case"paging":n=new jQuery.fn.jplist.controls.Dropdown.statusRelatedDataItemsOnPage(n.attr("data-number")),a=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category);break;case"sort":(a=e.$control.attr("data-datetime-format"))||(a=""),(o=e.$control.attr("data-ignore"))||(o=""),n=new jQuery.fn.jplist.controls.Dropdown.statusRelatedDataSort(n.attr("data-path"),n.attr("data-type"),n.attr("data-order"),a,o),a=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category);break;case"filter":n=new jQuery.fn.jplist.controls.Dropdown.statusRelatedDataFilter(n.attr("data-path"),n.attr("data-type")),a=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)}return a},jQuery.fn.jplist.controls.Dropdown.setStatus=function(t,e,n){var o=null;switch(!e.cookies&&n&&(o=e.$control.find('li:has(span[data-default="true"])').eq(0),0>=o.length&&(o=e.$control.find("li:eq(0)")),o=o.find("span")),e.action){case"filter":!e.cookies&&n&&0<o.length?(t.data.path=o.attr("data-path"),t.data.type=o.attr("data-type"),e.events.lastStatus=t,e.$jplistBox.trigger(e.options.status_event,[t])):(e.$control.find("li").removeClass("active"),t=e.$control.find('li:has([data-path="'+t.data.path+'"])'),t.addClass("active"),e.$control.find(".panel").text(t.eq(0).text()));break;case"sort":!e.cookies&&n&&0<o.length?(t.data.path=o.attr("data-path"),t.data.type=o.attr("data-type"),t.data.order=o.attr("data-order"),e.events.lastStatus=t,e.$jplistBox.trigger(e.options.status_event,[t])):(e.$control.find("li").removeClass("active"),t="default"==t.data.path?e.$control.find('li:has([data-path="default"])'):e.$control.find('li:has([data-path="'+t.data.path+'"][data-type="'+t.data.type+'"][data-order="'+t.data.order+'"])'),t.addClass("active"),e.$control.find(".panel").text(t.eq(0).text()));break;case"paging":!e.cookies&&n&&0<o.length?(t.data.number=o.attr("data-number"),e.events.lastStatus=t,e.$jplistBox.trigger(e.options.status_event,[t])):(e.$control.find("li").removeClass("active"),t=e.$control.find('li:has([data-number="'+t.data.number+'"])'),0===t.length&&(t=e.$control.find('li:has([data-number="all"])')),t.addClass("active"),e.$control.find(".panel").text(t.eq(0).text()))}},jQuery.fn.jplist.controls.Dropdown.initEvents=function(e){var n=t(document).find('[data-control-type="drop-down"]');t(document).click(function(){n.find("ul").hide()}),t(document).off("jplist_dropdown_close").on("jplist_dropdown_close",function(e,o){n.each(function(){t(this).is(o)||t(this).find("ul").hide()})}),e.$control.find(".panel").off().click(function(e){var n;e.stopPropagation(),e=t(this).parents("[data-control-type]"),n=e.find("ul"),t(document).trigger("jplist_dropdown_close",[e]),n.is(":visible")?n.hide():n.show()}),e.$control.find("li").off().click(function(){var n,o,a,i;n=jQuery.fn.jplist.controls.Dropdown.getStatus(!1,e),i=t(this).find("span"),o=i.attr("data-path"),a=i.attr("data-number"),o?(n.data.path=o,n.data.type=i.attr("data-type"),n.data.order=i.attr("data-order")):a&&(n.data.number=a),e.events.lastStatus=n,e.$jplistBox.trigger(e.options.status_event,[n])})}}(jQuery),function(t){jQuery.fn.jplist.controls.Label={},jQuery.fn.jplist.controls.Label.setStatus=function(t,e,n){"paging"===t.action&&t.data&&t.data.paging&&(t=t.data.paging,0>=t.pagesNumber?e.$control.html(""):(n=e.$control.attr("data-type"),n=n.replace("{current}",t.currentPage+1),n=n.replace("{pages}",t.pagesNumber),n=n.replace("{start}",t.start+1),n=n.replace("{end}",t.end),n=n.replace("{all}",t.itemsNumber),e.$control.html(n)))}}(jQuery),function(t){jQuery.fn.jplist.controls.Counter={};var e=function(t,e){var n,o,a,i,r=null,s="";switch(o=t.$control.data("path"),i=t.$control.data("dataType"),a=t.$control.data("dataText"),n=t.$control.data("$countValue"),i){case"path":r=jQuery.fn.jplist.actions.Filters.pathFilter(o,e);break;case"text":t.controlTypeOptions&&t.controlTypeOptions.ignore&&(s=t.controlTypeOptions.ignore),r=jQuery.fn.jplist.actions.Filters.textFilter(a,o,e,s);break;case"range":r=jQuery.fn.jplist.actions.Filters.rangeFilter(o,e,0,0,t.$control.data("dataMin"),t.$control.data("dataMax"))}r&&(n.html(r.length),0===r.length?t.$control.addClass("count-0"):t.$control.removeClass("count-0"))};jQuery.fn.jplist.controls.Counter.render=function(t){var e,n,o,a,i,r,s;e=t.$control.attr("data-format"),a=t.$control.attr("data-mode"),i=t.$control.attr("data-type"),n=t.$control.attr("data-path"),o=t.$control.attr("data-text"),r=t.$control.attr("data-min"),s=t.$control.attr("data-max"),a||(a="static"),i||(i="path"),e&&(e=e.replace("{count}",'<span data-type="count-value"></span>'),t.$control.html(e),e=t.$control.find('[data-type="count-value"]'),t.$control.data("$countValue",e)),n&&(e=new jQuery.fn.jplist.models.Path(n,null),t.$control.data("path",e)),t.$control.data("dataMode",a),t.$control.data("dataType",i),t.$control.data("dataPath",n),t.$control.data("dataText",o),t.$control.data("dataMin",r),t.$control.data("dataMax",s)},jQuery.fn.jplist.controls.Counter.initEvents=function(t){switch(t.$control.data("dataMode")){case"static":t.$jplistBox.on(t.options.collection_ready_event,function(n,o){e(t,o.dataitems)});break;case"filter":t.$jplistBox.on(t.options.filter_event,function(n,o,a){e(t,a.dataview)});break;case"all":t.$jplistBox.on(t.options.answer_event,function(n,o,a){e(t,a.dataview)})}}}(jQuery),function(t){var e=function(t,e){var n,o=0;return t?o=0:(n=e.attr("data-number"),o=Number(n),isNaN(n)&&(o=0)),o},n=function(n){var o,a=null;n.$control.find("span").off("click").on("click",function(){o=e(!1,t(this)),a=jQuery.fn.jplist.controls.Placeholder.getStatus(!1,n),a.data.currentPage=o,n.events.lastStatus=a,n.$jplistBox.trigger(n.options.status_event,[a])})};jQuery.fn.jplist.controls.Placeholder={},jQuery.fn.jplist.controls.Placeholder.statusRelatedData=function(t,e){var n={currentPage:t,paging:null};return e&&(n.number=e),n},jQuery.fn.jplist.controls.Placeholder.render=function(t){var e,n,o,a;a=t.controlTypeOptions,t.$control.html('<div class="pagingprev"></div><div class="pagingmid"></div><div class="pagingnext"></div>'),e=t.$control.find(".pagingprev"),n=t.$control.find(".pagingmid"),o=t.$control.find(".pagingnext"),t.$control.data("pagingprev",e),t.$control.data("pagingmid",n),t.$control.data("pagingnext",o),e.html('<span class="first" data-number="0">'+a.first_arrow+'</span><span class="prev">'+a.prev_arrow+"</span>"),o.html('<span class="next">'+a.next_arrow+'</span><span class="last">'+a.last_arrow+"</span>"),t.$control.data("first",e.find(".first")),t.$control.data("prev",e.find(".prev")),t.$control.data("next",o.find(".next")),t.$control.data("last",o.find(".last"))},jQuery.fn.jplist.controls.Placeholder.getDeepLink=function(e){var n,o="";return n=jQuery.fn.jplist.controls.Placeholder.getStatus(!1,e),n.data&&(t.isNumeric(n.data.currentPage)&&(o=e.name+"--currentPage="+n.data.currentPage),t.isNumeric(n.data.number)&&(o=e.name+"--number="+n.data.number)),o},jQuery.fn.jplist.controls.Placeholder.getStatusByDeepLink=function(t,e,n){var o=null;if("currentPage"!==e)return null;if(o=jQuery.fn.jplist.controls.Placeholder.getStatus(!0,t),o.data)switch(e){case"currentPage":o.data.currentPage=n}return o},jQuery.fn.jplist.controls.Placeholder.getStatus=function(t,n){var o;o=null,o=n.$control.find("span[data-active]").eq(0),0>=o.length&&(o=n.$control.find("span").eq(0)),o=e(t,o),n.controlTypeOptions&&n.controlTypeOptions.jump_to_start&&n.events.lastStatus&&"placeholder"!==n.events.lastStatus.type&&(o=0);var a=0,a=n.$control.attr("data-items-per-page"),a=Number(a);return isNaN(a)&&(a=0),o=new jQuery.fn.jplist.controls.Placeholder.statusRelatedData(o,a),o=new jQuery.fn.jplist.models.Status(n.name,n.action,n.type,o,n.cookies,n.category)},jQuery.fn.jplist.controls.Placeholder.setStatus=function(t,e,o){if("paging"===e.name)if(!e.cookies&&o)t.data.currentPage=0,e.events.lastStatus=t,e.$jplistBox.trigger(e.options.status_event,[t]);else if(t.data&&t.data.paging){t=t.data.paging;var a,i;o="";var r;if(r=e.controlTypeOptions,0<=t.currentPage&&t.currentPage<t.pagesNumber){for(e.$control.removeClass("hidden"),i=Math.floor(t.currentPage/r.paging_length),a=r.paging_length*i,i=r.paging_length*(i+1),i>t.pagesNumber&&(i=t.pagesNumber),o+='<div class="pagesbox">',r=a;i>r;r++)o+="<span ",r===t.currentPage&&(o+=' class="current" data-active="true" '),a=r+1,o+=' data-number="'+r+'" ',o+=">"+a+"</span> ";e.$control.data("pagingmid").html(o+"</div>"),e.$control.data("prev").attr("data-number",t.prevPage).removeClass("current"),e.$control.data("next").attr("data-number",t.nextPage).removeClass("current"),e.$control.data("last").attr("data-number",t.pagesNumber-1).removeClass("current")}else e.$control.addClass("hidden");0===t.currentPage?e.$control.data("pagingprev").addClass("hidden"):e.$control.data("pagingprev").removeClass("hidden"),t.currentPage==t.pagesNumber-1?e.$control.data("pagingnext").addClass("hidden"):e.$control.data("pagingnext").removeClass("hidden"),n(e)}},jQuery.fn.jplist.controls.Placeholder.initEvents=function(t){n(t)}}(jQuery),function(t){jQuery.fn.jplist.controls.Reset={},jQuery.fn.jplist.controls.Reset.initEvents=function(t){t.$control.off().click(function(){t.$jplistBox.trigger(t.options.force_ask_event,[!0])})}}(jQuery),function(t){jQuery.fn.jplist.controls.Select={},jQuery.fn.jplist.controls.Select.statusRelatedDataSort=function(t,e,n,o){return{path:t,type:e,order:n,dateTimeFormat:o}},jQuery.fn.jplist.controls.Select.statusRelatedDataFilter=function(t,e){return{path:t,type:e,filterType:"path"}},jQuery.fn.jplist.controls.Select.statusRelatedDataItemsOnPage=function(t){return{number:t}},jQuery.fn.jplist.controls.Select.getStatusByDeepLink=function(e,n,o){var a;if(a=jQuery.fn.jplist.controls.Select.getStatus(!0,e),a.data)switch(e.action){case"paging":"number"===n&&t.isNumeric(a.data.number)&&(a.data.number=o);break;case"sort":"path~type~order"===n&&(e=o.split("~"),3===e.length&&(a.data.path=e[0],a.data.type=e[1],a.data.order=e[2]));break;case"filter":"path"===n&&a.data.path&&(a.data.path=o)}return a},jQuery.fn.jplist.controls.Select.getDeepLink=function(e){var n,o="";if(n=jQuery.fn.jplist.controls.Select.getStatus(!1,e),n.data)switch(e.action){case"paging":t.isNumeric(n.data.number)&&(o=e.name+"--number="+n.data.number);break;case"sort":n.data.path&&n.data.type&&n.data.order&&(o=e.name+"--path~type~order="+n.data.path+"~"+n.data.type+"~"+n.data.order);break;case"filter":n.data.path&&(o=e.name+"--path="+n.data.path)}return o},jQuery.fn.jplist.controls.Select.getPaths=function(e,n){var o,a,i;e.$control.find("option").each(function(){o=t(this).attr("data-path"),a=t(this).attr("data-type"),o&&""!==t.trim(o)&&(i=new jQuery.fn.jplist.models.Path(o,a),jQuery.fn.jplist.services.Path.isPathInList(i,n)||n.push(i))})},jQuery.fn.jplist.controls.Select.getStatus=function(t,e){var n,o=null,a="";switch(t?(n=e.$control.find('option[data-default="true"]').eq(0),0>=n.length&&(n=e.$control.find("option").eq(0))):n=e.$control.find("option:selected"),e.action){case"paging":n=new jQuery.fn.jplist.controls.Select.statusRelatedDataItemsOnPage(n.attr("data-number")),o=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category);break;case"sort":(a=e.$control.attr("data-datetime-format"))||(a=""),n=new jQuery.fn.jplist.controls.Select.statusRelatedDataSort(n.attr("data-path"),n.attr("data-type"),n.attr("data-order"),a),o=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category);break;case"filter":n=new jQuery.fn.jplist.controls.Select.statusRelatedDataFilter(n.attr("data-path"),n.attr("data-type")),o=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)}return o},jQuery.fn.jplist.controls.Select.setStatus=function(t,e,n){switch(e.action){case"filter":!e.cookies&&n?(t.data.path="default",e.events.lastStatus=t,e.$jplistBox.trigger(e.options.status_event,[t])):(t=e.$control.find('option[data-path="'+t.data.path+'"]'))&&0<t.length&&(t.get(0).selected=!0);break;case"sort":!e.cookies&&n?(t.data.path="default",e.events.lastStatus=t,e.$jplistBox.trigger(e.options.status_event,[t])):(t="default"==t.data.path?e.$control.find('option[data-path="'+t.data.path+'"]'):e.$control.find('option[data-path="'+t.data.path+'"][data-type="'+t.data.type+'"][data-order="'+t.data.order+'"]'),0<t.length&&(t.get(0).selected=!0));break;case"paging":t=e.$control.find('option[data-number="'+t.data.number+'"]'),0===t.length&&(t=e.$control.find('option[data-number="all"]')),t.get(0).selected=!0}},jQuery.fn.jplist.controls.Select.initEvents=function(e){e.$control.change(function(){var n,o,a;n=jQuery.fn.jplist.controls.Select.getStatus(!1,e),o=t(this).find("option:selected"),a=o.attr("data-path"),o=o.attr("data-number"),a?(n.data.path=a,n.data.type=t(this).attr("data-type"),n.data.order=t(this).attr("data-order")):o&&(n.data.number=o),e.events.lastStatus=n,e.$jplistBox.trigger(e.options.status_event,[n])})}}(jQuery),function(t){jQuery.fn.jplist.controls.Textbox={},jQuery.fn.jplist.controls.Textbox.statusRelatedData=function(t,e,n){return{path:t,ignore:n,value:e,filterType:"text"}},jQuery.fn.jplist.controls.Textbox.getDeepLink=function(e){var n,o="";return n=jQuery.fn.jplist.controls.Textbox.getStatus(!1,e),n.data&&""!==t.trim(n.data.value)&&(o=e.name+"--value="+n.data.value),o},jQuery.fn.jplist.controls.Textbox.getStatusByDeepLink=function(t,e,n){return t=jQuery.fn.jplist.controls.Textbox.getStatus(!0,t),t.data&&"value"===e&&(t.data.value=n),t},jQuery.fn.jplist.controls.Textbox.getPaths=function(e,n){var o;(o=e.$control.attr("data-path"))&&""!==t.trim(o)&&(o=new jQuery.fn.jplist.models.Path(o,null),jQuery.fn.jplist.services.Path.isPathInList(o,n)||n.push(o))},jQuery.fn.jplist.controls.Textbox.getStatus=function(t,e){var n,o,a="";return n=e.$control.attr("data-path"),o=t?"":e.$control.val(),e.controlTypeOptions&&e.controlTypeOptions.ignore&&(a=e.controlTypeOptions.ignore),n=new jQuery.fn.jplist.controls.Textbox.statusRelatedData(n,o,a),new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)},jQuery.fn.jplist.controls.Textbox.setStatus=function(t,e,n){!e.cookies&&n?(t.data.value="",e.$jplistBox.trigger(e.options.status_event,[t])):t.data&&(t.data.value||(t.data.value=""),e.$control.val(t.data.value))},jQuery.fn.jplist.controls.Textbox.initEvents=function(t){var e="keyup";t.controlTypeOptions&&t.controlTypeOptions.eventName&&(e=t.controlTypeOptions.eventName),t.$control.off(e).on(e,function(){t.events.lastStatus=jQuery.fn.jplist.controls.Textbox.getStatus(!1,t),t.$jplistBox.trigger(t.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.Views={},jQuery.fn.jplist.controls.Views.statusRelatedData=function(t){return{isGrid:t}},jQuery.fn.jplist.controls.Views.render=function(t){var e,n,o="list-view";t.$jplistBox.hasClass("grid")&&(o="grid-view"),e=t.$control.find(".list-view"),n=t.$control.find(".grid-view"),t.$control.data("list-view-btn",e),t.$control.data("grid-view-btn",n),t.$control.data("default-grid",o)},jQuery.fn.jplist.controls.Views.getDeepLink=function(t){var e,n="";return e=jQuery.fn.jplist.controls.Views.getStatus(!1,t),e.data&&e.data.isGrid&&(n=t.name+"--isGrid=true"),n},jQuery.fn.jplist.controls.Views.getStatusByDeepLink=function(t,e,n){return t=jQuery.fn.jplist.controls.Views.getStatus(!0,t),t.data&&"isGrid"===e&&(t.data.isGrid=!0),t},jQuery.fn.jplist.controls.Views.getStatus=function(t,e){var n,o=!1;return t?(n=e.$control.data("default-grid"))&&"grid-view"===n&&(o=!0):o=e.$jplistBox.hasClass("grid"),n=new jQuery.fn.jplist.controls.Views.statusRelatedData(o),new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)},jQuery.fn.jplist.controls.Views.setStatus=function(t,e,n){t.data&&(!e.cookies&&n?(e.$jplistBox.removeClass("grid"),t.data.isGrid=!1,e.$jplistBox.trigger(e.options.status_event,[t])):(t=t.data.isGrid)?e.$jplistBox.addClass("grid"):e.$jplistBox.removeClass("grid"))},jQuery.fn.jplist.controls.Views.initEvents=function(t){var e,n;e=t.$control.data("list-view-btn"),n=t.$control.data("grid-view-btn"),0<e.length&&e.off("click").on("click",function(){t.$jplistBox.removeClass("grid"),t.events.lastStatus=jQuery.fn.jplist.controls.Views.getStatus(!1,t),t.$jplistBox.trigger(t.options.force_ask_event,[!1])}),0<n.length&&n.off("click").on("click",function(){t.$jplistBox.addClass("grid"),t.events.lastStatus=jQuery.fn.jplist.controls.Views.getStatus(!1,t),t.$jplistBox.trigger(t.options.force_ask_event,[!1])})}}(jQuery),function(t){t.fn.jplist.controls.CheckboxFilter={},t.fn.jplist.controls.CheckboxFilter.render=function(t){var e=t.$control.get(0).checked;!0!==e&&(e=!1),t.$control.data("default-checked",e)},t.fn.jplist.controls.CheckboxFilter.getDeepLink=function(e){var n,o="";return n=t.fn.jplist.controls.CheckboxFilter.getStatus(!1,e),n.data&&n.data.isChecked&&(o=e.name+"--isChecked=true"),o},t.fn.jplist.controls.CheckboxFilter.getStatusByDeepLink=function(e,n,o){return e=t.fn.jplist.controls.CheckboxFilter.getStatus(!0,e),e.data&&"isChecked"===n&&(e.data.isChecked=!0),e},t.fn.jplist.controls.CheckboxFilter.getPaths=function(e,n){var o;(o=e.$control.attr("data-path"))&&(o=new t.fn.jplist.models.Path(o,"text"),t.fn.jplist.services.Path.isPathInList(o,n)||n.push(o)),o=e.$jplistBox.find('[data-control-type="'+e.type+'"][data-control-action="'+e.action+'"][data-logic="or"]'),e.$jplistBox.data("jplist-all-cb-or",o)},t.fn.jplist.controls.CheckboxFilter.getStatus=function(e,n){var o,a,i=null,i="and";return(a=n.$control.attr("data-logic"))&&"or"===a.toString()&&(i="or"),e?(a=n.$control.data("default-checked"),!0!==a&&(a=!1)):a=n.$control.get(0).checked,"and"===i?o={path:n.$control.attr("data-path"),type:"text",filterType:"path",isChecked:a}:(o=n.$jplistBox.data("jplist-all-cb-or"),o={path:n.$control.attr("data-path"),type:"text",filterType:"inverted_path",checked_checkboxes:o.filter(":checked"),isChecked:a}),"and"===i?a||(o.filterType=""):a&&(o.filterType=""),i=new t.fn.jplist.models.Status(n.name,n.action,n.type,o,n.cookies,n.category)},t.fn.jplist.controls.CheckboxFilter.setStatus=function(t,e,n){e.$control.attr("data-logic"),e.$control.attr("data-path"),!0!==t.data.isChecked?e.$control.get(0).checked=!1:e.$control.get(0).checked=!0},t.fn.jplist.controls.CheckboxFilter.initEvents=function(e){e.$control.off().change(function(){e.events.lastStatus=t.fn.jplist.controls.CheckboxFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1])})}}(jQuery),function(t){t.fn.jplist.controls.CheckboxGroupFilter={},t.fn.jplist.controls.CheckboxGroupFilter.statusRelatedData=function(t){return{pathGroup:t,filterType:"pathGroup"}},t.fn.jplist.controls.CheckboxGroupFilter.render=function(t){t=t.$control;var e=t.find("[data-path]");e.each(function(){var t=$(this);t.data("checked",t.get(0).checked)}),t.data("checkboxes",e)},t.fn.jplist.controls.CheckboxGroupFilter.getDeepLink=function(e){var n,o="",a="";if(n=t.fn.jplist.controls.CheckboxGroupFilter.getStatus(!1,e),n.data&&$.isArray(n.data.pathGroup)&&0<n.data.pathGroup.length){for(o=0;o<n.data.pathGroup.length;o++)""!==a&&(a+="~"),a+=n.data.pathGroup[o];o=e.name+"--pathGroup="+a}return o},t.fn.jplist.controls.CheckboxGroupFilter.getStatusByDeepLink=function(e,n,o){return e=t.fn.jplist.controls.CheckboxGroupFilter.getStatus(!0,e),e.data&&"pathGroup"===n&&(n=o.split("~"),0<n.length&&(e.data.pathGroup=n)),e},t.fn.jplist.controls.CheckboxGroupFilter.getPaths=function(e,n){var o,a=e.$control.data("checkboxes");if(a)for(var i=0;i<a.length;i++)o=a.eq(i),(o=o.attr("data-path"))&&(o=new t.fn.jplist.models.Path(o,"text"),t.fn.jplist.services.Path.isPathInList(o,n)||n.push(o))},t.fn.jplist.controls.CheckboxGroupFilter.getStatus=function(e,n){var o,a,i,r=n.$control.data("checkboxes"),s=[];if(e)for(i=0;i<r.length;i++)o=r.eq(i),(a=o.data("checked"))&&(a=o.attr("data-path"))&&s.push(a);else for(i=0;i<r.length;i++)o=r.eq(i),(a=o.attr("data-path"))&&o.get(0).checked&&s.push(a);return r=new t.fn.jplist.controls.CheckboxGroupFilter.statusRelatedData(s),new t.fn.jplist.models.Status(n.name,n.action,n.type,r,n.cookies,n.category)},t.fn.jplist.controls.CheckboxGroupFilter.setStatus=function(t,e,n){var o;if((e=e.$control.data("checkboxes"))&&(e.each(function(){$(this).get(0).checked=!1}),t.data&&t.data.pathGroup&&$.isArray(t.data.pathGroup)&&0<t.data.pathGroup.length))for(n=0;n<t.data.pathGroup.length;n++)o=t.data.pathGroup[n],o=e.filter('[data-path="'+o+'"]'),0<o.length&&(o.get(0).checked=!0)},t.fn.jplist.controls.CheckboxGroupFilter.initEvents=function(e){e.$control.data("checkboxes").off("change").change(function(){e.events.lastStatus=t.fn.jplist.controls.CheckboxGroupFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1])})}}(jQuery),function(t){t.fn.jplist.controls.CheckboxTextFilter={},t.fn.jplist.controls.CheckboxTextFilter.statusRelatedData=function(t,e,n,o){return{textGroup:t,logic:e,path:n,ignoreRegex:o,filterType:"textGroup"}},t.fn.jplist.controls.CheckboxTextFilter.render=function(t){t=t.$control;var e=t.find('input[type="checkbox"]');e.each(function(){var t=$(this);t.data("checked",t.get(0).checked)}),t.data("checkboxes",e)},t.fn.jplist.controls.CheckboxTextFilter.getDeepLink=function(e){var n,o="",a="";if(n=t.fn.jplist.controls.CheckboxTextFilter.getStatus(!1,e),n.data&&$.isArray(n.data.textGroup)&&0<n.data.textGroup.length){for(o=0;o<n.data.textGroup.length;o++)""!==a&&(a+="~"),a+=n.data.textGroup[o];o=e.name+"--textGroup="+a}return o},t.fn.jplist.controls.CheckboxTextFilter.getStatusByDeepLink=function(e,n,o){var a=null,a=t.fn.jplist.controls.CheckboxTextFilter.getStatus(!0,e);return a.data&&"textGroup"===n&&(e=o.split("~"),0<e.length&&(a.data.textGroup=e)),a},t.fn.jplist.controls.CheckboxTextFilter.getPaths=function(e,n){var o;(o=e.$control.attr("data-path"))&&(o=new t.fn.jplist.models.Path(o,"text"),t.fn.jplist.services.Path.isPathInList(o,n)||n.push(o))},t.fn.jplist.controls.CheckboxTextFilter.getStatus=function(e,n){var o,a=n.$control,i=a.data("checkboxes");o=[];var r,s,l,c="";if(e)for(l=0;l<i.length;l++)s=i.eq(l),(r=s.data("checked"))&&(r=s.val())&&o.push(r);else for(l=0;l<i.length;l++)s=i.eq(l),(r=s.val())&&s.get(0).checked&&o.push(r);return i=a.attr("data-path"),(a=a.attr("data-logic"))||(a="or"),n.controlTypeOptions&&n.controlTypeOptions.ignore&&(c=n.controlTypeOptions.ignore),o=new t.fn.jplist.controls.CheckboxTextFilter.statusRelatedData(o,a,i,c),new t.fn.jplist.models.Status(n.name,n.action,n.type,o,n.cookies,n.category)},t.fn.jplist.controls.CheckboxTextFilter.setStatus=function(t,e,n){var o;if((e=e.$control.data("checkboxes"))&&(e.each(function(){$(this).get(0).checked=!1}),t.data&&t.data.textGroup&&$.isArray(t.data.textGroup)&&0<t.data.textGroup.length))for(n=0;n<t.data.textGroup.length;n++)o=t.data.textGroup[n],o=e.filter('[value="'+o+'"]'),0<o.length&&(o.get(0).checked=!0)},t.fn.jplist.controls.CheckboxTextFilter.initEvents=function(e){e.$control.data("checkboxes").off("change").change(function(){e.events.lastStatus=t.fn.jplist.controls.CheckboxTextFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.ButtonFilter={},jQuery.fn.jplist.controls.ButtonFilter.render=function(t){t.$control.data("selected",!1)},jQuery.fn.jplist.controls.ButtonFilter.getDeepLink=function(t){var e,n="";return e=jQuery.fn.jplist.controls.ButtonFilter.getStatus(!1,t),e.data&&e.data.selected&&(n=t.name+"--selected=true"),n},jQuery.fn.jplist.controls.ButtonFilter.getStatusByDeepLink=function(t,e,n){return t=jQuery.fn.jplist.controls.ButtonFilter.getStatus(!0,t),t.data&&"selected"===e&&(t.data.selected=!0),t},jQuery.fn.jplist.controls.ButtonFilter.getPaths=function(e,n){var o;(o=e.$control.attr("data-path"))&&""!==t.trim(o)&&(o=new jQuery.fn.jplist.models.Path(o,"text"),jQuery.fn.jplist.services.Path.isPathInList(o,n)||n.push(o))},jQuery.fn.jplist.controls.ButtonFilter.getStatus=function(t,e){var n;return n=(n=t?!1:e.$control.data("selected"))?{path:e.$control.attr("data-path"),type:"text",filterType:"path",selected:n}:{path:e.$control.attr("data-path"),type:"text",filterType:"",selected:n},new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)},jQuery.fn.jplist.controls.ButtonFilter.setStatus=function(t,e,n){e.$control.data("selected",t.data.selected),t.data.selected?e.$control.addClass("selected"):e.$control.removeClass("selected")},jQuery.fn.jplist.controls.ButtonFilter.initEvents=function(t){var e;t.$control.off().click(function(){e=t.$control.data("selected"),t.$control.data("selected",!e),e?t.$control.removeClass("selected"):t.$control.addClass("selected"),t.$jplistBox.trigger(t.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.ButtonFilterGroup={},jQuery.fn.jplist.controls.ButtonFilterGroup.render=function(e){var n=e.$control.find("[data-button]");n.each(function(){t(this).data("selected",!1)}),e.$control.data("$buttons",n)},jQuery.fn.jplist.controls.ButtonFilterGroup.getDeepLink=function(t){return""},jQuery.fn.jplist.controls.ButtonFilterGroup.getStatusByDeepLink=function(t,e,n){return null},jQuery.fn.jplist.controls.ButtonFilterGroup.getPaths=function(t,e){var n,o=t.$control.data("$buttons");if(o)for(var a=0;a<o.length;a++)n=o.eq(a),(n=n.attr("data-path"))&&(n=new jQuery.fn.jplist.models.Path(n,"text"),jQuery.fn.jplist.services.Path.isPathInList(n,e)||e.push(n))},jQuery.fn.jplist.controls.ButtonFilterGroup.getStatus=function(t,e){var n,o,a,i=e.$control.data("$buttons"),r=[];for(o=0;o<i.length;o++)n=i.eq(o),(a=n.data("selected"))&&(n=n.attr("data-path"))&&r.push(n);return new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,{pathGroup:r,filterType:"pathGroup"},e.cookies,e.category)},jQuery.fn.jplist.controls.ButtonFilterGroup.setStatus=function(e,n,o){var a;if((n=n.$control.data("$buttons"))&&(n.each(function(){t(this).removeClass("selected")}),e.data&&e.data.pathGroup&&t.isArray(e.data.pathGroup)&&0<e.data.pathGroup.length))for(o=0;o<e.data.pathGroup.length;o++)a=e.data.pathGroup[o],a=n.filter('[data-path="'+a+'"]'),0<a.length&&a.addClass("selected")},jQuery.fn.jplist.controls.ButtonFilterGroup.initEvents=function(e){var n,o=e.$control.data("$buttons");o&&o.off("click").on("click",function(){var o;o=t(this),n=o.data("selected"),o.data("selected",!n),e.events.lastStatus=jQuery.fn.jplist.controls.ButtonFilterGroup.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.ButtonTextFilter={},jQuery.fn.jplist.controls.ButtonTextFilter.render=function(t){t.$control.data("selected",!1),t.$control.data("dataPath",t.$control.attr("data-path")),t.$control.data("dataText",t.$control.attr("data-text"))},jQuery.fn.jplist.controls.ButtonTextFilter.statusRelatedData=function(t,e,n,o){return{path:t,ignore:n,value:e,selected:o,filterType:"text"}},jQuery.fn.jplist.controls.ButtonTextFilter.getDeepLink=function(t){var e,n="";return e=jQuery.fn.jplist.controls.ButtonTextFilter.getStatus(!1,t),e.data&&e.data.selected&&(n=t.name+"--selected=true"),n},jQuery.fn.jplist.controls.ButtonTextFilter.getStatusByDeepLink=function(t,e,n){return t=jQuery.fn.jplist.controls.ButtonTextFilter.getStatus(!0,t),t.data&&"selected"===e&&(t.data.selected=!0),t},jQuery.fn.jplist.controls.ButtonTextFilter.getPaths=function(e,n){var o;(o=e.$control.data("dataPath"))&&""!==t.trim(o)&&(o=new jQuery.fn.jplist.models.Path(o,"text"),jQuery.fn.jplist.services.Path.isPathInList(o,n)||n.push(o))},jQuery.fn.jplist.controls.ButtonTextFilter.getStatus=function(t,e){var n,o,a,i="";return o=e.$control.data("dataPath"),a=e.$control.data("dataText"),e.controlTypeOptions&&e.controlTypeOptions.ignore&&(i=e.controlTypeOptions.ignore),n=t?!1:e.$control.data("selected"),n=new jQuery.fn.jplist.controls.ButtonTextFilter.statusRelatedData(o,n?a:"",i,n),new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)},jQuery.fn.jplist.controls.ButtonTextFilter.setStatus=function(t,e,n){e.$control.data("selected",t.data.selected),t.data.selected?e.$control.addClass("selected"):e.$control.removeClass("selected")},jQuery.fn.jplist.controls.ButtonTextFilter.initEvents=function(t){var e;t.$control.off().click(function(){e=t.$control.data("selected"),t.$control.data("selected",!e),e?t.$control.removeClass("selected"):t.$control.addClass("selected"),t.$jplistBox.trigger(t.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.ButtonTextFilterGroup={},jQuery.fn.jplist.controls.ButtonTextFilterGroup.render=function(e){var n,o=e.$control.find("[data-button]");o.each(function(){n=t(this),n.data("selected",!1),n.data("dataPath",n.attr("data-path")),n.data("dataText",n.attr("data-text"))}),e.$control.data("$buttons",o)},jQuery.fn.jplist.controls.ButtonTextFilterGroup.statusRelatedData=function(t,e){
return{textAndPathsGroup:t,ignore:e,filterType:"textFilterPathGroup"}},jQuery.fn.jplist.controls.ButtonTextFilterGroup.getDeepLink=function(t){return""},jQuery.fn.jplist.controls.ButtonTextFilterGroup.getStatusByDeepLink=function(t,e,n){return null},jQuery.fn.jplist.controls.ButtonTextFilterGroup.getPaths=function(t,e){var n,o=t.$control.data("$buttons");if(o)for(var a=0;a<o.length;a++)n=o.eq(a),(n=n.attr("data-path"))&&(n=new jQuery.fn.jplist.models.Path(n,"text"),jQuery.fn.jplist.services.Path.isPathInList(n,e)||e.push(n))},jQuery.fn.jplist.controls.ButtonTextFilterGroup.getStatus=function(t,e){var n,o,a,i=e.$control.data("$buttons"),r=[],s="";for(e.controlTypeOptions&&e.controlTypeOptions.ignore&&(s=e.controlTypeOptions.ignore),o=0;o<i.length;o++)n=i.eq(o),a=n.data("selected"),r.push({selected:!!a,text:n.data("dataText"),path:n.data("dataPath")});return i=new jQuery.fn.jplist.controls.ButtonTextFilterGroup.statusRelatedData(r,s),new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,i,e.cookies,e.category)},jQuery.fn.jplist.controls.ButtonTextFilterGroup.setStatus=function(e,n,o){var a=n.$control.data("$buttons");if(a&&(a.each(function(){t(this).removeClass("selected")}),e.data&&e.data.textAndPathsGroup&&t.isArray(e.data.textAndPathsGroup)&&0<e.data.textAndPathsGroup.length))for(var i=0;i<e.data.textAndPathsGroup.length;i++)n=e.data.textAndPathsGroup[i],o=a.filter('[data-path="'+n.path+'"][data-text="'+n.text+'"]'),0<o.length&&(o.data("selected",n.selected),n.selected?o.addClass("selected"):o.removeClass("selected"))},jQuery.fn.jplist.controls.ButtonTextFilterGroup.initEvents=function(e){var n,o=e.$control.data("$buttons");o&&o.off("click").on("click",function(){var o=t(this);n=o.data("selected"),o.data("selected",!n),e.events.lastStatus=jQuery.fn.jplist.controls.ButtonTextFilterGroup.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.RadioButtonsFilter={},jQuery.fn.jplist.controls.RadioButtonsFilter.render=function(t){var e=t.$control.get(0).checked;!0!==e&&(e=!1),t.$control.data("default-checked",e)},jQuery.fn.jplist.controls.RadioButtonsFilter.getPaths=function(e,n){var o;(o=e.$control.attr("data-path"))&&""!==t.trim(o)&&(o=new jQuery.fn.jplist.models.Path(o,"text"),jQuery.fn.jplist.services.Path.isPathInList(o,n)||n.push(o))},jQuery.fn.jplist.controls.RadioButtonsFilter.getDeepLink=function(t){var e,n="";return e=jQuery.fn.jplist.controls.RadioButtonsFilter.getStatus(!1,t),e.data&&e.data.selected&&(n=t.name+"--selected=true"),n},jQuery.fn.jplist.controls.RadioButtonsFilter.getStatusByDeepLink=function(t,e,n){return t=jQuery.fn.jplist.controls.RadioButtonsFilter.getStatus(!0,t),t.data&&"selected"===e&&(t.data.selected=!0),t},jQuery.fn.jplist.controls.RadioButtonsFilter.getStatus=function(t,e){var n,o=null;return t?(n=e.$control.data("default-checked"),!0!==n&&(n=!1)):n=e.$control.get(0).checked,o={path:e.$control.attr("data-path"),type:"text",filterType:"path",selected:n},n||(o.filterType=""),o=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,o,e.cookies,e.category)},jQuery.fn.jplist.controls.RadioButtonsFilter.setStatus=function(t,e,n){!0!==t.data.selected?e.$control.get(0).checked=!1:e.$control.get(0).checked=!0},jQuery.fn.jplist.controls.RadioButtonsFilter.initEvents=function(t){t.$control.off().change(function(){t.events.lastStatus=jQuery.fn.jplist.controls.RadioButtonsFilter.getStatus(!1,t),t.$jplistBox.trigger(t.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.RangeSliderToggleFilter={},jQuery.fn.jplist.controls.RangeSliderToggleFilter.render=function(e){var n,o,a;n=e.$control.attr("data-path"),o=e.$control.attr("data-min"),a=e.$control.attr("data-max"),e.$control.data("selected",!1),n&&e.$control.data("path",n),o&&t.isNumeric(o)&&e.$control.data("prev",o),a&&t.isNumeric(a)&&e.$control.data("next",a)},jQuery.fn.jplist.controls.RangeSliderToggleFilter.getDeepLink=function(t){return""},jQuery.fn.jplist.controls.RangeSliderToggleFilter.getStatusByDeepLink=function(t,e,n){return null},jQuery.fn.jplist.controls.RangeSliderToggleFilter.getPaths=function(e,n){var o;(o=e.$control.attr("data-path"))&&""!==t.trim(o)&&(o=new jQuery.fn.jplist.models.Path(o,"number"),jQuery.fn.jplist.services.Path.isPathInList(o,n)||n.push(o))},jQuery.fn.jplist.controls.RangeSliderToggleFilter.getStatus=function(t,e){var n,o,a,i,r=null;return n=t?!1:e.$control.data("selected"),o=e.$control.data("path"),a=e.$control.data("prev"),i=e.$control.data("next"),o&&(n=n?{path:o,type:"number",filterType:"range",min:0,max:0,prev:a,next:i,selected:n}:{path:o,type:"text",filterType:"",selected:n},r=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)),r},jQuery.fn.jplist.controls.RangeSliderToggleFilter.setStatus=function(t,e,n){e.$control.data("selected",t.data.selected),t.data.selected?e.$control.addClass("selected"):e.$control.removeClass("selected")},jQuery.fn.jplist.controls.RangeSliderToggleFilter.initEvents=function(t){var e;t.$control.off().click(function(){e=t.$control.data("selected"),t.$control.data("selected",!e),e?t.$control.removeClass("selected"):t.$control.addClass("selected"),t.$jplistBox.trigger(t.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.DatePickerFilter={},jQuery.fn.jplist.controls.DatePickerFilter.render=function(e){var n,o={};n=e.controlTypeOptions,e.$control.off().change(function(){""===t.trim(t(this).val())&&(e.events.lastStatus=jQuery.fn.jplist.controls.DatePickerFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1]))}),o.onSelect=function(t,n){e.events.lastStatus=jQuery.fn.jplist.controls.DatePickerFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1])},n&&n.datepicker(e.$control,o)},jQuery.fn.jplist.controls.DatePickerFilter.getDeepLink=function(e){var n,o="";return n=jQuery.fn.jplist.controls.DatePickerFilter.getStatus(!1,e),n.data&&t.isNumeric(n.data.year)&&t.isNumeric(n.data.month)&&t.isNumeric(n.data.day)&&(o=e.name+"--year~month~day="+n.data.year+"~"+n.data.month+"~"+n.data.day),o},jQuery.fn.jplist.controls.DatePickerFilter.getStatusByDeepLink=function(t,e,n){return t=jQuery.fn.jplist.controls.DatePickerFilter.getStatus(!0,t),t.data&&"year~month~day"===e&&(e=n.split("~"),3===e.length&&(t.data.year=e[0],t.data.month=e[1],t.data.day=e[2])),t},jQuery.fn.jplist.controls.DatePickerFilter.getPaths=function(e,n){var o;(o=e.$control.attr("data-path").toString())&&""!==t.trim(o)&&(o=new jQuery.fn.jplist.models.Path(o,"datetime"),jQuery.fn.jplist.services.Path.isPathInList(o,n)||n.push(o))},jQuery.fn.jplist.controls.DatePickerFilter.getStatus=function(t,e){var n,o=null,a=null;return n=e.$control.attr("data-datetime-format"),(a=e.$control.datepicker("getDate"))&&(o={path:e.$control.attr("data-path"),filterType:"date",year:a.getFullYear(),month:a.getMonth(),day:a.getDate(),format:n},o=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,o,e.cookies,e.category)),o},jQuery.fn.jplist.controls.DatePickerFilter.setStatus=function(e,n,o){e.data&&t.isNumeric(e.data.year)&&t.isNumeric(e.data.month)&&t.isNumeric(e.data.day)&&(e=new Date(e.data.year,e.data.month,e.data.day),n.$control.datepicker("setDate",e))},jQuery.fn.jplist.controls.DatePickerFilter.initEvents=function(t){}}(jQuery),function(t){jQuery.fn.jplist.controls.DatePickerRangeFilter={},jQuery.fn.jplist.controls.DatePickerRangeFilter.statusRelatedData=function(t,e,n,o){return t={path:t,format:e,filterType:"date_range",prev_year:"",prev_month:"",prev_day:"",next_year:"",next_month:"",next_day:""},n&&(t.prev_year=n.getFullYear(),t.prev_month=n.getMonth(),t.prev_day=n.getDate()),o&&(t.next_year=o.getFullYear(),t.next_month=o.getMonth(),t.next_day=o.getDate()),t},jQuery.fn.jplist.controls.DatePickerRangeFilter.render=function(e){var n,o,a,i={};n=e.controlTypeOptions,o=e.$control.find('[data-type="prev"]'),a=e.$control.find('[data-type="next"]'),e.$control.data("jplist-datepicker-range-prev",o),e.$control.data("jplist-datepicker-range-next",a),o.off().change(function(){""===t.trim(t(this).val())&&(e.events.lastStatus=jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1]))}),a.off().change(function(){""===t.trim(t(this).val())&&(e.events.lastStatus=jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1]))}),i.onSelect=function(t,n){e.events.lastStatus=jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1])},n&&(n.datepicker(o,i),n.datepicker(a,i))},jQuery.fn.jplist.controls.DatePickerRangeFilter.getDeepLink=function(e){var n,o="";return n=jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus(!1,e),n.data&&(t.isNumeric(n.data.prev_year)&&t.isNumeric(n.data.prev_month)&&t.isNumeric(n.data.prev_day)&&(o+=e.name+"--prev="+n.data.prev_year+"~"+n.data.prev_month+"~"+n.data.prev_day),t.isNumeric(n.data.next_year)&&t.isNumeric(n.data.next_month)&&t.isNumeric(n.data.next_day)&&(""!==o&&(o+="~~"),o+=e.name+"--next="+n.data.next_year+"~"+n.data.next_month+"~"+n.data.next_day)),o},jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatusByDeepLink=function(t,e,n){if(t=jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus(!0,t),t.data)switch(e){case"prev":e=n.split("~"),3===e.length&&(t.data.prev_year=e[0],t.data.prev_month=e[1],t.data.prev_day=e[2]);break;case"next":e=n.split("~"),3===e.length&&(t.data.next_year=e[0],t.data.next_month=e[1],t.data.next_day=e[2])}return t},jQuery.fn.jplist.controls.DatePickerRangeFilter.getPaths=function(e,n){var o;(o=e.$control.attr("data-path").toString())&&""!==t.trim(o)&&(o=new jQuery.fn.jplist.models.Path(o,"datetime"),jQuery.fn.jplist.services.Path.isPathInList(o,n)||n.push(o))},jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus=function(t,e){var n,o,a,i,r=null,s=r=r=null;return i=e.$control.attr("data-path").toString(),n=e.$control.attr("data-datetime-format").toString(),o=e.$control.data("jplist-datepicker-range-prev"),a=e.$control.data("jplist-datepicker-range-next"),t||(r=o.datepicker("getDate"),s=a.datepicker("getDate")),r=jQuery.fn.jplist.controls.DatePickerRangeFilter.statusRelatedData(i,n,r,s),r=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,r,e.cookies,e.category)},jQuery.fn.jplist.controls.DatePickerRangeFilter.setStatus=function(e,n,o){var a;o=n.$control.data("jplist-datepicker-range-prev"),n=n.$control.data("jplist-datepicker-range-next"),t.isNumeric(e.data.prev_year)&&t.isNumeric(e.data.prev_month)&&t.isNumeric(e.data.prev_day)?(a=new Date(e.data.prev_year,e.data.prev_month,e.data.prev_day),o.datepicker("setDate",a)):o.val(""),t.isNumeric(e.data.next_year)&&t.isNumeric(e.data.next_month)&&t.isNumeric(e.data.next_day)?(e=new Date(e.data.next_year,e.data.next_month,e.data.next_day),n.datepicker("setDate",e)):n.val("")}}(jQuery),function(t){jQuery.fn.jplist.controls.RangeSlider={},jQuery.fn.jplist.controls.RangeSlider.statusRelatedData=function(t,e,n,o,a){return{path:t,type:"number",filterType:"range",min:e,max:n,prev:o,next:a}},jQuery.fn.jplist.controls.RangeSlider.render=function(t){var e,n,o;e=t.$control.find('[data-type="ui-slider"]'),n=t.$control.find('[data-type="prev-value"]'),o=t.$control.find('[data-type="next-value"]'),t.$control.data("jplist-ui-slider",e),t.$control.data("jplist-prev-value",n),t.$control.data("jplist-next-value",o),(t=t.controlTypeOptions)&&(t.ui_slider(e,n,o),t.set_values(e,n,o))},jQuery.fn.jplist.controls.RangeSlider.getDeepLink=function(e){var n,o="";return n=jQuery.fn.jplist.controls.RangeSlider.getStatus(!1,e),n.data&&t.isNumeric(n.data.prev)&&t.isNumeric(n.data.next)&&(o=e.name+"--prev~next="+n.data.prev+"~"+n.data.next),o},jQuery.fn.jplist.controls.RangeSlider.getStatusByDeepLink=function(t,e,n){return t=jQuery.fn.jplist.controls.RangeSlider.getStatus(!0,t),t.data&&"prev~next"===e&&(e=n.split("~"),2===e.length&&(t.data.prev=e[0],t.data.next=e[1])),t},jQuery.fn.jplist.controls.RangeSlider.getPaths=function(e,n){var o;(o=e.$control.attr("data-path").toString())&&""!==t.trim(o)&&(o=new jQuery.fn.jplist.models.Path(o,"number"),jQuery.fn.jplist.services.Path.isPathInList(o,n)||n.push(o))},jQuery.fn.jplist.controls.RangeSlider.getStatus=function(t,e){var n,o,a,i,r=null;return i=e.$control.data("jplist-ui-slider"),r=e.$control.attr("data-path").toString(),n=i.slider("option","min"),o=i.slider("option","max"),t?(a=n,i=o):(a=i.slider("values",0),i=i.slider("values",1)),r=new jQuery.fn.jplist.controls.RangeSlider.statusRelatedData(r,n,o,a,i),r=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,r,e.cookies,e.category)},jQuery.fn.jplist.controls.RangeSlider.setStatus=function(e,n,o){o=null;var a,i,r;o=n.$control.data("jplist-ui-slider"),i=n.$control.find('[data-type="prev-value"]'),r=n.$control.find('[data-type="next-value"]'),t.isNumeric(e.data.prev)&&t.isNumeric(e.data.next)&&(a=Number(e.data.prev),e=Number(e.data.next),!isNaN(a)&&!isNaN(e)&&(o.slider("values",0)!=a&&o.slider("values",0,a),o.slider("values",1)!=e&&o.slider("values",1,e))),(n=n.controlTypeOptions)&&n.set_values(o,i,r)},jQuery.fn.jplist.controls.RangeSlider.initEvents=function(t){var e=null,e=t.$control.data("jplist-ui-slider");e.on("slidechange",function(e,n){t.events.lastStatus=jQuery.fn.jplist.controls.RangeSlider.getStatus(!1,t),t.$jplistBox.trigger(t.options.force_ask_event,[!1])})}}(jQuery),function(t){"use strict";var e=function(e,n){var o={options:e,$root:n,controller:null};return o.options=$.extend(!0,{startZoom:2,storeZoom:13,latitude:0,longitude:90,geolocation:!0,markerIcon:"",markerText:"Click to Zoom",directionsType:"DRIVING",mapTypeId:"ROADMAP",jplist:{items_box:'[data-type="stores"]',item_path:'[data-type="store"]',panel_path:'[data-type="controls"]',no_results:'[data-type="no-results"]',redraw_callback:function(){},control_types:{autocomplete:{class_name:"Autocomplete",options:{}},"autocomplete-radius":{class_name:"AutocompleteRadius",options:{}}}},openInfoWindowOnStoreClick:!1,infoWindow:function(t,e,n,o,a,i,r){return'<div class="info-window">'+t+"</div>"},storeClickEvent:"storeClickEvent",pinClickEvent:"pinClickEvent",sendStoreListEvent:"sendStoreListEvent",getStoresListEvent:"getStoresListEvent",setDirectionsEvent:"setDirectionsEvent",jumpEvent:"jumpEvent",initZoomEvent:"initZoomEvent"},e),o.controller=new $.fn.jlocator.controller(n,o.options),t.extend(this,o)};t.fn.jlocator=function(t){return this.each(function(){var n;n=new e(t,$(this)),$(this).data("jlocator",n)})}}(jQuery),function(t){"use strict";var e=function(e,n){var o={$root:e,options:n,panel:null,map:null};return o.panel=new jQuery.fn.jlocator.panel(o.$root,o.options),o.map=new jQuery.fn.jlocator.map(o.$root,o.options),t.extend(this,o)};jQuery.fn.jlocator.controller=function(t,n){return new e(t,n)}}(jQuery),function(t){"use strict";var e=function(t,e,n,o,a){var i,r;e.attr("data-enabled","true"),n.length>0&&(i=new google.maps.places.Autocomplete(n.get(0)),i.jlocator={latitude:o,longitude:a},r=google.maps.event.addListener(i,"place_changed",function(){var e,n,o,a;a=this.jlocator,e=i.getPlace(),e&&e.geometry&&(n=new google.maps.LatLng(a.latitude,a.longitude),o=new google.maps.LatLng(e.geometry.location.lat(),e.geometry.location.lng()),t.$root.trigger(t.options.setDirectionsEvent,[n,o]))}))},n=function(t,n){var o,a,i,r,s,l;t.$panelRoot.find('[data-type="directions-input"]').hide(0),n.length>0&&(l=n.attr("data-enabled"),o=n.parents('[data-type="store"]'),r=o.find('[data-type="directions-input"]'),!l&&o.length>0&&(a=Number(o.attr("data-latitude")),i=Number(o.attr("data-longitude")),isNaN(a)||isNaN(i)||e(t,n,r,a,i)),r.length>0&&(s=r.is(":visible"),s?r.hide(0):r.show(0)))},o=function(e){e.$root.on("click",'[data-type="stores"] [data-type="store"]',function(){var n,o;o=t(this),n=new jQuery.fn.jlocator.store(o,e.options),e.$root.trigger(e.options.storeClickEvent,[n]),e.$panelRoot.find('[data-type="stores"] [data-type="store"]').removeClass("active"),o.addClass("active")}),e.$root.on(e.options.getStoresListEvent,function(){e.$root.trigger(e.options.sendStoreListEvent,[e.stores,a(e)])}),e.$root.on("click",'[data-type="directions-label"]',function(){n(e,t(this))}),e.$root.on(e.options.pinClickEvent,function(n,o){var a,i,r=o.longitude,s=o.latitude;t.isNumeric(r)&&t.isNumeric(s)&&(i=e.$panelRoot.find('[data-type="stores"] [data-type="store"]'),a=i.filter('[data-longitude="'+r+'"][data-latitude="'+s+'"]'),a.length>0&&(i.removeClass("active"),a.addClass("active")))})},a=function(e){var n,o=[];return e.$panelRoot.find('[data-type="stores"] [data-type="store"]').each(function(){n=new jQuery.fn.jlocator.store(t(this),e.options),o.push(n)}),o},i=function(e){var n,o=[];return e.$stores.each(function(){n=new jQuery.fn.jlocator.store(t(this),e.options),o.push(n)}),o},r=function(e,n){var o=e.options.jplist.redraw_callback;n.length>0&&(e.options.jplist.redraw_callback=function(){t.isFunction(o)&&(o(),e.$root.trigger(e.options.sendStoreListEvent,[e.stores,a(e)]))},n.jplist(e.options.jplist))},s=function(e,n){var o={$root:e,options:n,stores:[],$panelRoot:e.find('[data-type="panel"]'),$stores:null};return o.$stores=o.$panelRoot.find('[data-type="stores"] [data-type="store"]'),o.stores=i(o),r(o,o.$root),t.extend(this,o)};jQuery.fn.jlocator.panel=function(t,e){var n=new s(t,e);return o(n),n}}(jQuery),function(t){"use strict";var e=function(t,e,n){var o;o={origin:e,destination:n,travelMode:google.maps.DirectionsTravelMode[t.options.directionsType]},t.directionsService.route(o,function(e,n){n==google.maps.DirectionsStatus.OK&&t.directionsDisplay.setDirections(e)})},n=function(t){for(var e,n=0;n<t.markers.length;n++)e=t.markers[n],e.infowindow&&e.infowindow.close()},o=function(t,e){n(t),e.infowindow.open(t.mapCanvas,e)},a=function(t){for(var e,n=0;n<t.markers.length;n++)e=t.markers[n],e.setMap(null);t.markers=[]},i=function(t,e){for(var n,o,a=0;a<t.markers.length;a++)if(n=t.markers[a],o=n.store,o&&o.latitude===e.latitude&&o.longitude===e.longitude)return n;return null},r=function(e,n){var a,i,r;a=new google.maps.InfoWindow,t.isFunction(e.options.infoWindow)&&a.setContent(e.options.infoWindow(n.html,n.title,n.address,n.city,n.state,n.zipcode,n.country)),r={position:n.latlng,map:e.mapCanvas,title:e.options.markerText},""!==n.customMarkerIcon?r.icon=n.customMarkerIcon:""!==e.options.markerIcon&&(r.icon=e.options.markerIcon),i=new google.maps.Marker(r),t.extend(i,{infowindow:a,store:n}),e.markers.push(i),google.maps.event.addListener(i,"click",function(t){o(e,this),e.$root.trigger(e.options.pinClickEvent,[n])})},s=function(t,e){var n;a(t);for(var o=0;o<e.length;o++)n=e[o],r(t,n)},l=function(t,e){t.mapCanvas.setZoom(e)},c=function(t,e,n){t.mapCanvas.setCenter(e),t.mapCanvas.setZoom(n)},u=function(t){var e,n,o;t.options.geolocation&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){e=a.coords.latitude,n=a.coords.longitude,o=new google.maps.LatLng(e,n),c(t,o,t.options.storeZoom)})},p=function(t){t.$root.on(t.options.jumpEvent,function(e,n,o,a){var i=new google.maps.LatLng(n,o);c(t,i,a)}),t.$root.on(t.options.initZoomEvent,function(e,n){l(t,n)}),t.$root.on(t.options.storeClickEvent,function(e,o){var a;o&&(n(t),c(t,o.latlng,o.zoom),t.options.openInfoWindowOnStoreClick&&(a=i(t,o),a&&google.maps.event.trigger(a,"click")))}),t.$root.on(t.options.sendStoreListEvent,function(e,n,o){s(t,o)}),t.$root.on(t.options.setDirectionsEvent,function(n,o,a){e(t,o,a)})},d=function(t,e){var n;google&&google.maps&&google.maps.event.addDomListener(window,"load",function(){t.directionsService=new google.maps.DirectionsService,t.directionsDisplay=new google.maps.DirectionsRenderer,n=new google.maps.LatLng(t.options.latitude,t.options.longitude),t.mapCanvas=new google.maps.Map(t.$mapRoot.get(0),{mapTypeId:google.maps.MapTypeId[t.options.mapTypeId],center:n,zoom:t.options.startZoom}),t.directionsDisplay.setMap(t.mapCanvas),p(t),t.$root.trigger(t.options.getStoresListEvent,[]),u(t)})},h=function(e,n){var o={$root:e,options:n,mapCanvas:null,geocoder:null,markers:[],$mapRoot:e.find('[data-type="map"]'),directionsService:null,directionsDisplay:null};return d(o,o.$mapRoot),t.extend(this,o)};jQuery.fn.jlocator.map=function(t,e){return new h(t,e)}}(jQuery),function(t){"use strict";var e=function(t,e){var n;return n=t.$element.find('[data-type="'+e+'"]'),n.length>0?n.text():null},n=function(t){var e="";return t.address&&(e+=t.address+" "),t.city&&(e+=t.city+" "),t.state&&(e+=t.state+" "),t.zipcode&&(e+=t.zipcode+" "),t.country&&(e+=t.country+" "),e},o=function(n){var o,a,i,r;n.title=e(n,"title"),n.address=e(n,"address"),n.city=e(n,"city"),n.state=e(n,"state"),n.zipcode=e(n,"zipcode"),n.country=e(n,"country"),i=n.$element.attr("data-marker-icon"),i&&(n.customMarkerIcon=i),r=n.$element.attr("data-zoom"),t.isNumeric(r)&&(n.zoom=Number(r)),o=n.$element.attr("data-latitude"),t.isNumeric(o)&&(n.latitude=o),a=n.$element.attr("data-longitude"),t.isNumeric(a)&&(n.longitude=a),t.isNumeric(o)&&t.isNumeric(a)&&(n.latlng=new google.maps.LatLng(n.latitude,n.longitude,!0))},a=function(e,a){var i={$element:e,options:a,customMarkerIcon:"",html:"",fullAddress:"",title:"",address:"",city:"",state:"",zipcode:"",country:"",zoom:a.storeZoom,latitude:null,longitude:null,latlng:null};return i.html=jQuery.fn.jplist.services.Helper.getOuterHtml(e),o(i),n(i),t.extend(this,i)};jQuery.fn.jlocator.store=function(t,e){var n=new a(t,e);return n}}(jQuery),function(t){"use strict";jQuery.fn.jplist.controls.Autocomplete={},jQuery.fn.jplist.controls.Autocomplete.render=function(t){var e,n,o={};t.controlTypeOptions&&(o=t.controlTypeOptions),e=new google.maps.places.Autocomplete(t.$control.get(0),o),n=Number(t.$control.attr("data-zoom")),isNaN(n)&&(n=17),t.$control.data("jplist-autocomplete",e),t.$control.data("jplist-autocomplete-zoom",n)},jQuery.fn.jplist.controls.Autocomplete.initEvents=function(e){var n,o=e.$control.data("jplist-handle");n=e.$control.data("jplist-autocomplete"),o&&google.maps.event.removeListener(o),o=google.maps.event.addListener(n,"place_changed",function(){var o,a,i;o=n.getPlace(),o.geometry&&(a=o.geometry.location.lat(),i=o.geometry.location.lng(),e.$control.attr("data-latitude",a),e.$control.attr("data-longitude",i),e.$control.attr("data-name",o.name),e.$jplistBox.trigger("jumpEvent",[a,i,e.$control.data("jplist-autocomplete-zoom")])),e.$jplistBox.trigger(e.options.force_ask_event,[!1]),console.log("auto complete done"),t(".mapOverlay").addClass("shrink")}),e.$control.off("keyup").on("keyup",function(n){var o;o=t.trim(t(this).val()),""===o&&(e.$control.attr("data-latitude",""),e.$control.attr("data-longitude",""),e.$jplistBox.trigger(e.options.force_ask_event,[!1]))}),e.$control.data("jplist-handle",o)},jQuery.fn.jplist.controls.Autocomplete.setStatus=function(t,e,n){},jQuery.fn.jplist.controls.Autocomplete.getStatus=function(e,n){var o,a,i,r=null;return o=n.$control.attr("data-latitude"),a=n.$control.attr("data-longitude"),i={name:n.$control.attr("data-name"),radius:n.$control.attr("data-radius"),filterType:"autocomplete"},e?(i.latitude="",i.longitude="",r=new jQuery.fn.jplist.models.Status(n.name,n.action,n.type,i,!0)):t.isNumeric(o)&&t.isNumeric(a)&&(i.latitude=o,i.longitude=a,r=new jQuery.fn.jplist.models.Status(n.name,n.action,n.type,i,!0)),r}}(jQuery),function(t){"use strict";jQuery.fn.jplist.controls.AutocompleteRadius={},jQuery.fn.jplist.controls.AutocompleteRadius.render=function(t){var e,n,o,a,i={};n=t.$control.find("input"),o=t.$control.find("select"),t.controlTypeOptions&&(i=t.controlTypeOptions),e=new google.maps.places.Autocomplete(n.get(0),i),a=Number(t.$control.attr("data-zoom")),isNaN(a)&&(a=17),t.$control.data("jlocator-autocomplete-with-radius",e),t.$control.data("jlocator-autocomplete-with-radius-input",n),t.$control.data("jlocator-autocomplete-with-radius-select",o),t.$control.data("jplist-autocomplete-with-radius-zoom",a)},jQuery.fn.jplist.controls.AutocompleteRadius.initEvents=function(e){var n,o,a,i=e.$control.data("jplist-handle2");n=e.$control.data("jlocator-autocomplete-with-radius"),o=e.$control.data("jlocator-autocomplete-with-radius-input"),a=e.$control.data("jlocator-autocomplete-with-radius-select"),i&&google.maps.event.removeListener(i),i=google.maps.event.addListener(n,"place_changed",function(){var t,o,a;t=n.getPlace(),t.geometry&&(o=t.geometry.location.lat(),a=t.geometry.location.lng(),e.$control.attr("data-latitude",o),e.$control.attr("data-longitude",a),e.$control.attr("data-name",t.name),e.$jplistBox.trigger("jumpEvent",[o,a,e.$control.data("jplist-autocomplete-with-radius-zoom")])),e.$jplistBox.trigger(e.options.force_ask_event,[!1])}),o.length>0&&a.length>0&&(o.off("keyup").on("keyup",function(n){var o;o=t.trim(t(this).val()),""===o&&(e.$control.attr("data-latitude",""),e.$control.attr("data-longitude",""),e.$jplistBox.trigger(e.options.force_ask_event,[!1]))}),a.change(function(){e.$jplistBox.trigger(e.options.force_ask_event,[!1])})),e.$control.data("jplist-handle2",i)},jQuery.fn.jplist.controls.AutocompleteRadius.getStatus=function(e,n){var o,a,i,r,s,l,c,u=null;return o=n.$control.attr("data-latitude"),a=n.$control.attr("data-longitude"),r=n.$control.attr("data-units"),s=n.$control.data("jlocator-autocomplete-with-radius-select"),s.length>0&&(l=parseFloat(s.val()),isNaN(l)||(c=r&&"km"===r.toString()?1e3*l:1609.34*l,i={name:n.$control.attr("data-name"),radius:c,filterType:"autocomplete"},e?(i.latitude="",i.longitude="",u=new jQuery.fn.jplist.models.Status(n.name,n.action,n.type,i,!0)):t.isNumeric(o)&&t.isNumeric(a)&&(i.latitude=o,i.longitude=a,u=new jQuery.fn.jplist.models.Status(n.name,n.action,n.type,i,!0)))),u}}(jQuery);