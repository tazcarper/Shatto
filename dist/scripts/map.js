"use strict";!function(t){var e=function n(e,a){var n={controller:null};return n.options=t.extend(!0,{items_box:".list",item_path:".list-item",panel_path:".panel",no_results:".jplist-no-results",redraw_callback:"",animate_to_top:"",animate_to_top_duration:1e3,ask_event:"jplist.ask",answer_event:"jplist.answer",force_ask_event:"jplist.forceAsk",restore_event:"jplist.restore",status_event:"jplist.status",rebuild_panel_event:"jplist.rebuildPanel",sort_event:"jplist.sort",filter_event:"jplist.filter",pagination_event:"jplist.pagination",change_url_deep_links_event:"jplist.changeUrlDeepLinks",set_deep_links_event:"jplist.setDeepLinks",add_item_event:"jplist.addItem",del_item_event:"jplist.delItem",collection_ready_event:"jplist.collectionReady",cookies:!1,expiration:-1,cookie_name:"jplist",deep_linking:!1,dataSource:{type:"html",server:{ajax:{url:"server.php",dataType:"html",type:"POST"},serverOkCallback:null,serverErrorCallback:null,preloaderPath:".preloader"},jsFunction:{jsFunctionName:null,preloaderPath:".preloader",options:{}}},control_types:{"default-sort":{class_name:"DefaultSort",options:{}},"drop-down":{class_name:"Dropdown",options:{}},label:{class_name:"Label",options:{}},counter:{class_name:"Counter",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},placeholder:{class_name:"Placeholder",options:{paging_length:7,jump_to_start:!1,prev_arrow:"&lt;",next_arrow:"&gt;",first_arrow:"&lt;&lt;",last_arrow:"&gt;&gt;"}},reset:{class_name:"Reset",options:{}},select:{class_name:"Select",options:{}},textbox:{class_name:"Textbox",options:{eventName:"keyup",ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},views:{class_name:"Views",options:{}},"checkbox-filters":{class_name:"CheckboxFilter",options:{}},"checkbox-group-filter":{class_name:"CheckboxGroupFilter",options:{}},"checkbox-text-filter":{class_name:"CheckboxTextFilter",options:{ignore:""}},"button-filter":{class_name:"ButtonFilter",options:{}},"button-filter-group":{class_name:"ButtonFilterGroup",options:{}},"button-text-filter":{class_name:"ButtonTextFilter",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},"button-text-filter-group":{class_name:"ButtonTextFilterGroup",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},"radio-buttons-filters":{class_name:"RadioButtonsFilter",options:{}},"range-filter":{class_name:"RangeSliderToggleFilter",options:{}}}},e),n.controller=new t.fn.jplist.controller.Controller(a,n.options),t.extend(this,n)};t.fn.jplist=function(n){return this.each(function(){var a=new e(n,t(this));t(this).data("jplist",a)})},t.fn.jplist.models=t.fn.jplist.models||{},t.fn.jplist.services=t.fn.jplist.services||{},t.fn.jplist.view=t.fn.jplist.view||{},t.fn.jplist.actions=t.fn.jplist.actions||{},t.fn.jplist.controller=t.fn.jplist.controller||{},t.fn.jplist.controls=t.fn.jplist.controls||{},t.fn.jplist.addons=t.fn.jplist.addons||{}}(jQuery),function(t){var e=function(e,n,a){a={html:null,pathitems:[],jqElement:e,index:a},a.html=jQuery.fn.jplist.services.Helper.getOuterHtml(e);var o,r;e=[];for(var i=0;i<n.length;i++)o=n[i],r=a.jqElement.find(o.jqPath),0<r.length&&(o=new jQuery.fn.jplist.models.Pathitem(r,o),e.push(o));return a.pathitems=e,t.extend(this,a)};e.prototype.findPathitem=function(t){for(var e,n=null,a=0;a<this.pathitems.length;a++)if(e=this.pathitems[a],jQuery.fn.jplist.services.Path.isPathsEqual(e.path,t,!0)){n=e;break}return n},jQuery.fn.jplist.models.Dataitem=function(t,n,a){t=new e(t,n,a),this.html=t.html,this.jqElement=t.jqElement,this.pathitems=t.pathitems,this.findPathitem=t.findPathitem}}(jQuery),function(t){jQuery.fn.jplist.models.Path=function(t,e){this.jqPath=t,this.dataType=e}}(jQuery),function(t){jQuery.fn.jplist.models.Pathitem=function(t,e){this.path=e,this.text=t.text(),this.html=t.html()}}(jQuery),function(t){jQuery.fn.jplist.models.Status=function(t,e,n,a,o,r){this.action=e,this.name=t,this.type=n,this.data=a,this.cookies=o,this.category=r}}(jQuery),function(t){jQuery.fn.jplist.services.Path={},jQuery.fn.jplist.services.Path.isPathInList=function(t,e){for(var n,a=!1,o=0;o<e.length;o++)if(n=e[o],jQuery.fn.jplist.services.Path.isPathsEqual(t,n,!0)){a=!0;break}return a},jQuery.fn.jplist.services.Path.isPathsEqual=function(t,e,n){var a=!1;return n?t.jqPath===e.jqPath&&(a=!0):t.jqPath===e.jqPath&&t.dataType===e.dataType&&(a=!0),a}}(jQuery),function(t){jQuery.fn.jplist.services.Status={},jQuery.fn.jplist.services.Status.findStatusByField=function(t,e,n){for(var a,o=-1,r=0;r<n.length;r++)if(a=n[r],a[e]===t[e]){o=r;break}return o},jQuery.fn.jplist.services.Status.getStatusesByAction=function(t,e){for(var n,a=[],o=0;o<e.length;o++)n=e[o],n.action===t&&a.push(n);return a},jQuery.fn.jplist.services.Status.getCategories=function(e){for(var n,a,o=[],r=0;r<e.length;r++)n=e[r],a=n.category?n.category:"nocategory",t.isArray(o[a])||(o[a]=[]),o[a].push(n);return o}}(jQuery),function(t){jQuery.fn.jplist.services.Cookies={},jQuery.fn.jplist.services.Cookies.setCookie=function(t,e,n){e=escape(e);var a=new Date;n=Number(n),-1==n||isNaN(n)?document.cookie=t+"="+e+";path=/;":(a.setMinutes(a.getMinutes()+n),document.cookie=t+"="+e+";path=/; expires="+a.toUTCString())},jQuery.fn.jplist.services.Cookies.getCookie=function(t){var e,n,a,o=null;a=document.cookie.split(";");for(var r=0;r<a.length;r++)if(e=a[r].substr(0,a[r].indexOf("=")),n=a[r].substr(a[r].indexOf("=")+1),e=e.replace(/^\s+|\s+$/g,""),e==t){o=unescape(n);break}return o},jQuery.fn.jplist.services.Cookies.saveCookies=function(t,e,n){t=JSON.stringify(t),jQuery.fn.jplist.services.Cookies.setCookie(e,t,n)},jQuery.fn.jplist.services.Cookies.restoreCookies=function(e){return e=jQuery.fn.jplist.services.Cookies.getCookie(e),(e=t.parseJSON(e))||(e=[]),e}}(jQuery),function(t){jQuery.fn.jplist.services.Helper={},jQuery.fn.jplist.services.Helper.getOuterHtml=function(t){var e="",n=t[0].attributes,a=t.html();t=t[0].tagName.toString().toLowerCase();for(var e=e+("<"+t),o=0;o<n.length;o++)n[o].nodeValue&&(e+=" "+n[o].nodeName+"=",e+='"'+n[o].nodeValue+'"');return e=e+">"+a,e+="</"+t+">"},jQuery.fn.jplist.services.Helper.replaceHash=function(e){e=t.trim(e.replace("#",""));var n;e=""===e?"#":"#"+e,window.location.hash!==e&&("replaceState"in window.history?window.history.replaceState("","",e):(n=window.location.href.indexOf("#"),e=-1==n?window.location.href+e:window.location.href.substring(0,n)+e,window.location.replace(e)))}}(jQuery),function(t){var e=function(e){return t(e.dataview).map(function(t,e){return e.jqElement.get()})},n=function(e){return t(e.dataitems).map(function(t,e){return e.jqElement.get()})},a=function(t,e){for(var n,a,o=-1,r=0;r<t.dataitems.length;r++)if(n=t.dataitems[r],n=jQuery.fn.jplist.services.Helper.getOuterHtml(n.jqElement),a=jQuery.fn.jplist.services.Helper.getOuterHtml(e),n===a){o=r;break}return o},o=function c(t,e){var c;c=a(t,e),-1!==c&&(t.dataitems.splice(c,1),t.$jplistBox.trigger(t.options.del_item_event,[e,t.dataitems]))},r=function(e,n){n.each(function(){o(e,t(this))})},i=function(t,e,n,a){e=new jQuery.fn.jplist.models.Dataitem(e,n,a),t.dataitems.push(e),t.$jplistBox.trigger(t.options.add_item_event,[e,t.dataitems])},s=function(e,n,a){n.each(function(n){i(e,t(this),a,n)})},l=function(e,n){return t.extend(this,{dataitems:[],dataview:[],$jplistBox:e,options:n})};l.prototype.dataviewToJqueryObject=function(){return e(this)},l.prototype.dataitemsToJqueryObject=function(){return n(this)},l.prototype.resetDataview=function(){this.dataview=t.merge([],this.dataitems)},l.prototype.modifyDataview=function(e){t.isFunction(e)&&e(this.dataview)},l.prototype.empty=function(){this.dataitems=[],this.dataview=[]},l.prototype.addDataItem=function(t,e,n){i(this,t,e,n)},l.prototype.addDataItems=function(t,e){s(this,t,e)},l.prototype.delDataitem=function(t){o(this,t)},l.prototype.delDataitems=function(t){r(this,t)},l.prototype.indexOf=function(t){return a(this,t)},l.prototype.dataviewToString=function(){var t,e,n="";for(e=0;e<this.dataview.length;e++)t=this.dataview[e],n+=t.html;return n},jQuery.fn.jplist.services.Collection=function(t,e){var n;n=new l(t,e),this.$jplistBox=t,this.options=e,this.dataitems=n.dataitems,this.dataview=n.dataview,this.resetDataview=n.resetDataview,this.modifyDataview=n.modifyDataview,this.addDataItem=n.addDataItem,this.addDataItems=n.addDataItems,this.empty=n.empty,this.delDataitem=n.delDataitem,this.delDataitems=n.delDataitems,this.indexOf=n.indexOf,this.dataviewToString=n.dataviewToString,this.dataviewToJqueryObject=n.dataviewToJqueryObject,this.dataitemsToJqueryObject=n.dataitemsToJqueryObject}}(jQuery),function(t){jQuery.fn.jplist.services.Panel={},jQuery.fn.jplist.services.Panel.findControlsByNameAction=function(t,e,n){for(var a,o=[],r=0;r<t.length;r++)a=t[r],a.name===e&&a.action===n&&o.push(a);return o},jQuery.fn.jplist.services.Panel.findControlsByName=function(t,e){for(var n,a=[],o=0;o<t.length;o++)n=t[o],n.name===e&&a.push(n);return a},jQuery.fn.jplist.services.Panel.mergeIdenticalStatuses=function(e){for(var n,a,o,r=[],i=0;i<e.length;i++)(n=e[i])&&(a=jQuery.fn.jplist.services.Status.findStatusByField(n,"name",r),-1!==a?(o=r[a],o.action===n.action&&o.type!==n.type&&(n=t.extend(!0,{},n,r[a]),r[a]=n)):r.push(n));return r},jQuery.fn.jplist.services.Panel.mergeWithStatus=function(e,n){for(var a,o=0;o<e.length;o++)a=e[o],a.name===n.name&&a.action===n.action&&t.extend(!0,a,n);return e},jQuery.fn.jplist.services.Panel.getStatuses=function(e,n){for(var a,o,r,i=[],s=0;s<e.length;s++)a=e[s],(a=a.getStatus(n))&&(o=jQuery.fn.jplist.services.Status.findStatusByField(a,"name",i),-1!=o?(r=i[o],r.action==a.action&&r.type!=a.type&&t.extend(!0,i[o],a)):i.push(a));return i},jQuery.fn.jplist.services.Panel.setStatuses=function(t,e,n){for(var a,o,r=0;r<e.length;r++){a=e[r],o=jQuery.fn.jplist.services.Panel.findControlsByNameAction(t,a.name,a.action);for(var i=0;i<o.length;i++)o[i].setStatus(a,n)}},jQuery.fn.jplist.services.Panel.getPaths=function(t){for(var e,n,a=[],o=0;o<t.length;o++){e=t[o],e=e.getPaths();for(var r=0;r<e.length;r++)n=e[r],jQuery.fn.jplist.services.Path.isPathInList(n,a)||a.push(n)}return a}}(jQuery),function(t){jQuery.fn.jplist.actions.Pagination=function(t,e,n){n=Number(n),isNaN(n)&&(n=0),n=this.itemsNumber=n,null===e?e=n:(e=Number(e),isNaN(e)&&(e=n)),this.itemsOnPage=e,e=(e=this.itemsOnPage)?Math.ceil(this.itemsNumber/e):0,e=this.pagesNumber=e,t=Number(t),isNaN(t)&&(t=0),t>e-1&&(t=0),this.currentPage=t,this.start=this.currentPage*this.itemsOnPage,t=this.itemsNumber,e=this.start+this.itemsOnPage,e>t&&(e=t),this.end=e,t=this.currentPage,this.prevPage=0>=t?0:t-1,t=this.currentPage,e=this.pagesNumber,this.nextPage=0===e?0:t>=e-1?e-1:t+1}}(jQuery),function(t){jQuery.fn.jplist.actions.Filters={},jQuery.fn.jplist.actions.Filters.removeCharacters=function(t,e){return t?t.replace(RegExp(e,"ig"),"").toLowerCase():""},jQuery.fn.jplist.actions.Filters.pathFilter=function(t,e){for(var n,a,o=[],r=0;r<e.length;r++)n=e[r],"default"===t.jqPath?o.push(n):(a=n.findPathitem(t))&&o.push(n);return o},jQuery.fn.jplist.actions.Filters.pathGroupFilter=function(t,e){var n,a,o=[],r=[];if(0>=t.length)return e;for(a=0;a<t.length;a++)n=t[a],n=new jQuery.fn.jplist.models.Path(n,null),o.push(n);for(var i=0;i<e.length;i++){a=e[i];for(var s=0;s<o.length;s++){if(n=o[s],"default"===n.jqPath){r.push(a);break}(n=a.findPathitem(n))&&r.push(a)}}return r},jQuery.fn.jplist.actions.Filters.invertedPathFilter=function(t,e){for(var n,a,o=[],r=!1,i=0;i<e.length;i++)if(n=e[i],r=!1,t&&0<t.length){for(var s=0;s<t.length;s++)a=t.eq(s),a=a.attr("data-path").toString(),"default"==a?r=!0:(a=new jQuery.fn.jplist.models.Path(a,null),(a=n.findPathitem(a))&&(r=!0));r&&o.push(n)}return o},jQuery.fn.jplist.actions.Filters.textFilter=function(t,e,n,a){for(var o,r,i,s=[],l=0;l<n.length;l++)o=n[l],r=o.findPathitem(e),"default"===e.jqPath?s.push(o):r&&(r=jQuery.fn.jplist.actions.Filters.removeCharacters(r.text,a),i=jQuery.fn.jplist.actions.Filters.removeCharacters(t,a),-1!==r.indexOf(i)&&s.push(o));return s},jQuery.fn.jplist.actions.Filters.textFilterPathGroup=function(t,e,n){var a,o,r,i,s=[],l=[];for(i=0;i<t.length;i++)r=t[i],r.selected&&(a=r.path,o=new jQuery.fn.jplist.models.Path(a,null),r.pathObj=o,s.push(r));if(0>=s.length)return n;for(a=0;a<n.length;a++){t=n[a],i=!1;for(var c=0;c<s.length;c++)if(r=s[c],o=r.pathObj){if("default"===o.jqPath){i=!0;break}(o=t.findPathitem(o))&&(o=jQuery.fn.jplist.actions.Filters.removeCharacters(o.text,e),r=jQuery.fn.jplist.actions.Filters.removeCharacters(r.text,e),-1!==o.indexOf(r)&&(i=!0))}i&&l.push(t)}return l},jQuery.fn.jplist.actions.Filters.textGroupFilter=function(t,e,n,a,o){var r,i,s,l,c,u=[];if(0>=t.length)return o;s=new jQuery.fn.jplist.models.Path(n,null);for(var p=0;p<o.length;p++)if(n=o[p],i=n.findPathitem(s),"default"===s.jqPath)u.push(n);else if(i)if(i=jQuery.fn.jplist.actions.Filters.removeCharacters(i.text,a),"or"===e){for(c=0;c<t.length;c++)if(r=t[c],r=jQuery.fn.jplist.actions.Filters.removeCharacters(r,a),-1!==i.indexOf(r)){u.push(n);break}}else{for(l=[],c=0;c<t.length;c++)r=t[c],r=jQuery.fn.jplist.actions.Filters.removeCharacters(r,a),-1!==i.indexOf(r)&&l.push(r);l.length===t.length&&u.push(n)}return u},jQuery.fn.jplist.actions.Filters.dateFilter=function(t,e,n,a,o,r){for(var i,s,l=[],c=0;c<o.length;c++)i=o[c],(s=i.findPathitem(a))&&(t&&e&&n?(s=jQuery.fn.jplist.actions.Sort.formatDatetime(s.text,r))&&"function"==typeof s.getFullYear&&s.getFullYear()===t&&s.getMonth()-1===e&&s.getDate()===n&&l.push(i):l.push(i));return l},jQuery.fn.jplist.actions.Filters.pagerFilter=function(t,e){return e.slice(t.start,t.end)},jQuery.fn.jplist.actions.Filters.rangeFilter=function(e,n,a,o,r,i){a=[];for(var s,l=t.isNumeric(r),c=t.isNumeric(i),u=0;u<n.length;u++)o=n[u],(s=o.findPathitem(e))&&(s=Number(s.text.replace(/[^0-9\.]+/g,"")),isNaN(s)||(l&&c?s>=r&&i>=s&&a.push(o):l&&!c?s>=r&&a.push(o):!l&&c&&i>=s&&a.push(o)));return a},jQuery.fn.jplist.actions.Filters.dateRangeFilter=function(t,e,n,a,o,r,i,s,l){for(var c,u,p,d,f=[],j=0;j<e.length;j++)c=e[j],(u=c.findPathitem(t))&&(p=!a||!o||!r,d=!i||!s||!l,p||d?f.push(c):(d=jQuery.fn.jplist.actions.Sort.formatDatetime(u.text,n))&&"function"==typeof d.getFullYear&&(u=new Date(a,o,r),p=new Date(i,s,l),d.setHours(0),d.setMinutes(0),d.setSeconds(0),d>=u&&p>=d&&f.push(c)));return f},jQuery.fn.jplist.actions.Filters.autocompleteFilter=function(e,n,a,o,r){var i,s,l=[];if(t.isNumeric(e)&&t.isNumeric(n)&&google&&jQuery.fn.jlocator&&jQuery.fn.jlocator.store){e=new google.maps.LatLng(e,n);for(var c=0;c<o.length;c++)n=o[c],i=new jQuery.fn.jlocator.store(n.jqElement,{}),s=i.country?t.trim(i.country.toLowerCase())==t.trim(a.toLowerCase()):!1,i=google.maps.geometry.spherical.computeDistanceBetween(e,i.latlng),(r>=i||s)&&l.push(n);return l}return o}}(jQuery),function(t){jQuery.fn.jplist.actions.Sort={};var e=function(t,e){var n,a=null;return n=t.replace(/{year}|{month}|{day}|{hour}|{min}|{sec}/g,".*"),(n=RegExp(n,"g").exec(e))&&1<n.length&&(a=n[1]),a},n=function(t,e){var n=null;return"{month}"==t?(e=e.toLowerCase(),"january"!==e&&"jan"!==e&&"jan."!==e||(n=0),"february"!==e&&"feb"!==e&&"feb."!==e||(n=1),"march"!==e&&"mar"!==e&&"mar."!==e||(n=2),"april"!=e&&"apr"!==e&&"apr."!==e||(n=3),"may"===e&&(n=4),"july"!=e&&"jun"!==e&&"jun."!==e||(n=5),"april"!==e&&"jul"!==e&&"jul."!==e||(n=6),"august"!==e&&"aug"!==e&&"aug."!==e||(n=7),"september"!==e&&"sep"!==e&&"sep."!==e||(n=8),"october"!==e&&"oct"!==e&&"oct."!==e||(n=9),"november"!==e&&"nov"!==e&&"nov."!==e||(n=10),"december"!==e&&"dec"!==e&&"dec."!==e||(n=11),null===n&&(n=parseInt(e,10),isNaN(n)||n--)):n=parseInt(e,10),n},a=function(t,e,n,a){return t=t.findPathitem(a),e=e.findPathitem(a),t&&e?(a=parseFloat(t.text.replace(/[^0-9\.]+/g,"")),e=parseFloat(e.text.replace(/[^0-9\.]+/g,"")),n=a==e?0:"asc"==n?isNaN(a)?1:isNaN(e)?-1:a-e:isNaN(a)?1:isNaN(e)?-1:e-a):0},o=function(t,e,n,a,o){return t=t.findPathitem(a),e=e.findPathitem(a),t&&e?(o?(a=RegExp(o,"ig"),o=t.text.toString().replace(a,"").toLowerCase(),t=e.text.toString().replace(a,"").toLowerCase()):(o=t.text.toString().toLowerCase(),t=e.text.toString().toLowerCase()),o==t?0:"asc"==n?o>t?1:-1:t>o?1:-1):0},r=function(e,n,a,o,r){return e=e.findPathitem(o),n=n.findPathitem(o),e&&n?(t.trim(r)?(o=jQuery.fn.jplist.actions.Sort.formatDatetime(e.text,r),r=jQuery.fn.jplist.actions.Sort.formatDatetime(n.text,r)):(o=new Date(Date.parse(e.text)),r=new Date(Date.parse(n.text))),o==r?0:"asc"==a?o>r?1:-1:r>o?1:-1):0},i=function s(t,e,n,i){var l,c,u,p=0;if(0<n.length){if(l=n[i],"default"!=l.data.path)switch(c=new jQuery.fn.jplist.models.Path(l.data.path,l.data.type),u=l.data.order,l.data.dateTimeFormat||(l.data.dateTimeFormat=""),l.data.ignore||(l.data.ignore=""),l.data.type){case"text":p=o(t,e,u,c,l.data.ignore);break;case"number":p=a(t,e,u,c);break;case"datetime":p=r(t,e,u,c,l.data.dateTimeFormat);break;case"date":p=r(t,e,u,c,l.data.dateTimeFormat)}else p=t.index,l=e.index,p=p===l?0:isNaN(p)?1:isNaN(l)?-1:p-l;0===p&&i+1<n.length&&(p=s(t,e,n,i+1))}return p};jQuery.fn.jplist.actions.Sort.formatDatetime=function(t,a){var o,r,i,s,l,c;return a=a.replace(/\./g,"\\."),a=a.replace(/\(/g,"\\("),a=a.replace(/\)/g,"\\)"),a=a.replace(/\[/g,"\\["),a=a.replace(/\]/g,"\\]"),o=a.replace("{year}","(.*)"),(r=e(o,t))&&(r=n("{year}",r)),o=a.replace("{day}","(.*)"),(s=e(o,t))&&(s=n("{day}",s)),o=a.replace("{month}","(.*)"),(i=e(o,t))&&(i=n("{month}",i)),o=a.replace("{hour}","(.*)"),(l=e(o,t))&&(l=n("{hour}",l)),o=a.replace("{min}","(.*)"),(c=e(o,t))&&(c=n("{min}",c)),o=a.replace("{sec}","(.*)"),(o=e(o,t))&&(o=n("{sec}",o)),r&&!isNaN(r)||(r=1900),i&&!isNaN(i)||(i=0),s&&!isNaN(s)||(s=1),l&&!isNaN(l)||(l=0),c&&!isNaN(c)||(c=0),o&&!isNaN(o)||(o=0),new Date(r,i,s,l,c,o)},jQuery.fn.jplist.actions.Sort.doubleSort=function(t,e){e.sort(function(e,n){return i(e,n,t,0)})},jQuery.fn.jplist.actions.Sort.numbers=function(t,e,n){n.sort(function(n,o){return a(n,o,t,e)})},jQuery.fn.jplist.actions.Sort.text=function(t,e,n,a){n.sort(function(n,r){return o(n,r,t,e,a)})},jQuery.fn.jplist.actions.Sort.datetime=function(t,e,n,a){n.sort(function(n,o){return r(n,o,t,e,a)})}}(jQuery),function(t){var e=function i(t,e){for(var i,n=[],a=0;a<e.length;a++)i=e.eq(a),i=new jQuery.fn.jplist.view.PanelControl(t.$jplistBox,t.options,i,t.events),n.push(i);return n},n=function s(e){var n,s=t(window).scrollTop();n=Number(e.data("top")),isNaN(n)||(s>n?e.addClass("jplist-sticky"):e.removeClass("jplist-sticky"))},a=function(e,a){a.each(function(){var e=t(this),a=e.offset().top;e.data("top",a),n(e)}),t(window).scroll(function(){a.each(function(){n(t(this))})})},o=function l(n){for(var a,l=0;l<n.controls.length;l++)a=n.controls[l],a.initEvents();n.$jplistBox.on(n.options.answer_event,function(t,e,a){jQuery.fn.jplist.services.Panel.setStatuses(n.controls,e,!1)}),n.$jplistBox.on(n.options.force_ask_event,function(t,e){var a;a=jQuery.fn.jplist.services.Panel.getStatuses(n.controls,e),n.$jplistBox.trigger(n.options.ask_event,[a])}),n.$jplistBox.on(n.options.restore_event,function(t,e){jQuery.fn.jplist.services.Panel.setStatuses(n.controls,e,!0),n.$jplistBox.trigger(n.options.ask_event,[e])}),n.$jplistBox.on(n.options.status_event,function(t,e){var a;a=jQuery.fn.jplist.services.Panel.getStatuses(n.controls,!1),a=jQuery.fn.jplist.services.Panel.mergeWithStatus(a,e),n.$jplistBox.trigger(n.options.ask_event,[a])}),n.$jplistBox.on(n.options.change_url_deep_links_event,function(e){if(n.options.deep_linking){e=n.controls;var a,o="",o=[];a="";for(var r=0;r<e.length;r++)a=e[r],a=t.trim(a.getDeepLink()),""!==a&&-1===t.inArray(a,o)&&o.push(a);o=o.join("~~"),jQuery.fn.jplist.services.Helper.replaceHash(o)}}),n.$jplistBox.on(n.options.set_deep_links_event,function(e){var a,o=t.trim(window.location.hash.replace("#","")),r=[];e=[];var i;if(n.options.deep_linking&&""!==t.trim(o))for(r=o.split("~~"),o=0;o<r.length;o++)a=r[o],i=a.split("="),2===i.length&&(a=i[0],i=i[1],a=a.split("--"),2===a.length&&(a={controlName:a[0],propName:a[1],propValue:i},e.push(a)));if(0>=e.length)n.$jplistBox.trigger(n.options.force_ask_event,[!0]);else{a=n.controls;for(var s,l,r=[],o=0;o<e.length;o++){i=e[o],s=jQuery.fn.jplist.services.Panel.findControlsByName(a,i.controlName);for(var c=0;c<s.length;c++)l=s[c],(l=l.getStatusByDeepLink(i.propName,i.propValue))&&r.push(l)}for(e=jQuery.fn.jplist.services.Panel.getStatuses(n.controls,!1),o=0;o<r.length;o++)jQuery.fn.jplist.services.Panel.mergeWithStatus(e,r[o]);n.$jplistBox.trigger(n.options.ask_event,[e])}}),n.$jplistBox.on(n.options.rebuild_panel_event,function(o,r){n.$controls=n.$panel.find("[data-control-type]"),n.controls=e(n,n.$controls),n.paths=jQuery.fn.jplist.services.Panel.getPaths(n.controls);for(var i=0;i<n.controls.length;i++)a=n.controls[i],a.initEvents();t.isFunction(r)&&r(n.$controls,n.controls,n.paths)})},r=function(n,r,i){return n={options:r,$jplistBox:n,$panel:n.find(r.panel_path),$controls:null,$sticky:null,events:i,paths:[],controls:[]},n.$controls=n.$panel.find("[data-control-type]"),n.controls=e(n,n.$controls),n.paths=jQuery.fn.jplist.services.Panel.getPaths(n.controls),n.$sticky=n.$jplistBox.find('[data-sticky="true"]'),0<n.$sticky.length&&a(n,n.$sticky),o(n),t.extend(this,n)};jQuery.fn.jplist.view.Panel=function(t,e,n){t=new r(t,e,n),this.paths=t.paths,this.controls=t.controls}}(jQuery),function(t){var e=function(e){var n;e.controlTypeClass&&(n=e.controlTypeClass.render)&&t.isFunction(n)&&n(e)},n=function o(e){var o;e.controlTypeClass&&(o=e.controlTypeClass.initEvents)&&t.isFunction(o)&&o(e)},a=function(n,a,o,r){return n={$jplistBox:n,options:a,$control:o,events:r,type:null,action:null,name:null,category:null,cookies:!0,controlType:null,controlTypeClass:null,controlTypeOptions:null},n.type=o.attr("data-control-type"),n.action=o.attr("data-control-action"),n.name=o.attr("data-control-name"),n.category=o.attr("data-control-category"),(o=o.attr("data-control-cookies"))&&"false"===o.toString()&&(n.cookies=!1),n.controlType=n.options.control_types[n.type],n.controlType&&(n.controlType.class_name&&(n.controlTypeClass=jQuery.fn.jplist.controls[n.controlType.class_name]),n.controlType.options&&(n.controlTypeOptions=n.controlType.options)),e(n),t.extend(this,n)};a.prototype.render=function(){e(this)},a.prototype.getStatusByDeepLink=function(e,n){var a,o=null;return this.controlTypeClass&&(a=this.controlTypeClass.getStatusByDeepLink)&&t.isFunction(a)&&(o=a(this,e,n)),o},a.prototype.getDeepLink=function(){var e,n="";return this.controlTypeClass&&(e=this.controlTypeClass.getDeepLink)&&t.isFunction(e)&&(n=e(this)),n},a.prototype.getPaths=function(){var e,n=[];return this.controlTypeClass&&(e=this.controlTypeClass.getPaths)&&t.isFunction(e)&&e(this,n),n},a.prototype.getStatus=function(e){var n,a=null;return this.controlTypeClass&&(n=this.controlTypeClass.getStatus)&&t.isFunction(n)&&(a=n(e,this)),a},a.prototype.setStatus=function(e,n){var a;e.action===this.action&&e.name===this.name&&this.controlTypeClass&&(a=this.controlTypeClass.setStatus)&&t.isFunction(a)&&a(e,this,n)},a.prototype.initEvents=function(){n(this)},jQuery.fn.jplist.view.PanelControl=function(t,e,o,r){t=new a(t,e,o,r),n(t),this.options=t.options,this.$jplistBox=t.$jplistBox,this.$control=t.$control,this.events=t.events,this.type=t.type,this.action=t.action,this.name=t.name,this.category=t.category,this.cookies=t.cookies,this.controlType=t.controlType,this.controlTypeClass=t.controlTypeClass,this.controlTypeOptions=t.controlTypeOptions,this.render=t.render,this.getPaths=t.getPaths,this.getStatus=t.getStatus,this.setStatus=t.setStatus,this.initEvents=t.initEvents,this.getStatusByDeepLink=t.getStatusByDeepLink,this.getDeepLink=t.getDeepLink}}(jQuery),function(t){var e=function(e){e.$jplistBox.on(e.options.ask_event,function(n,a){e.$itemsBox.addClass("jplist-hidden"),e.$noResults.addClass("jplist-hidden"),e.$preloader&&e.$preloader.removeClass("jplist-hidden"),e.options.cookies&&jQuery.fn.jplist.services.Cookies.saveCookies(a,e.options.cookie_name,e.options.expiration),e.options.dataSource.server.ajax.data||(e.options.dataSource.server.ajax.data={}),e.options.dataSource.server.ajax.data.statuses=encodeURIComponent(JSON.stringify(a)),t.ajax(e.options.dataSource.server.ajax).done(function(n){var o={html:""};if(e.$preloader&&e.$preloader.addClass("jplist-hidden"),e.$itemsBox.removeClass("jplist-hidden"),n){if(o=t.parseJSON(n),o.html||(o.html=""),o.data){var r=o.data;n=0;var i;r.count&&t.isNumeric(r.count)&&(n=r.count);for(var r=jQuery.fn.jplist.services.Status.getStatusesByAction("paging",a),s=0;s<r.length;s++)i=r[s],i.data.currentPage||(i.data.currentPage=0),i=new jQuery.fn.jplist.actions.Pagination(i.data.currentPage,i.data.number,n),r[s].data.paging=i}n=o.html,e.$itemsBox.html(n),e.$jplistBox.trigger(e.options.answer_event,[a,n]),n&&""!==t.trim(n)?(e.$noResults.addClass("jplist-hidden"),e.$itemsBox.removeClass("jplist-hidden")):(e.$noResults.removeClass("jplist-hidden"),e.$itemsBox.addClass("jplist-hidden")),t.isFunction(e.options.redraw_callback)&&e.options.redraw_callback()}t.isFunction(e.options.dataSource.server.serverOkCallback)&&e.options.dataSource.server.serverOkCallback(o.html,a)}).fail(function(){t.isFunction(e.options.dataSource.server.serverErrorCallback)&&e.options.dataSource.server.serverErrorCallback(a)})})},n=function(n,a,o,r){return n={options:r,$jplistBox:n,$itemsBox:a,$noResults:o,$preloader:null},n.options.dataSource.server.preloaderPath&&(n.$preloader=n.$jplistBox.find(n.options.dataSource.server.preloaderPath)),e(n),t.extend(this,n)};jQuery.fn.jplist.controller.Server=function(t,e,a,o){return new n(t,e,a,o)}}(jQuery),function(t){var e=function(e){e.$jplistBox.on(e.options.ask_event,function(n,a){e.options.cookies&&jQuery.fn.jplist.services.Cookies.saveCookies(a,e.options.cookie_name,e.options.expiration),t.isFunction(e.options.dataSource.jsFunction.jsFunctionName)&&(e.$itemsBox.html(""),e.$preloader&&e.$preloader.show(0),e.options.dataSource.jsFunction.jsFunctionName(a,e.options,function(n){e.$preloader&&e.$preloader.hide(0),e.$itemsBox.html(n),e.$jplistBox.trigger(e.options.answer_event,[a,n]),n&&""!==t.trim(n)?(e.$noResults.addClass("jplist-hidden"),e.$itemsBox.removeClass("jplist-hidden")):(e.$noResults.removeClass("jplist-hidden"),e.$itemsBox.addClass("jplist-hidden")),t.isFunction(e.options.redraw_callback)&&e.options.redraw_callback(),e.options.deep_linking&&e.$jplistBox.trigger(e.options.change_url_deep_links_event,[])}))})},n=function(n,a,o,r){return n={options:r,$jplistBox:n,$itemsBox:a,$noResults:o,$preloader:null},n.options.dataSource.jsFunction.preloaderPath&&(n.$preloader=n.$jplistBox.find(n.options.dataSource.jsFunction.preloaderPath)),e(n),t.extend(this,n)};jQuery.fn.jplist.controller.dataSourceJSFunction=function(t,e,a,o){return new n(t,e,a,o)}}(jQuery),function(t){var e=function(t,e){t.modifyDataview(function(n){var a;switch(a=new jQuery.fn.jplist.models.Path(e.data.path,null),e.data.filterType){case"text":t.dataview=jQuery.fn.jplist.actions.Filters.textFilter(e.data.value,a,n,e.data.ignore);break;case"path":t.dataview=jQuery.fn.jplist.actions.Filters.pathFilter(a,n);break;case"inverted_path":t.dataview=jQuery.fn.jplist.actions.Filters.invertedPathFilter(e.data.checked_checkboxes,n);break;case"range":t.dataview=jQuery.fn.jplist.actions.Filters.rangeFilter(a,n,e.data.min,e.data.max,e.data.prev,e.data.next);break;case"date":t.dataview=jQuery.fn.jplist.actions.Filters.dateFilter(e.data.year,e.data.month,e.data.day,a,n,e.data.format);break;case"date_range":t.dataview=jQuery.fn.jplist.actions.Filters.dateRangeFilter(a,n,e.data.format,e.data.prev_year,e.data.prev_month,e.data.prev_day,e.data.next_year,e.data.next_month,e.data.next_day);break;case"pathGroup":t.dataview=jQuery.fn.jplist.actions.Filters.pathGroupFilter(e.data.pathGroup,n);break;case"textGroup":t.dataview=jQuery.fn.jplist.actions.Filters.textGroupFilter(e.data.textGroup,e.data.logic,e.data.path,e.data.ignoreRegex,n);break;case"textFilterPathGroup":t.dataview=jQuery.fn.jplist.actions.Filters.textFilterPathGroup(e.data.textAndPathsGroup,e.data.ignoreRegex,n);break;case"autocomplete":t.dataview=jQuery.fn.jplist.actions.Filters.autocompleteFilter(e.data.latitude,e.data.longitude,e.data.name,n,e.data.radius)}})},n=function(n){n.$jplistBox.on(n.options.ask_event,function(a,o){if(n.options.cookies&&jQuery.fn.jplist.services.Cookies.saveCookies(o,n.options.cookie_name,n.options.expiration),n.collection){var r=n.collection;r.resetDataview();var i;i=jQuery.fn.jplist.services.Status.getStatusesByAction("sort",o),0<i.length&&(jQuery.fn.jplist.actions.Sort.doubleSort(i,r.dataview),n.$jplistBox.trigger(n.options.sort_event,[o,r]));var s;if(i=jQuery.fn.jplist.services.Status.getStatusesByAction("filter",o),0<i.length){for(var l=0;l<i.length;l++)s=i[l],e(r,s);n.$jplistBox.trigger(n.options.filter_event,[o,r])}var c,l=null;if(i=jQuery.fn.jplist.services.Status.getStatusesByAction("paging",o),0<i.length){for(s=0;s<i.length;s++)l=i[s],c=l.data.currentPage?l.data.currentPage:0,l=new jQuery.fn.jplist.actions.Pagination(c,l.data.number,r.dataview.length),i[s].data.paging=l,r.dataview=jQuery.fn.jplist.actions.Filters.pagerFilter(l,r.dataview);n.$jplistBox.trigger(n.options.pagination_event,[o,r])}i=r.dataitemsToJqueryObject(),s=r.dataviewToJqueryObject(),0<i.length&&i.detach(),0<s.length&&n.$itemsBox.append(s),n.$jplistBox.trigger(n.options.answer_event,[o,r]),0>=r.dataview.length?(n.$noResults.removeClass("jplist-hidden"),n.$itemsBox.addClass("jplist-hidden")):(n.$noResults.addClass("jplist-hidden"),n.$itemsBox.removeClass("jplist-hidden")),t.isFunction(n.options.redraw_callback)&&n.options.redraw_callback(r,s,o),""!==n.options.animate_to_top&&(r="auto"!==n.options.animate_to_top?t(n.options.animate_to_top).offset().top:n.$jplistBox.offset().top,t("html, body").animate({scrollTop:r},n.options.animate_to_top_duration))}n.options.deep_linking&&n.$jplistBox.trigger(n.options.change_url_deep_links_event,[])})},a=function r(t,e,n,a){for(var o;a<n.length;a++)o=n.eq(a),e.addDataItem(o,t.panel.paths,a),a+1<n.length&&0===a%50&&window.setTimeout(function(){r(t,e,n,a)},0)},o=function(e,o){var r,i={options:o,$jplistBox:e,$itemsBox:e.find(o.items_box).eq(0),$noResults:null,panel:null,collection:null,events:null,server:null,dataSourceJSFunction:null};switch(i.events=new jQuery.fn.jplist.controller.Events(i.$jplistBox,i.options),i.panel=new jQuery.fn.jplist.view.Panel(i.$jplistBox,i.options,i.events),i.$noResults=e.find(i.options.no_results),i.options.dataSource||(i.options.dataSource="html"),i.options.dataSource.type){case"html":var s;r=new jQuery.fn.jplist.services.Collection(i.$jplistBox,i.options),s=i.$itemsBox.find(i.options.item_path).detach(),a(i,r,s,0),r.resetDataview(),i.collection=r,n(i),i.$jplistBox.trigger(i.options.collection_ready_event,[i.collection]);break;case"server":i.server=new jQuery.fn.jplist.controller.Server(i.$jplistBox,i.$itemsBox,i.$noResults,i.options);break;case"jsFunction":t.isFunction(i.options.dataSource.jsFunction.jsFunctionName)&&(i.dataSourceJSFunction=new jQuery.fn.jplist.controller.dataSourceJSFunction(i.$jplistBox,i.$itemsBox,i.$noResults,i.options))}return i.options.deep_linking?i.$jplistBox.trigger(i.options.set_deep_links_event,[]):i.options.cookies?(r=jQuery.fn.jplist.services.Cookies.restoreCookies(i.options.cookie_name),0<r.length?i.$jplistBox.trigger(i.options.restore_event,[r]):i.$jplistBox.trigger(i.options.force_ask_event,[!0])):i.$jplistBox.trigger(i.options.force_ask_event,[!0]),t.extend(this,i)};jQuery.fn.jplist.controller.Controller=function(t,e){return new o(t,e)}}(jQuery),function(t){var e=function(e,n){return t.extend(this,{options:n,$jplistBox:e,lastStatus:null})};jQuery.fn.jplist.controller.Events=function(t,n){return new e(t,n)}}(jQuery),function(t){jQuery.fn.jplist.controls.DefaultSort={},jQuery.fn.jplist.controls.DefaultSort.statusRelatedDataSort=function(t,e,n,a,o){return{path:t,type:e,order:n,dateTimeFormat:a,ignore:o}},jQuery.fn.jplist.controls.DefaultSort.getPaths=function(e,n){var a,o;a=e.$control.attr("data-path"),o=e.$control.attr("data-type"),a&&""!==t.trim(a)&&(a=new jQuery.fn.jplist.models.Path(a,o),jQuery.fn.jplist.services.Path.isPathInList(a,n)||n.push(a));
},jQuery.fn.jplist.controls.DefaultSort.getStatus=function(t,e){var n;return n=new jQuery.fn.jplist.controls.DefaultSort.statusRelatedDataSort(e.$control.attr("data-path"),e.$control.attr("data-type"),e.$control.attr("data-order"),e.$control.attr("data-datetime-format"),e.$control.attr("data-ignore")),new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)}}(jQuery),function(t){jQuery.fn.jplist.controls.Dropdown={},jQuery.fn.jplist.controls.Dropdown.statusRelatedDataSort=function(t,e,n,a,o){return{path:t,type:e,order:n,dateTimeFormat:a,ignore:o}},jQuery.fn.jplist.controls.Dropdown.statusRelatedDataFilter=function(t,e){return{path:t,type:e,filterType:"path"}},jQuery.fn.jplist.controls.Dropdown.statusRelatedDataItemsOnPage=function(t){return{number:t}},jQuery.fn.jplist.controls.Dropdown.render=function(t){var e;e=t.$control.find("li:eq(0)"),e.addClass("active"),e=e.find("span"),0>=t.$control.find(".panel").length&&t.$control.prepend('<div class="panel">'+e.text()+"</div>")},jQuery.fn.jplist.controls.Dropdown.getDeepLink=function(e){var n,a="";if(n=jQuery.fn.jplist.controls.Dropdown.getStatus(!1,e),n.data)switch(e.action){case"paging":(t.isNumeric(n.data.number)||"all"===n.data.number)&&(a=e.name+"--number="+n.data.number);break;case"sort":n.data.path&&n.data.type&&n.data.order&&(a=e.name+"--path~type~order="+n.data.path+"~"+n.data.type+"~"+n.data.order);break;case"filter":n.data.path&&(a=e.name+"--path="+n.data.path)}return a},jQuery.fn.jplist.controls.Dropdown.getStatusByDeepLink=function(e,n,a){var o;if("number"!==n&&"path~type~order"!==n&&"path"!==n)return null;if(o=jQuery.fn.jplist.controls.Dropdown.getStatus(!0,e),o.data)switch(e.action){case"paging":"number"===n&&t.isNumeric(o.data.number)&&(o.data.number=a);break;case"sort":"path~type~order"===n&&(e=a.split("~"),3===e.length&&(o.data.path=e[0],o.data.type=e[1],o.data.order=e[2]));break;case"filter":"path"===n&&o.data.path&&(o.data.path=a)}return o},jQuery.fn.jplist.controls.Dropdown.getPaths=function(e,n){var a,o,r;e.$control.find("span").each(function(){a=t(this).attr("data-path"),o=t(this).attr("data-type"),a&&""!==t.trim(a)&&(r=new jQuery.fn.jplist.models.Path(a,o),jQuery.fn.jplist.services.Path.isPathInList(r,n)||n.push(r))})},jQuery.fn.jplist.controls.Dropdown.getStatus=function(t,e){var n,a,o=null;switch(t?(n=e.$control.find('li:has(span[data-default="true"])').eq(0),0>=n.length&&(n=e.$control.find("li:eq(0)"))):n=e.$control.find(".active"),n=n.find("span"),e.action){case"paging":n=new jQuery.fn.jplist.controls.Dropdown.statusRelatedDataItemsOnPage(n.attr("data-number")),o=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category);break;case"sort":(o=e.$control.attr("data-datetime-format"))||(o=""),(a=e.$control.attr("data-ignore"))||(a=""),n=new jQuery.fn.jplist.controls.Dropdown.statusRelatedDataSort(n.attr("data-path"),n.attr("data-type"),n.attr("data-order"),o,a),o=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category);break;case"filter":n=new jQuery.fn.jplist.controls.Dropdown.statusRelatedDataFilter(n.attr("data-path"),n.attr("data-type")),o=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)}return o},jQuery.fn.jplist.controls.Dropdown.setStatus=function(t,e,n){var a=null;switch(!e.cookies&&n&&(a=e.$control.find('li:has(span[data-default="true"])').eq(0),0>=a.length&&(a=e.$control.find("li:eq(0)")),a=a.find("span")),e.action){case"filter":!e.cookies&&n&&0<a.length?(t.data.path=a.attr("data-path"),t.data.type=a.attr("data-type"),e.events.lastStatus=t,e.$jplistBox.trigger(e.options.status_event,[t])):(e.$control.find("li").removeClass("active"),t=e.$control.find('li:has([data-path="'+t.data.path+'"])'),t.addClass("active"),e.$control.find(".panel").text(t.eq(0).text()));break;case"sort":!e.cookies&&n&&0<a.length?(t.data.path=a.attr("data-path"),t.data.type=a.attr("data-type"),t.data.order=a.attr("data-order"),e.events.lastStatus=t,e.$jplistBox.trigger(e.options.status_event,[t])):(e.$control.find("li").removeClass("active"),t="default"==t.data.path?e.$control.find('li:has([data-path="default"])'):e.$control.find('li:has([data-path="'+t.data.path+'"][data-type="'+t.data.type+'"][data-order="'+t.data.order+'"])'),t.addClass("active"),e.$control.find(".panel").text(t.eq(0).text()));break;case"paging":!e.cookies&&n&&0<a.length?(t.data.number=a.attr("data-number"),e.events.lastStatus=t,e.$jplistBox.trigger(e.options.status_event,[t])):(e.$control.find("li").removeClass("active"),t=e.$control.find('li:has([data-number="'+t.data.number+'"])'),0===t.length&&(t=e.$control.find('li:has([data-number="all"])')),t.addClass("active"),e.$control.find(".panel").text(t.eq(0).text()))}},jQuery.fn.jplist.controls.Dropdown.initEvents=function(e){var n=t(document).find('[data-control-type="drop-down"]');t(document).click(function(){n.find("ul").hide()}),t(document).off("jplist_dropdown_close").on("jplist_dropdown_close",function(e,a){n.each(function(){t(this).is(a)||t(this).find("ul").hide()})}),e.$control.find(".panel").off().click(function(e){var n;e.stopPropagation(),e=t(this).parents("[data-control-type]"),n=e.find("ul"),t(document).trigger("jplist_dropdown_close",[e]),n.is(":visible")?n.hide():n.show()}),e.$control.find("li").off().click(function(){var n,a,o,r;n=jQuery.fn.jplist.controls.Dropdown.getStatus(!1,e),r=t(this).find("span"),a=r.attr("data-path"),o=r.attr("data-number"),a?(n.data.path=a,n.data.type=r.attr("data-type"),n.data.order=r.attr("data-order")):o&&(n.data.number=o),e.events.lastStatus=n,e.$jplistBox.trigger(e.options.status_event,[n])})}}(jQuery),function(t){jQuery.fn.jplist.controls.Label={},jQuery.fn.jplist.controls.Label.setStatus=function(t,e,n){"paging"===t.action&&t.data&&t.data.paging&&(t=t.data.paging,0>=t.pagesNumber?e.$control.html(""):(n=e.$control.attr("data-type"),n=n.replace("{current}",t.currentPage+1),n=n.replace("{pages}",t.pagesNumber),n=n.replace("{start}",t.start+1),n=n.replace("{end}",t.end),n=n.replace("{all}",t.itemsNumber),e.$control.html(n)))}}(jQuery),function(t){jQuery.fn.jplist.controls.Counter={};var e=function n(t,e){var n,a,o,r,i=null,s="";switch(a=t.$control.data("path"),r=t.$control.data("dataType"),o=t.$control.data("dataText"),n=t.$control.data("$countValue"),r){case"path":i=jQuery.fn.jplist.actions.Filters.pathFilter(a,e);break;case"text":t.controlTypeOptions&&t.controlTypeOptions.ignore&&(s=t.controlTypeOptions.ignore),i=jQuery.fn.jplist.actions.Filters.textFilter(o,a,e,s);break;case"range":i=jQuery.fn.jplist.actions.Filters.rangeFilter(a,e,0,0,t.$control.data("dataMin"),t.$control.data("dataMax"))}i&&(n.html(i.length),0===i.length?t.$control.addClass("count-0"):t.$control.removeClass("count-0"))};jQuery.fn.jplist.controls.Counter.render=function(t){var e,n,a,o,r,i,s;e=t.$control.attr("data-format"),o=t.$control.attr("data-mode"),r=t.$control.attr("data-type"),n=t.$control.attr("data-path"),a=t.$control.attr("data-text"),i=t.$control.attr("data-min"),s=t.$control.attr("data-max"),o||(o="static"),r||(r="path"),e&&(e=e.replace("{count}",'<span data-type="count-value"></span>'),t.$control.html(e),e=t.$control.find('[data-type="count-value"]'),t.$control.data("$countValue",e)),n&&(e=new jQuery.fn.jplist.models.Path(n,null),t.$control.data("path",e)),t.$control.data("dataMode",o),t.$control.data("dataType",r),t.$control.data("dataPath",n),t.$control.data("dataText",a),t.$control.data("dataMin",i),t.$control.data("dataMax",s)},jQuery.fn.jplist.controls.Counter.initEvents=function(t){switch(t.$control.data("dataMode")){case"static":t.$jplistBox.on(t.options.collection_ready_event,function(n,a){e(t,a.dataitems)});break;case"filter":t.$jplistBox.on(t.options.filter_event,function(n,a,o){e(t,o.dataview)});break;case"all":t.$jplistBox.on(t.options.answer_event,function(n,a,o){e(t,o.dataview)})}}}(jQuery),function(t){var e=function a(t,e){var n,a=0;return t?a=0:(n=e.attr("data-number"),a=Number(n),isNaN(n)&&(a=0)),a},n=function o(n){var o,a=null;n.$control.find("span").off("click").on("click",function(){o=e(!1,t(this)),a=jQuery.fn.jplist.controls.Placeholder.getStatus(!1,n),a.data.currentPage=o,n.events.lastStatus=a,n.$jplistBox.trigger(n.options.status_event,[a])})};jQuery.fn.jplist.controls.Placeholder={},jQuery.fn.jplist.controls.Placeholder.statusRelatedData=function(t,e){var n={currentPage:t,paging:null};return e&&(n.number=e),n},jQuery.fn.jplist.controls.Placeholder.render=function(t){var e,n,a,o;o=t.controlTypeOptions,t.$control.html('<div class="pagingprev"></div><div class="pagingmid"></div><div class="pagingnext"></div>'),e=t.$control.find(".pagingprev"),n=t.$control.find(".pagingmid"),a=t.$control.find(".pagingnext"),t.$control.data("pagingprev",e),t.$control.data("pagingmid",n),t.$control.data("pagingnext",a),e.html('<span class="first" data-number="0">'+o.first_arrow+'</span><span class="prev">'+o.prev_arrow+"</span>"),a.html('<span class="next">'+o.next_arrow+'</span><span class="last">'+o.last_arrow+"</span>"),t.$control.data("first",e.find(".first")),t.$control.data("prev",e.find(".prev")),t.$control.data("next",a.find(".next")),t.$control.data("last",a.find(".last"))},jQuery.fn.jplist.controls.Placeholder.getDeepLink=function(e){var n,a="";return n=jQuery.fn.jplist.controls.Placeholder.getStatus(!1,e),n.data&&(t.isNumeric(n.data.currentPage)&&(a=e.name+"--currentPage="+n.data.currentPage),t.isNumeric(n.data.number)&&(a=e.name+"--number="+n.data.number)),a},jQuery.fn.jplist.controls.Placeholder.getStatusByDeepLink=function(t,e,n){var a=null;if("currentPage"!==e)return null;if(a=jQuery.fn.jplist.controls.Placeholder.getStatus(!0,t),a.data)switch(e){case"currentPage":a.data.currentPage=n}return a},jQuery.fn.jplist.controls.Placeholder.getStatus=function(t,n){var a;a=null,a=n.$control.find("span[data-active]").eq(0),0>=a.length&&(a=n.$control.find("span").eq(0)),a=e(t,a),n.controlTypeOptions&&n.controlTypeOptions.jump_to_start&&n.events.lastStatus&&"placeholder"!==n.events.lastStatus.type&&(a=0);var o=0,o=n.$control.attr("data-items-per-page"),o=Number(o);return isNaN(o)&&(o=0),a=new jQuery.fn.jplist.controls.Placeholder.statusRelatedData(a,o),a=new jQuery.fn.jplist.models.Status(n.name,n.action,n.type,a,n.cookies,n.category)},jQuery.fn.jplist.controls.Placeholder.setStatus=function(t,e,a){if("paging"===e.name)if(!e.cookies&&a)t.data.currentPage=0,e.events.lastStatus=t,e.$jplistBox.trigger(e.options.status_event,[t]);else if(t.data&&t.data.paging){t=t.data.paging;var o,r;a="";var i;if(i=e.controlTypeOptions,0<=t.currentPage&&t.currentPage<t.pagesNumber){for(e.$control.removeClass("hidden"),r=Math.floor(t.currentPage/i.paging_length),o=i.paging_length*r,r=i.paging_length*(r+1),r>t.pagesNumber&&(r=t.pagesNumber),a+='<div class="pagesbox">',i=o;r>i;i++)a+="<span ",i===t.currentPage&&(a+=' class="current" data-active="true" '),o=i+1,a+=' data-number="'+i+'" ',a+=">"+o+"</span> ";e.$control.data("pagingmid").html(a+"</div>"),e.$control.data("prev").attr("data-number",t.prevPage).removeClass("current"),e.$control.data("next").attr("data-number",t.nextPage).removeClass("current"),e.$control.data("last").attr("data-number",t.pagesNumber-1).removeClass("current")}else e.$control.addClass("hidden");0===t.currentPage?e.$control.data("pagingprev").addClass("hidden"):e.$control.data("pagingprev").removeClass("hidden"),t.currentPage==t.pagesNumber-1?e.$control.data("pagingnext").addClass("hidden"):e.$control.data("pagingnext").removeClass("hidden"),n(e)}},jQuery.fn.jplist.controls.Placeholder.initEvents=function(t){n(t)}}(jQuery),function(t){jQuery.fn.jplist.controls.Reset={},jQuery.fn.jplist.controls.Reset.initEvents=function(t){t.$control.off().click(function(){t.$jplistBox.trigger(t.options.force_ask_event,[!0])})}}(jQuery),function(t){jQuery.fn.jplist.controls.Select={},jQuery.fn.jplist.controls.Select.statusRelatedDataSort=function(t,e,n,a){return{path:t,type:e,order:n,dateTimeFormat:a}},jQuery.fn.jplist.controls.Select.statusRelatedDataFilter=function(t,e){return{path:t,type:e,filterType:"path"}},jQuery.fn.jplist.controls.Select.statusRelatedDataItemsOnPage=function(t){return{number:t}},jQuery.fn.jplist.controls.Select.getStatusByDeepLink=function(e,n,a){var o;if(o=jQuery.fn.jplist.controls.Select.getStatus(!0,e),o.data)switch(e.action){case"paging":"number"===n&&t.isNumeric(o.data.number)&&(o.data.number=a);break;case"sort":"path~type~order"===n&&(e=a.split("~"),3===e.length&&(o.data.path=e[0],o.data.type=e[1],o.data.order=e[2]));break;case"filter":"path"===n&&o.data.path&&(o.data.path=a)}return o},jQuery.fn.jplist.controls.Select.getDeepLink=function(e){var n,a="";if(n=jQuery.fn.jplist.controls.Select.getStatus(!1,e),n.data)switch(e.action){case"paging":t.isNumeric(n.data.number)&&(a=e.name+"--number="+n.data.number);break;case"sort":n.data.path&&n.data.type&&n.data.order&&(a=e.name+"--path~type~order="+n.data.path+"~"+n.data.type+"~"+n.data.order);break;case"filter":n.data.path&&(a=e.name+"--path="+n.data.path)}return a},jQuery.fn.jplist.controls.Select.getPaths=function(e,n){var a,o,r;e.$control.find("option").each(function(){a=t(this).attr("data-path"),o=t(this).attr("data-type"),a&&""!==t.trim(a)&&(r=new jQuery.fn.jplist.models.Path(a,o),jQuery.fn.jplist.services.Path.isPathInList(r,n)||n.push(r))})},jQuery.fn.jplist.controls.Select.getStatus=function(t,e){var n,a=null,o="";switch(t?(n=e.$control.find('option[data-default="true"]').eq(0),0>=n.length&&(n=e.$control.find("option").eq(0))):n=e.$control.find("option:selected"),e.action){case"paging":n=new jQuery.fn.jplist.controls.Select.statusRelatedDataItemsOnPage(n.attr("data-number")),a=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category);break;case"sort":(o=e.$control.attr("data-datetime-format"))||(o=""),n=new jQuery.fn.jplist.controls.Select.statusRelatedDataSort(n.attr("data-path"),n.attr("data-type"),n.attr("data-order"),o),a=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category);break;case"filter":n=new jQuery.fn.jplist.controls.Select.statusRelatedDataFilter(n.attr("data-path"),n.attr("data-type")),a=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)}return a},jQuery.fn.jplist.controls.Select.setStatus=function(t,e,n){switch(e.action){case"filter":!e.cookies&&n?(t.data.path="default",e.events.lastStatus=t,e.$jplistBox.trigger(e.options.status_event,[t])):(t=e.$control.find('option[data-path="'+t.data.path+'"]'))&&0<t.length&&(t.get(0).selected=!0);break;case"sort":!e.cookies&&n?(t.data.path="default",e.events.lastStatus=t,e.$jplistBox.trigger(e.options.status_event,[t])):(t="default"==t.data.path?e.$control.find('option[data-path="'+t.data.path+'"]'):e.$control.find('option[data-path="'+t.data.path+'"][data-type="'+t.data.type+'"][data-order="'+t.data.order+'"]'),0<t.length&&(t.get(0).selected=!0));break;case"paging":t=e.$control.find('option[data-number="'+t.data.number+'"]'),0===t.length&&(t=e.$control.find('option[data-number="all"]')),t.get(0).selected=!0}},jQuery.fn.jplist.controls.Select.initEvents=function(e){e.$control.change(function(){var n,a,o;n=jQuery.fn.jplist.controls.Select.getStatus(!1,e),a=t(this).find("option:selected"),o=a.attr("data-path"),a=a.attr("data-number"),o?(n.data.path=o,n.data.type=t(this).attr("data-type"),n.data.order=t(this).attr("data-order")):a&&(n.data.number=a),e.events.lastStatus=n,e.$jplistBox.trigger(e.options.status_event,[n])})}}(jQuery),function(t){jQuery.fn.jplist.controls.Textbox={},jQuery.fn.jplist.controls.Textbox.statusRelatedData=function(t,e,n){return{path:t,ignore:n,value:e,filterType:"text"}},jQuery.fn.jplist.controls.Textbox.getDeepLink=function(e){var n,a="";return n=jQuery.fn.jplist.controls.Textbox.getStatus(!1,e),n.data&&""!==t.trim(n.data.value)&&(a=e.name+"--value="+n.data.value),a},jQuery.fn.jplist.controls.Textbox.getStatusByDeepLink=function(t,e,n){return t=jQuery.fn.jplist.controls.Textbox.getStatus(!0,t),t.data&&"value"===e&&(t.data.value=n),t},jQuery.fn.jplist.controls.Textbox.getPaths=function(e,n){var a;(a=e.$control.attr("data-path"))&&""!==t.trim(a)&&(a=new jQuery.fn.jplist.models.Path(a,null),jQuery.fn.jplist.services.Path.isPathInList(a,n)||n.push(a))},jQuery.fn.jplist.controls.Textbox.getStatus=function(t,e){var n,a,o="";return n=e.$control.attr("data-path"),a=t?"":e.$control.val(),e.controlTypeOptions&&e.controlTypeOptions.ignore&&(o=e.controlTypeOptions.ignore),n=new jQuery.fn.jplist.controls.Textbox.statusRelatedData(n,a,o),new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)},jQuery.fn.jplist.controls.Textbox.setStatus=function(t,e,n){!e.cookies&&n?(t.data.value="",e.$jplistBox.trigger(e.options.status_event,[t])):t.data&&(t.data.value||(t.data.value=""),e.$control.val(t.data.value))},jQuery.fn.jplist.controls.Textbox.initEvents=function(t){var e="keyup";t.controlTypeOptions&&t.controlTypeOptions.eventName&&(e=t.controlTypeOptions.eventName),t.$control.off(e).on(e,function(){t.events.lastStatus=jQuery.fn.jplist.controls.Textbox.getStatus(!1,t),t.$jplistBox.trigger(t.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.Views={},jQuery.fn.jplist.controls.Views.statusRelatedData=function(t){return{isGrid:t}},jQuery.fn.jplist.controls.Views.render=function(t){var e,n,a="list-view";t.$jplistBox.hasClass("grid")&&(a="grid-view"),e=t.$control.find(".list-view"),n=t.$control.find(".grid-view"),t.$control.data("list-view-btn",e),t.$control.data("grid-view-btn",n),t.$control.data("default-grid",a)},jQuery.fn.jplist.controls.Views.getDeepLink=function(t){var e,n="";return e=jQuery.fn.jplist.controls.Views.getStatus(!1,t),e.data&&e.data.isGrid&&(n=t.name+"--isGrid=true"),n},jQuery.fn.jplist.controls.Views.getStatusByDeepLink=function(t,e,n){return t=jQuery.fn.jplist.controls.Views.getStatus(!0,t),t.data&&"isGrid"===e&&(t.data.isGrid=!0),t},jQuery.fn.jplist.controls.Views.getStatus=function(t,e){var n,a=!1;return t?(n=e.$control.data("default-grid"))&&"grid-view"===n&&(a=!0):a=e.$jplistBox.hasClass("grid"),n=new jQuery.fn.jplist.controls.Views.statusRelatedData(a),new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)},jQuery.fn.jplist.controls.Views.setStatus=function(t,e,n){t.data&&(!e.cookies&&n?(e.$jplistBox.removeClass("grid"),t.data.isGrid=!1,e.$jplistBox.trigger(e.options.status_event,[t])):(t=t.data.isGrid)?e.$jplistBox.addClass("grid"):e.$jplistBox.removeClass("grid"))},jQuery.fn.jplist.controls.Views.initEvents=function(t){var e,n;e=t.$control.data("list-view-btn"),n=t.$control.data("grid-view-btn"),0<e.length&&e.off("click").on("click",function(){t.$jplistBox.removeClass("grid"),t.events.lastStatus=jQuery.fn.jplist.controls.Views.getStatus(!1,t),t.$jplistBox.trigger(t.options.force_ask_event,[!1])}),0<n.length&&n.off("click").on("click",function(){t.$jplistBox.addClass("grid"),t.events.lastStatus=jQuery.fn.jplist.controls.Views.getStatus(!1,t),t.$jplistBox.trigger(t.options.force_ask_event,[!1])})}}(jQuery),function(t){t.fn.jplist.controls.CheckboxFilter={},t.fn.jplist.controls.CheckboxFilter.render=function(t){var e=t.$control.get(0).checked;!0!==e&&(e=!1),t.$control.data("default-checked",e)},t.fn.jplist.controls.CheckboxFilter.getDeepLink=function(e){var n,a="";return n=t.fn.jplist.controls.CheckboxFilter.getStatus(!1,e),n.data&&n.data.isChecked&&(a=e.name+"--isChecked=true"),a},t.fn.jplist.controls.CheckboxFilter.getStatusByDeepLink=function(e,n,a){return e=t.fn.jplist.controls.CheckboxFilter.getStatus(!0,e),e.data&&"isChecked"===n&&(e.data.isChecked=!0),e},t.fn.jplist.controls.CheckboxFilter.getPaths=function(e,n){var a;(a=e.$control.attr("data-path"))&&(a=new t.fn.jplist.models.Path(a,"text"),t.fn.jplist.services.Path.isPathInList(a,n)||n.push(a)),a=e.$jplistBox.find('[data-control-type="'+e.type+'"][data-control-action="'+e.action+'"][data-logic="or"]'),e.$jplistBox.data("jplist-all-cb-or",a)},t.fn.jplist.controls.CheckboxFilter.getStatus=function(e,n){var a,o,r=null,r="and";return(o=n.$control.attr("data-logic"))&&"or"===o.toString()&&(r="or"),e?(o=n.$control.data("default-checked"),!0!==o&&(o=!1)):o=n.$control.get(0).checked,"and"===r?a={path:n.$control.attr("data-path"),type:"text",filterType:"path",isChecked:o}:(a=n.$jplistBox.data("jplist-all-cb-or"),a={path:n.$control.attr("data-path"),type:"text",filterType:"inverted_path",checked_checkboxes:a.filter(":checked"),isChecked:o}),"and"===r?o||(a.filterType=""):o&&(a.filterType=""),r=new t.fn.jplist.models.Status(n.name,n.action,n.type,a,n.cookies,n.category)},t.fn.jplist.controls.CheckboxFilter.setStatus=function(t,e,n){e.$control.attr("data-logic"),e.$control.attr("data-path"),!0!==t.data.isChecked?e.$control.get(0).checked=!1:e.$control.get(0).checked=!0},t.fn.jplist.controls.CheckboxFilter.initEvents=function(e){e.$control.off().change(function(){e.events.lastStatus=t.fn.jplist.controls.CheckboxFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1])})}}(jQuery),function(t){t.fn.jplist.controls.CheckboxGroupFilter={},t.fn.jplist.controls.CheckboxGroupFilter.statusRelatedData=function(t){return{pathGroup:t,filterType:"pathGroup"}},t.fn.jplist.controls.CheckboxGroupFilter.render=function(t){t=t.$control;var e=t.find("[data-path]");e.each(function(){var t=$(this);t.data("checked",t.get(0).checked)}),t.data("checkboxes",e)},t.fn.jplist.controls.CheckboxGroupFilter.getDeepLink=function(e){var n,a="",o="";if(n=t.fn.jplist.controls.CheckboxGroupFilter.getStatus(!1,e),n.data&&$.isArray(n.data.pathGroup)&&0<n.data.pathGroup.length){for(a=0;a<n.data.pathGroup.length;a++)""!==o&&(o+="~"),o+=n.data.pathGroup[a];a=e.name+"--pathGroup="+o}return a},t.fn.jplist.controls.CheckboxGroupFilter.getStatusByDeepLink=function(e,n,a){return e=t.fn.jplist.controls.CheckboxGroupFilter.getStatus(!0,e),e.data&&"pathGroup"===n&&(n=a.split("~"),0<n.length&&(e.data.pathGroup=n)),e},t.fn.jplist.controls.CheckboxGroupFilter.getPaths=function(e,n){var a,o=e.$control.data("checkboxes");if(o)for(var r=0;r<o.length;r++)a=o.eq(r),(a=a.attr("data-path"))&&(a=new t.fn.jplist.models.Path(a,"text"),t.fn.jplist.services.Path.isPathInList(a,n)||n.push(a))},t.fn.jplist.controls.CheckboxGroupFilter.getStatus=function(e,n){var a,o,r,i=n.$control.data("checkboxes"),s=[];if(e)for(r=0;r<i.length;r++)a=i.eq(r),(o=a.data("checked"))&&(o=a.attr("data-path"))&&s.push(o);else for(r=0;r<i.length;r++)a=i.eq(r),(o=a.attr("data-path"))&&a.get(0).checked&&s.push(o);return i=new t.fn.jplist.controls.CheckboxGroupFilter.statusRelatedData(s),new t.fn.jplist.models.Status(n.name,n.action,n.type,i,n.cookies,n.category)},t.fn.jplist.controls.CheckboxGroupFilter.setStatus=function(t,e,n){var a;if((e=e.$control.data("checkboxes"))&&(e.each(function(){$(this).get(0).checked=!1}),t.data&&t.data.pathGroup&&$.isArray(t.data.pathGroup)&&0<t.data.pathGroup.length))for(n=0;n<t.data.pathGroup.length;n++)a=t.data.pathGroup[n],a=e.filter('[data-path="'+a+'"]'),0<a.length&&(a.get(0).checked=!0)},t.fn.jplist.controls.CheckboxGroupFilter.initEvents=function(e){e.$control.data("checkboxes").off("change").change(function(){e.events.lastStatus=t.fn.jplist.controls.CheckboxGroupFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1])})}}(jQuery),function(t){t.fn.jplist.controls.CheckboxTextFilter={},t.fn.jplist.controls.CheckboxTextFilter.statusRelatedData=function(t,e,n,a){return{textGroup:t,logic:e,path:n,ignoreRegex:a,filterType:"textGroup"}},t.fn.jplist.controls.CheckboxTextFilter.render=function(t){t=t.$control;var e=t.find('input[type="checkbox"]');e.each(function(){var t=$(this);t.data("checked",t.get(0).checked)}),t.data("checkboxes",e)},t.fn.jplist.controls.CheckboxTextFilter.getDeepLink=function(e){var n,a="",o="";if(n=t.fn.jplist.controls.CheckboxTextFilter.getStatus(!1,e),n.data&&$.isArray(n.data.textGroup)&&0<n.data.textGroup.length){for(a=0;a<n.data.textGroup.length;a++)""!==o&&(o+="~"),o+=n.data.textGroup[a];a=e.name+"--textGroup="+o}return a},t.fn.jplist.controls.CheckboxTextFilter.getStatusByDeepLink=function(e,n,a){var o=null,o=t.fn.jplist.controls.CheckboxTextFilter.getStatus(!0,e);return o.data&&"textGroup"===n&&(e=a.split("~"),0<e.length&&(o.data.textGroup=e)),o},t.fn.jplist.controls.CheckboxTextFilter.getPaths=function(e,n){var a;(a=e.$control.attr("data-path"))&&(a=new t.fn.jplist.models.Path(a,"text"),t.fn.jplist.services.Path.isPathInList(a,n)||n.push(a))},t.fn.jplist.controls.CheckboxTextFilter.getStatus=function(e,n){var a,o=n.$control,r=o.data("checkboxes");a=[];var i,s,l,c="";if(e)for(l=0;l<r.length;l++)s=r.eq(l),(i=s.data("checked"))&&(i=s.val())&&a.push(i);else for(l=0;l<r.length;l++)s=r.eq(l),(i=s.val())&&s.get(0).checked&&a.push(i);return r=o.attr("data-path"),(o=o.attr("data-logic"))||(o="or"),n.controlTypeOptions&&n.controlTypeOptions.ignore&&(c=n.controlTypeOptions.ignore),a=new t.fn.jplist.controls.CheckboxTextFilter.statusRelatedData(a,o,r,c),new t.fn.jplist.models.Status(n.name,n.action,n.type,a,n.cookies,n.category)},t.fn.jplist.controls.CheckboxTextFilter.setStatus=function(t,e,n){var a;if((e=e.$control.data("checkboxes"))&&(e.each(function(){$(this).get(0).checked=!1}),t.data&&t.data.textGroup&&$.isArray(t.data.textGroup)&&0<t.data.textGroup.length))for(n=0;n<t.data.textGroup.length;n++)a=t.data.textGroup[n],a=e.filter('[value="'+a+'"]'),0<a.length&&(a.get(0).checked=!0)},t.fn.jplist.controls.CheckboxTextFilter.initEvents=function(e){e.$control.data("checkboxes").off("change").change(function(){e.events.lastStatus=t.fn.jplist.controls.CheckboxTextFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.ButtonFilter={},jQuery.fn.jplist.controls.ButtonFilter.render=function(t){t.$control.data("selected",!1)},jQuery.fn.jplist.controls.ButtonFilter.getDeepLink=function(t){var e,n="";return e=jQuery.fn.jplist.controls.ButtonFilter.getStatus(!1,t),e.data&&e.data.selected&&(n=t.name+"--selected=true"),n},jQuery.fn.jplist.controls.ButtonFilter.getStatusByDeepLink=function(t,e,n){return t=jQuery.fn.jplist.controls.ButtonFilter.getStatus(!0,t),t.data&&"selected"===e&&(t.data.selected=!0),t},jQuery.fn.jplist.controls.ButtonFilter.getPaths=function(e,n){var a;(a=e.$control.attr("data-path"))&&""!==t.trim(a)&&(a=new jQuery.fn.jplist.models.Path(a,"text"),jQuery.fn.jplist.services.Path.isPathInList(a,n)||n.push(a))},jQuery.fn.jplist.controls.ButtonFilter.getStatus=function(t,e){var n;return n=(n=t?!1:e.$control.data("selected"))?{path:e.$control.attr("data-path"),type:"text",filterType:"path",selected:n}:{path:e.$control.attr("data-path"),type:"text",filterType:"",selected:n},new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)},jQuery.fn.jplist.controls.ButtonFilter.setStatus=function(t,e,n){e.$control.data("selected",t.data.selected),t.data.selected?e.$control.addClass("selected"):e.$control.removeClass("selected")},jQuery.fn.jplist.controls.ButtonFilter.initEvents=function(t){var e;t.$control.off().click(function(){e=t.$control.data("selected"),t.$control.data("selected",!e),e?t.$control.removeClass("selected"):t.$control.addClass("selected"),t.$jplistBox.trigger(t.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.ButtonFilterGroup={},jQuery.fn.jplist.controls.ButtonFilterGroup.render=function(e){var n=e.$control.find("[data-button]");n.each(function(){t(this).data("selected",!1)}),e.$control.data("$buttons",n)},jQuery.fn.jplist.controls.ButtonFilterGroup.getDeepLink=function(t){return""},jQuery.fn.jplist.controls.ButtonFilterGroup.getStatusByDeepLink=function(t,e,n){return null},jQuery.fn.jplist.controls.ButtonFilterGroup.getPaths=function(t,e){var n,a=t.$control.data("$buttons");if(a)for(var o=0;o<a.length;o++)n=a.eq(o),(n=n.attr("data-path"))&&(n=new jQuery.fn.jplist.models.Path(n,"text"),jQuery.fn.jplist.services.Path.isPathInList(n,e)||e.push(n))},jQuery.fn.jplist.controls.ButtonFilterGroup.getStatus=function(t,e){var n,a,o,r=e.$control.data("$buttons"),i=[];for(a=0;a<r.length;a++)n=r.eq(a),(o=n.data("selected"))&&(n=n.attr("data-path"))&&i.push(n);return new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,{pathGroup:i,filterType:"pathGroup"},e.cookies,e.category)},jQuery.fn.jplist.controls.ButtonFilterGroup.setStatus=function(e,n,a){var o;if((n=n.$control.data("$buttons"))&&(n.each(function(){t(this).removeClass("selected")}),e.data&&e.data.pathGroup&&t.isArray(e.data.pathGroup)&&0<e.data.pathGroup.length))for(a=0;a<e.data.pathGroup.length;a++)o=e.data.pathGroup[a],o=n.filter('[data-path="'+o+'"]'),0<o.length&&o.addClass("selected")},jQuery.fn.jplist.controls.ButtonFilterGroup.initEvents=function(e){var n,a=e.$control.data("$buttons");a&&a.off("click").on("click",function(){var a;a=t(this),n=a.data("selected"),a.data("selected",!n),e.events.lastStatus=jQuery.fn.jplist.controls.ButtonFilterGroup.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.ButtonTextFilter={},jQuery.fn.jplist.controls.ButtonTextFilter.render=function(t){t.$control.data("selected",!1),t.$control.data("dataPath",t.$control.attr("data-path")),t.$control.data("dataText",t.$control.attr("data-text"))},jQuery.fn.jplist.controls.ButtonTextFilter.statusRelatedData=function(t,e,n,a){return{path:t,ignore:n,value:e,selected:a,filterType:"text"}},jQuery.fn.jplist.controls.ButtonTextFilter.getDeepLink=function(t){var e,n="";return e=jQuery.fn.jplist.controls.ButtonTextFilter.getStatus(!1,t),e.data&&e.data.selected&&(n=t.name+"--selected=true"),n},jQuery.fn.jplist.controls.ButtonTextFilter.getStatusByDeepLink=function(t,e,n){return t=jQuery.fn.jplist.controls.ButtonTextFilter.getStatus(!0,t),t.data&&"selected"===e&&(t.data.selected=!0),t},jQuery.fn.jplist.controls.ButtonTextFilter.getPaths=function(e,n){var a;(a=e.$control.data("dataPath"))&&""!==t.trim(a)&&(a=new jQuery.fn.jplist.models.Path(a,"text"),jQuery.fn.jplist.services.Path.isPathInList(a,n)||n.push(a))},jQuery.fn.jplist.controls.ButtonTextFilter.getStatus=function(t,e){var n,a,o,r="";return a=e.$control.data("dataPath"),o=e.$control.data("dataText"),e.controlTypeOptions&&e.controlTypeOptions.ignore&&(r=e.controlTypeOptions.ignore),n=t?!1:e.$control.data("selected"),n=new jQuery.fn.jplist.controls.ButtonTextFilter.statusRelatedData(a,n?o:"",r,n),new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)},jQuery.fn.jplist.controls.ButtonTextFilter.setStatus=function(t,e,n){e.$control.data("selected",t.data.selected),t.data.selected?e.$control.addClass("selected"):e.$control.removeClass("selected")},jQuery.fn.jplist.controls.ButtonTextFilter.initEvents=function(t){var e;t.$control.off().click(function(){e=t.$control.data("selected"),t.$control.data("selected",!e),e?t.$control.removeClass("selected"):t.$control.addClass("selected"),t.$jplistBox.trigger(t.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.ButtonTextFilterGroup={},jQuery.fn.jplist.controls.ButtonTextFilterGroup.render=function(e){var n,a=e.$control.find("[data-button]");a.each(function(){n=t(this),n.data("selected",!1),n.data("dataPath",n.attr("data-path")),n.data("dataText",n.attr("data-text"))}),e.$control.data("$buttons",a)},jQuery.fn.jplist.controls.ButtonTextFilterGroup.statusRelatedData=function(t,e){return{textAndPathsGroup:t,ignore:e,filterType:"textFilterPathGroup"}},jQuery.fn.jplist.controls.ButtonTextFilterGroup.getDeepLink=function(t){return""},jQuery.fn.jplist.controls.ButtonTextFilterGroup.getStatusByDeepLink=function(t,e,n){return null},jQuery.fn.jplist.controls.ButtonTextFilterGroup.getPaths=function(t,e){var n,a=t.$control.data("$buttons");if(a)for(var o=0;o<a.length;o++)n=a.eq(o),(n=n.attr("data-path"))&&(n=new jQuery.fn.jplist.models.Path(n,"text"),jQuery.fn.jplist.services.Path.isPathInList(n,e)||e.push(n))},jQuery.fn.jplist.controls.ButtonTextFilterGroup.getStatus=function(t,e){var n,a,o,r=e.$control.data("$buttons"),i=[],s="";for(e.controlTypeOptions&&e.controlTypeOptions.ignore&&(s=e.controlTypeOptions.ignore),
a=0;a<r.length;a++)n=r.eq(a),o=n.data("selected"),i.push({selected:!!o,text:n.data("dataText"),path:n.data("dataPath")});return r=new jQuery.fn.jplist.controls.ButtonTextFilterGroup.statusRelatedData(i,s),new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,r,e.cookies,e.category)},jQuery.fn.jplist.controls.ButtonTextFilterGroup.setStatus=function(e,n,a){var o=n.$control.data("$buttons");if(o&&(o.each(function(){t(this).removeClass("selected")}),e.data&&e.data.textAndPathsGroup&&t.isArray(e.data.textAndPathsGroup)&&0<e.data.textAndPathsGroup.length))for(var r=0;r<e.data.textAndPathsGroup.length;r++)n=e.data.textAndPathsGroup[r],a=o.filter('[data-path="'+n.path+'"][data-text="'+n.text+'"]'),0<a.length&&(a.data("selected",n.selected),n.selected?a.addClass("selected"):a.removeClass("selected"))},jQuery.fn.jplist.controls.ButtonTextFilterGroup.initEvents=function(e){var n,a=e.$control.data("$buttons");a&&a.off("click").on("click",function(){var a=t(this);n=a.data("selected"),a.data("selected",!n),e.events.lastStatus=jQuery.fn.jplist.controls.ButtonTextFilterGroup.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.RadioButtonsFilter={},jQuery.fn.jplist.controls.RadioButtonsFilter.render=function(t){var e=t.$control.get(0).checked;!0!==e&&(e=!1),t.$control.data("default-checked",e)},jQuery.fn.jplist.controls.RadioButtonsFilter.getPaths=function(e,n){var a;(a=e.$control.attr("data-path"))&&""!==t.trim(a)&&(a=new jQuery.fn.jplist.models.Path(a,"text"),jQuery.fn.jplist.services.Path.isPathInList(a,n)||n.push(a))},jQuery.fn.jplist.controls.RadioButtonsFilter.getDeepLink=function(t){var e,n="";return e=jQuery.fn.jplist.controls.RadioButtonsFilter.getStatus(!1,t),e.data&&e.data.selected&&(n=t.name+"--selected=true"),n},jQuery.fn.jplist.controls.RadioButtonsFilter.getStatusByDeepLink=function(t,e,n){return t=jQuery.fn.jplist.controls.RadioButtonsFilter.getStatus(!0,t),t.data&&"selected"===e&&(t.data.selected=!0),t},jQuery.fn.jplist.controls.RadioButtonsFilter.getStatus=function(t,e){var n,a=null;return t?(n=e.$control.data("default-checked"),!0!==n&&(n=!1)):n=e.$control.get(0).checked,a={path:e.$control.attr("data-path"),type:"text",filterType:"path",selected:n},n||(a.filterType=""),a=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,a,e.cookies,e.category)},jQuery.fn.jplist.controls.RadioButtonsFilter.setStatus=function(t,e,n){!0!==t.data.selected?e.$control.get(0).checked=!1:e.$control.get(0).checked=!0},jQuery.fn.jplist.controls.RadioButtonsFilter.initEvents=function(t){t.$control.off().change(function(){t.events.lastStatus=jQuery.fn.jplist.controls.RadioButtonsFilter.getStatus(!1,t),t.$jplistBox.trigger(t.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.RangeSliderToggleFilter={},jQuery.fn.jplist.controls.RangeSliderToggleFilter.render=function(e){var n,a,o;n=e.$control.attr("data-path"),a=e.$control.attr("data-min"),o=e.$control.attr("data-max"),e.$control.data("selected",!1),n&&e.$control.data("path",n),a&&t.isNumeric(a)&&e.$control.data("prev",a),o&&t.isNumeric(o)&&e.$control.data("next",o)},jQuery.fn.jplist.controls.RangeSliderToggleFilter.getDeepLink=function(t){return""},jQuery.fn.jplist.controls.RangeSliderToggleFilter.getStatusByDeepLink=function(t,e,n){return null},jQuery.fn.jplist.controls.RangeSliderToggleFilter.getPaths=function(e,n){var a;(a=e.$control.attr("data-path"))&&""!==t.trim(a)&&(a=new jQuery.fn.jplist.models.Path(a,"number"),jQuery.fn.jplist.services.Path.isPathInList(a,n)||n.push(a))},jQuery.fn.jplist.controls.RangeSliderToggleFilter.getStatus=function(t,e){var n,a,o,r,i=null;return n=t?!1:e.$control.data("selected"),a=e.$control.data("path"),o=e.$control.data("prev"),r=e.$control.data("next"),a&&(n=n?{path:a,type:"number",filterType:"range",min:0,max:0,prev:o,next:r,selected:n}:{path:a,type:"text",filterType:"",selected:n},i=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,n,e.cookies,e.category)),i},jQuery.fn.jplist.controls.RangeSliderToggleFilter.setStatus=function(t,e,n){e.$control.data("selected",t.data.selected),t.data.selected?e.$control.addClass("selected"):e.$control.removeClass("selected")},jQuery.fn.jplist.controls.RangeSliderToggleFilter.initEvents=function(t){var e;t.$control.off().click(function(){e=t.$control.data("selected"),t.$control.data("selected",!e),e?t.$control.removeClass("selected"):t.$control.addClass("selected"),t.$jplistBox.trigger(t.options.force_ask_event,[!1])})}}(jQuery),function(t){jQuery.fn.jplist.controls.DatePickerFilter={},jQuery.fn.jplist.controls.DatePickerFilter.render=function(e){var n,a={};n=e.controlTypeOptions,e.$control.off().change(function(){""===t.trim(t(this).val())&&(e.events.lastStatus=jQuery.fn.jplist.controls.DatePickerFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1]))}),a.onSelect=function(t,n){e.events.lastStatus=jQuery.fn.jplist.controls.DatePickerFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1])},n&&n.datepicker(e.$control,a)},jQuery.fn.jplist.controls.DatePickerFilter.getDeepLink=function(e){var n,a="";return n=jQuery.fn.jplist.controls.DatePickerFilter.getStatus(!1,e),n.data&&t.isNumeric(n.data.year)&&t.isNumeric(n.data.month)&&t.isNumeric(n.data.day)&&(a=e.name+"--year~month~day="+n.data.year+"~"+n.data.month+"~"+n.data.day),a},jQuery.fn.jplist.controls.DatePickerFilter.getStatusByDeepLink=function(t,e,n){return t=jQuery.fn.jplist.controls.DatePickerFilter.getStatus(!0,t),t.data&&"year~month~day"===e&&(e=n.split("~"),3===e.length&&(t.data.year=e[0],t.data.month=e[1],t.data.day=e[2])),t},jQuery.fn.jplist.controls.DatePickerFilter.getPaths=function(e,n){var a;(a=e.$control.attr("data-path").toString())&&""!==t.trim(a)&&(a=new jQuery.fn.jplist.models.Path(a,"datetime"),jQuery.fn.jplist.services.Path.isPathInList(a,n)||n.push(a))},jQuery.fn.jplist.controls.DatePickerFilter.getStatus=function(t,e){var n,a=null,o=null;return n=e.$control.attr("data-datetime-format"),(o=e.$control.datepicker("getDate"))&&(a={path:e.$control.attr("data-path"),filterType:"date",year:o.getFullYear(),month:o.getMonth(),day:o.getDate(),format:n},a=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,a,e.cookies,e.category)),a},jQuery.fn.jplist.controls.DatePickerFilter.setStatus=function(e,n,a){e.data&&t.isNumeric(e.data.year)&&t.isNumeric(e.data.month)&&t.isNumeric(e.data.day)&&(e=new Date(e.data.year,e.data.month,e.data.day),n.$control.datepicker("setDate",e))},jQuery.fn.jplist.controls.DatePickerFilter.initEvents=function(t){}}(jQuery),function(t){jQuery.fn.jplist.controls.DatePickerRangeFilter={},jQuery.fn.jplist.controls.DatePickerRangeFilter.statusRelatedData=function(t,e,n,a){return t={path:t,format:e,filterType:"date_range",prev_year:"",prev_month:"",prev_day:"",next_year:"",next_month:"",next_day:""},n&&(t.prev_year=n.getFullYear(),t.prev_month=n.getMonth(),t.prev_day=n.getDate()),a&&(t.next_year=a.getFullYear(),t.next_month=a.getMonth(),t.next_day=a.getDate()),t},jQuery.fn.jplist.controls.DatePickerRangeFilter.render=function(e){var n,a,o,r={};n=e.controlTypeOptions,a=e.$control.find('[data-type="prev"]'),o=e.$control.find('[data-type="next"]'),e.$control.data("jplist-datepicker-range-prev",a),e.$control.data("jplist-datepicker-range-next",o),a.off().change(function(){""===t.trim(t(this).val())&&(e.events.lastStatus=jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1]))}),o.off().change(function(){""===t.trim(t(this).val())&&(e.events.lastStatus=jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1]))}),r.onSelect=function(t,n){e.events.lastStatus=jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus(!1,e),e.$jplistBox.trigger(e.options.force_ask_event,[!1])},n&&(n.datepicker(a,r),n.datepicker(o,r))},jQuery.fn.jplist.controls.DatePickerRangeFilter.getDeepLink=function(e){var n,a="";return n=jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus(!1,e),n.data&&(t.isNumeric(n.data.prev_year)&&t.isNumeric(n.data.prev_month)&&t.isNumeric(n.data.prev_day)&&(a+=e.name+"--prev="+n.data.prev_year+"~"+n.data.prev_month+"~"+n.data.prev_day),t.isNumeric(n.data.next_year)&&t.isNumeric(n.data.next_month)&&t.isNumeric(n.data.next_day)&&(""!==a&&(a+="~~"),a+=e.name+"--next="+n.data.next_year+"~"+n.data.next_month+"~"+n.data.next_day)),a},jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatusByDeepLink=function(t,e,n){if(t=jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus(!0,t),t.data)switch(e){case"prev":e=n.split("~"),3===e.length&&(t.data.prev_year=e[0],t.data.prev_month=e[1],t.data.prev_day=e[2]);break;case"next":e=n.split("~"),3===e.length&&(t.data.next_year=e[0],t.data.next_month=e[1],t.data.next_day=e[2])}return t},jQuery.fn.jplist.controls.DatePickerRangeFilter.getPaths=function(e,n){var a;(a=e.$control.attr("data-path").toString())&&""!==t.trim(a)&&(a=new jQuery.fn.jplist.models.Path(a,"datetime"),jQuery.fn.jplist.services.Path.isPathInList(a,n)||n.push(a))},jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus=function(t,e){var n,a,o,r,i=null,s=i=i=null;return r=e.$control.attr("data-path").toString(),n=e.$control.attr("data-datetime-format").toString(),a=e.$control.data("jplist-datepicker-range-prev"),o=e.$control.data("jplist-datepicker-range-next"),t||(i=a.datepicker("getDate"),s=o.datepicker("getDate")),i=jQuery.fn.jplist.controls.DatePickerRangeFilter.statusRelatedData(r,n,i,s),i=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,i,e.cookies,e.category)},jQuery.fn.jplist.controls.DatePickerRangeFilter.setStatus=function(e,n,a){var o;a=n.$control.data("jplist-datepicker-range-prev"),n=n.$control.data("jplist-datepicker-range-next"),t.isNumeric(e.data.prev_year)&&t.isNumeric(e.data.prev_month)&&t.isNumeric(e.data.prev_day)?(o=new Date(e.data.prev_year,e.data.prev_month,e.data.prev_day),a.datepicker("setDate",o)):a.val(""),t.isNumeric(e.data.next_year)&&t.isNumeric(e.data.next_month)&&t.isNumeric(e.data.next_day)?(e=new Date(e.data.next_year,e.data.next_month,e.data.next_day),n.datepicker("setDate",e)):n.val("")}}(jQuery),function(t){jQuery.fn.jplist.controls.RangeSlider={},jQuery.fn.jplist.controls.RangeSlider.statusRelatedData=function(t,e,n,a,o){return{path:t,type:"number",filterType:"range",min:e,max:n,prev:a,next:o}},jQuery.fn.jplist.controls.RangeSlider.render=function(t){var e,n,a;e=t.$control.find('[data-type="ui-slider"]'),n=t.$control.find('[data-type="prev-value"]'),a=t.$control.find('[data-type="next-value"]'),t.$control.data("jplist-ui-slider",e),t.$control.data("jplist-prev-value",n),t.$control.data("jplist-next-value",a),(t=t.controlTypeOptions)&&(t.ui_slider(e,n,a),t.set_values(e,n,a))},jQuery.fn.jplist.controls.RangeSlider.getDeepLink=function(e){var n,a="";return n=jQuery.fn.jplist.controls.RangeSlider.getStatus(!1,e),n.data&&t.isNumeric(n.data.prev)&&t.isNumeric(n.data.next)&&(a=e.name+"--prev~next="+n.data.prev+"~"+n.data.next),a},jQuery.fn.jplist.controls.RangeSlider.getStatusByDeepLink=function(t,e,n){return t=jQuery.fn.jplist.controls.RangeSlider.getStatus(!0,t),t.data&&"prev~next"===e&&(e=n.split("~"),2===e.length&&(t.data.prev=e[0],t.data.next=e[1])),t},jQuery.fn.jplist.controls.RangeSlider.getPaths=function(e,n){var a;(a=e.$control.attr("data-path").toString())&&""!==t.trim(a)&&(a=new jQuery.fn.jplist.models.Path(a,"number"),jQuery.fn.jplist.services.Path.isPathInList(a,n)||n.push(a))},jQuery.fn.jplist.controls.RangeSlider.getStatus=function(t,e){var n,a,o,r,i=null;return r=e.$control.data("jplist-ui-slider"),i=e.$control.attr("data-path").toString(),n=r.slider("option","min"),a=r.slider("option","max"),t?(o=n,r=a):(o=r.slider("values",0),r=r.slider("values",1)),i=new jQuery.fn.jplist.controls.RangeSlider.statusRelatedData(i,n,a,o,r),i=new jQuery.fn.jplist.models.Status(e.name,e.action,e.type,i,e.cookies,e.category)},jQuery.fn.jplist.controls.RangeSlider.setStatus=function(e,n,a){a=null;var o,r,i;a=n.$control.data("jplist-ui-slider"),r=n.$control.find('[data-type="prev-value"]'),i=n.$control.find('[data-type="next-value"]'),t.isNumeric(e.data.prev)&&t.isNumeric(e.data.next)&&(o=Number(e.data.prev),e=Number(e.data.next),!isNaN(o)&&!isNaN(e)&&(a.slider("values",0)!=o&&a.slider("values",0,o),a.slider("values",1)!=e&&a.slider("values",1,e))),(n=n.controlTypeOptions)&&n.set_values(a,r,i)},jQuery.fn.jplist.controls.RangeSlider.initEvents=function(t){var e=null,e=t.$control.data("jplist-ui-slider");e.on("slidechange",function(e,n){t.events.lastStatus=jQuery.fn.jplist.controls.RangeSlider.getStatus(!1,t),t.$jplistBox.trigger(t.options.force_ask_event,[!1])})}}(jQuery),function(t){var e=function(e,n){var a={options:e,$root:n,controller:null};return a.options=$.extend(!0,{startZoom:2,storeZoom:13,latitude:0,longitude:90,geolocation:!1,markerIcon:"",markerText:"Click to Zoom",directionsType:"DRIVING",mapTypeId:"ROADMAP",jplist:{items_box:'[data-type="stores"]',item_path:'[data-type="store"]',panel_path:'[data-type="controls"]',no_results:'[data-type="no-results"]',redraw_callback:function(){},control_types:{autocomplete:{class_name:"Autocomplete",options:{}},"autocomplete-radius":{class_name:"AutocompleteRadius",options:{}}}},openInfoWindowOnStoreClick:!1,infoWindow:function(t,e,n,a,o,r,i){return'<div class="info-window">'+t+"</div>"},storeClickEvent:"storeClickEvent",pinClickEvent:"pinClickEvent",sendStoreListEvent:"sendStoreListEvent",getStoresListEvent:"getStoresListEvent",setDirectionsEvent:"setDirectionsEvent",jumpEvent:"jumpEvent",initZoomEvent:"initZoomEvent"},e),a.controller=new $.fn.jlocator.controller(n,a.options),t.extend(this,a)};t.fn.jlocator=function(t){return this.each(function(){var n;n=new e(t,$(this)),$(this).data("jlocator",n)})}}(jQuery),function(t){var e=function(e,n){var a={$root:e,options:n,panel:null,map:null};return a.panel=new jQuery.fn.jlocator.panel(a.$root,a.options),a.map=new jQuery.fn.jlocator.map(a.$root,a.options),t.extend(this,a)};jQuery.fn.jlocator.controller=function(t,n){return new e(t,n)}}(jQuery),function(t){var e=function(t,e,n,a,o){var r,i;e.attr("data-enabled","true"),n.length>0&&(r=new google.maps.places.Autocomplete(n.get(0)),r.jlocator={latitude:a,longitude:o},i=google.maps.event.addListener(r,"place_changed",function(){var e,n,a,o;o=this.jlocator,e=r.getPlace(),e&&e.geometry&&(n=new google.maps.LatLng(o.latitude,o.longitude),a=new google.maps.LatLng(e.geometry.location.lat(),e.geometry.location.lng()),t.$root.trigger(t.options.setDirectionsEvent,[n,a]))}))},n=function(t,n){var a,o,r,i,s,l;t.$panelRoot.find('[data-type="directions-input"]').hide(0),n.length>0&&(l=n.attr("data-enabled"),a=n.parents('[data-type="store"]'),i=a.find('[data-type="directions-input"]'),!l&&a.length>0&&(o=Number(a.attr("data-latitude")),r=Number(a.attr("data-longitude")),isNaN(o)||isNaN(r)||e(t,n,i,o,r)),i.length>0&&(s=i.is(":visible"),s?i.hide(0):i.show(0)))},a=function(e){e.$root.on("click",'[data-type="stores"] [data-type="store"]',function(){var n,a;a=t(this),n=new jQuery.fn.jlocator.store(a,e.options),e.$root.trigger(e.options.storeClickEvent,[n]),e.$panelRoot.find('[data-type="stores"] [data-type="store"]').removeClass("active"),a.addClass("active")}),e.$root.on(e.options.getStoresListEvent,function(){e.$root.trigger(e.options.sendStoreListEvent,[e.stores,o(e)])}),e.$root.on("click",'[data-type="directions-label"]',function(){n(e,t(this))}),e.$root.on(e.options.pinClickEvent,function(n,a){var o,r,i=a.longitude,s=a.latitude;t.isNumeric(i)&&t.isNumeric(s)&&(r=e.$panelRoot.find('[data-type="stores"] [data-type="store"]'),o=r.filter('[data-longitude="'+i+'"][data-latitude="'+s+'"]'),o.length>0&&(r.removeClass("active"),o.addClass("active")))})},o=function(e){var n,a=[];return e.$panelRoot.find('[data-type="stores"] [data-type="store"]').each(function(){n=new jQuery.fn.jlocator.store(t(this),e.options),a.push(n)}),a},r=function(e){var n,a=[];return e.$stores.each(function(){n=new jQuery.fn.jlocator.store(t(this),e.options),a.push(n)}),a},i=function(e,n){var a=e.options.jplist.redraw_callback;n.length>0&&(e.options.jplist.redraw_callback=function(){t.isFunction(a)&&(a(),e.$root.trigger(e.options.sendStoreListEvent,[e.stores,o(e)]))},n.jplist(e.options.jplist))},s=function(e,n){var a={$root:e,options:n,stores:[],$panelRoot:e.find('[data-type="panel"]'),$stores:null};return a.$stores=a.$panelRoot.find('[data-type="stores"] [data-type="store"]'),a.stores=r(a),i(a,a.$root),t.extend(this,a)};jQuery.fn.jlocator.panel=function(t,e){var n=new s(t,e);return a(n),n}}(jQuery),function(t){var e=function(t,e,n){var a;a={origin:e,destination:n,travelMode:google.maps.DirectionsTravelMode[t.options.directionsType]},t.directionsService.route(a,function(e,n){n==google.maps.DirectionsStatus.OK&&t.directionsDisplay.setDirections(e)})},n=function(t){for(var e,n=0;n<t.markers.length;n++)e=t.markers[n],e.infowindow&&e.infowindow.close()},a=function(t,e){n(t),e.infowindow.open(t.mapCanvas,e)},o=function(t){for(var e,n=0;n<t.markers.length;n++)e=t.markers[n],e.setMap(null);t.markers=[]},r=function(t,e){for(var n,a,o=0;o<t.markers.length;o++)if(n=t.markers[o],a=n.store,a&&a.latitude===e.latitude&&a.longitude===e.longitude)return n;return null},i=function(e,n){var o,r,i;o=new google.maps.InfoWindow,t.isFunction(e.options.infoWindow)&&o.setContent(e.options.infoWindow(n.html,n.title,n.address,n.city,n.state,n.zipcode,n.country)),i={position:n.latlng,map:e.mapCanvas,title:e.options.markerText},""!==n.customMarkerIcon?i.icon=n.customMarkerIcon:""!==e.options.markerIcon&&(i.icon=e.options.markerIcon),r=new google.maps.Marker(i),t.extend(r,{infowindow:o,store:n}),e.markers.push(r),google.maps.event.addListener(r,"click",function(t){a(e,this),e.$root.trigger(e.options.pinClickEvent,[n])})},s=function(t,e){var n;o(t);for(var a=0;a<e.length;a++)n=e[a],i(t,n)},l=function(t,e){t.mapCanvas.setZoom(e)},c=function(t,e,n){t.mapCanvas.setCenter(e),t.mapCanvas.setZoom(n)},u=function(t){var e,n,a;t.options.geolocation&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(o){e=o.coords.latitude,n=o.coords.longitude,a=new google.maps.LatLng(e,n),c(t,a,t.options.storeZoom)})},p=function(t){t.$root.on(t.options.jumpEvent,function(e,n,a,o){var r=new google.maps.LatLng(n,a);c(t,r,o)}),t.$root.on(t.options.initZoomEvent,function(e,n){l(t,n)}),t.$root.on(t.options.storeClickEvent,function(e,a){var o;a&&(n(t),c(t,a.latlng,a.zoom),t.options.openInfoWindowOnStoreClick&&(o=r(t,a),o&&google.maps.event.trigger(o,"click")))}),t.$root.on(t.options.sendStoreListEvent,function(e,n,a){s(t,a)}),t.$root.on(t.options.setDirectionsEvent,function(n,a,o){e(t,a,o)})},d=function(t,e){var n;google&&google.maps&&google.maps.event.addDomListener(window,"load",function(){t.directionsService=new google.maps.DirectionsService,t.directionsDisplay=new google.maps.DirectionsRenderer,n=new google.maps.LatLng(t.options.latitude,t.options.longitude),t.mapCanvas=new google.maps.Map(t.$mapRoot.get(0),{mapTypeId:google.maps.MapTypeId[t.options.mapTypeId],center:n,zoom:t.options.startZoom}),t.directionsDisplay.setMap(t.mapCanvas),p(t),t.$root.trigger(t.options.getStoresListEvent,[]),u(t)})},f=function(e,n){var a={$root:e,options:n,mapCanvas:null,geocoder:null,markers:[],$mapRoot:e.find('[data-type="map"]'),directionsService:null,directionsDisplay:null};return d(a,a.$mapRoot),t.extend(this,a)};jQuery.fn.jlocator.map=function(t,e){return new f(t,e)}}(jQuery),function(t){var e=function(t,e){var n;return n=t.$element.find('[data-type="'+e+'"]'),n.length>0?n.text():null},n=function(t){var e="";return t.address&&(e+=t.address+" "),t.city&&(e+=t.city+" "),t.state&&(e+=t.state+" "),t.zipcode&&(e+=t.zipcode+" "),t.country&&(e+=t.country+" "),e},a=function(n){var a,o,r,i;n.title=e(n,"title"),n.address=e(n,"address"),n.city=e(n,"city"),n.state=e(n,"state"),n.zipcode=e(n,"zipcode"),n.country=e(n,"country"),r=n.$element.attr("data-marker-icon"),r&&(n.customMarkerIcon=r),i=n.$element.attr("data-zoom"),t.isNumeric(i)&&(n.zoom=Number(i)),a=n.$element.attr("data-latitude"),t.isNumeric(a)&&(n.latitude=a),o=n.$element.attr("data-longitude"),t.isNumeric(o)&&(n.longitude=o),t.isNumeric(a)&&t.isNumeric(o)&&(n.latlng=new google.maps.LatLng(n.latitude,n.longitude,!0))},o=function(e,o){var r={$element:e,options:o,customMarkerIcon:"",html:"",fullAddress:"",title:"",address:"",city:"",state:"",zipcode:"",country:"",zoom:o.storeZoom,latitude:null,longitude:null,latlng:null};return r.html=jQuery.fn.jplist.services.Helper.getOuterHtml(e),a(r),n(r),t.extend(this,r)};jQuery.fn.jlocator.store=function(t,e){var n=new o(t,e);return n}}(jQuery),function(t){jQuery.fn.jplist.controls.Autocomplete={},jQuery.fn.jplist.controls.Autocomplete.render=function(t){var e,n,a={};t.controlTypeOptions&&(a=t.controlTypeOptions),e=new google.maps.places.Autocomplete(t.$control.get(0),a),n=Number(t.$control.attr("data-zoom")),isNaN(n)&&(n=17),t.$control.data("jplist-autocomplete",e),t.$control.data("jplist-autocomplete-zoom",n)},jQuery.fn.jplist.controls.Autocomplete.initEvents=function(e){function n(n){t(".pac-container").hide();var a=n.text(),o=new google.maps.Geocoder;o.geocode({address:a},function(n,a){if(a==google.maps.GeocoderStatus.OK){console.log(n);var o=n[0].geometry.location.lat(),r=n[0].geometry.location.lng(),i=n[0].address_components[0].long_name,s=n[0].formatted_address;t(".findInput input").val(s),e.$control.attr("data-latitude",o),e.$control.attr("data-longitude",r),e.$control.attr("data-name",i),e.$jplistBox.trigger("jumpEvent",[o,r,e.$control.data("jplist-autocomplete-zoom")]),e.$jplistBox.trigger(e.options.force_ask_event,[!1])}})}t(".findInput input").focusin(function(){t(document).keypress(function(e){13==e.which&&(console.log("enter"),t(".pac-container .pac-item-selected")[0]?(n(t(".pac-item-selected")),console.log("item selected after row")):(n(t(".pac-container .pac-item:first")),console.log("first item enter")),t(".mapOverlay").addClass("shrink"))})});var a,o=e.$control.data("jplist-handle");a=e.$control.data("jplist-autocomplete"),o&&google.maps.event.removeListener(o),o=google.maps.event.addListener(a,"place_changed",function(){var n,o,r;n=a.getPlace(),n.geometry&&(o=n.geometry.location.lat(),r=n.geometry.location.lng(),e.$control.attr("data-latitude",o),e.$control.attr("data-longitude",r),e.$control.attr("data-name",n.name),console.log(n.name),t(".mapOverlay").addClass("shrink"),e.$jplistBox.trigger("jumpEvent",[o,r,e.$control.data("jplist-autocomplete-zoom")])),console.log("redraw"),e.$jplistBox.trigger(e.options.force_ask_event,[!1])}),e.$control.off("keyup").on("keyup",function(n){var a;a=t.trim(t(this).val()),""===a&&(console.log("blank"),e.$control.attr("data-latitude",""),e.$control.attr("data-longitude",""),e.$jplistBox.trigger(e.options.force_ask_event,[!1]))}),e.$control.data("jplist-handle",o)},jQuery.fn.jplist.controls.Autocomplete.setStatus=function(t,e,n){},jQuery.fn.jplist.controls.Autocomplete.getStatus=function(e,n){var a,o,r,i=null;return a=n.$control.attr("data-latitude"),o=n.$control.attr("data-longitude"),r={name:n.$control.attr("data-name"),radius:n.$control.attr("data-radius"),filterType:"autocomplete"},e?(r.latitude="",r.longitude="",i=new jQuery.fn.jplist.models.Status(n.name,n.action,n.type,r,!0)):t.isNumeric(a)&&t.isNumeric(o)&&(r.latitude=a,r.longitude=o,i=new jQuery.fn.jplist.models.Status(n.name,n.action,n.type,r,!0)),i}}(jQuery),function(t){jQuery.fn.jplist.controls.AutocompleteRadius={},jQuery.fn.jplist.controls.AutocompleteRadius.render=function(t){var e,n,a,o,r={};n=t.$control.find("input"),a=t.$control.find("select"),t.controlTypeOptions&&(r=t.controlTypeOptions),e=new google.maps.places.Autocomplete(n.get(0),r),o=Number(t.$control.attr("data-zoom")),isNaN(o)&&(o=17),t.$control.data("jlocator-autocomplete-with-radius",e),t.$control.data("jlocator-autocomplete-with-radius-input",n),t.$control.data("jlocator-autocomplete-with-radius-select",a),t.$control.data("jplist-autocomplete-with-radius-zoom",o)},jQuery.fn.jplist.controls.AutocompleteRadius.initEvents=function(e){var n,a,o,r=e.$control.data("jplist-handle2");n=e.$control.data("jlocator-autocomplete-with-radius"),a=e.$control.data("jlocator-autocomplete-with-radius-input"),o=e.$control.data("jlocator-autocomplete-with-radius-select"),r&&google.maps.event.removeListener(r),r=google.maps.event.addListener(n,"place_changed",function(){var t,a,o;t=n.getPlace(),t.geometry&&(a=t.geometry.location.lat(),o=t.geometry.location.lng(),e.$control.attr("data-latitude",a),e.$control.attr("data-longitude",o),e.$control.attr("data-name",t.name),e.$jplistBox.trigger("jumpEvent",[a,o,e.$control.data("jplist-autocomplete-with-radius-zoom")])),e.$jplistBox.trigger(e.options.force_ask_event,[!1])}),a.length>0&&o.length>0&&(a.off("keyup").on("keyup",function(n){var a;a=t.trim(t(this).val()),""===a&&(e.$control.attr("data-latitude",""),e.$control.attr("data-longitude",""),e.$jplistBox.trigger(e.options.force_ask_event,[!1]))}),o.change(function(){e.$jplistBox.trigger(e.options.force_ask_event,[!1])})),e.$control.data("jplist-handle2",r)},jQuery.fn.jplist.controls.AutocompleteRadius.getStatus=function(e,n){var a,o,r,i,s,l,c,u=null;return a=n.$control.attr("data-latitude"),o=n.$control.attr("data-longitude"),i=n.$control.attr("data-units"),s=n.$control.data("jlocator-autocomplete-with-radius-select"),s.length>0&&(l=parseFloat(s.val()),isNaN(l)||(c=i&&"km"===i.toString()?1e3*l:1609.34*l,r={name:n.$control.attr("data-name"),radius:c,filterType:"autocomplete"},e?(r.latitude="",r.longitude="",u=new jQuery.fn.jplist.models.Status(n.name,n.action,n.type,r,!0)):t.isNumeric(a)&&t.isNumeric(o)&&(r.latitude=a,r.longitude=o,u=new jQuery.fn.jplist.models.Status(n.name,n.action,n.type,r,!0)))),u}}(jQuery);