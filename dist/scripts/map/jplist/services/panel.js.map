{"version":3,"sources":["map/jplist/services/panel.js"],"names":[],"mappings":"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","file":"map/jplist/services/panel.js","sourcesContent":["/*global jQuery:false */\n(function($){\n\t'use strict';\t\t\n\t\n\t/** \n\t* Panel Class\n\t* @type {Object} \n\t* @class Services for the panel object\n\t* @memberOf jQuery.fn.jplist.services\n\t*/\n\tjQuery.fn.jplist.services.Panel = {};\n\t\n\t/**\n\t* Find controls with the same name and action\n\t* @param {Array.<jQuery.fn.jplist.view.PanelControl>} controls\n\t* @param {?string} name\n\t* @param {?string} action\n\t* @return {Array.<jQuery.fn.jplist.view.PanelControl>}\n\t* @memberOf jQuery.fn.jplist.services.Panel\n\t*/\n\tjQuery.fn.jplist.services.Panel.findControlsByNameAction = function(controls, name, action){\n\t\t\n\t\tvar sameControls = []\n\t\t\t,control;\n\t\t\n\t\tfor(var i=0; i<controls.length; i++){\n\t\t\n\t\t\t//get control type\n\t\t\tcontrol = controls[i];\n\t\t\t\n\t\t\tif(control.name === name && control.action === action){\n\t\t\t\tsameControls.push(control);\n\t\t\t}\n\t\t}\n\t\t\t\n\t\treturn sameControls;\n\t};\n\n\t/**\n\t* Find controls with the same name\n\t* @param {Array.<jQuery.fn.jplist.view.PanelControl>} controls\n\t* @param {?string} name\n\t* @return {Array.<jQuery.fn.jplist.view.PanelControl>}\n\t* @memberOf jQuery.fn.jplist.services.Panel\n\t*/\n\tjQuery.fn.jplist.services.Panel.findControlsByName = function(controls, name){\n\t\t\n\t\tvar sameControls = []\n\t\t\t,control;\n\t\t\n\t\tfor(var i=0; i<controls.length; i++){\n\t\t\n\t\t\t//get control type\n\t\t\tcontrol = controls[i];\n\t\t\t\n\t\t\tif(control.name === name){\n\t\t\t\tsameControls.push(control);\n\t\t\t}\n\t\t}\n\t\t\t\n\t\treturn sameControls;\n\t};\n\t\n\t/**\n\t* merge statuses with the same name and different types\n\t* @param {Array.<jQuery.fn.jplist.models.Status>} oldStatuses - statuses to merge\n\t* @return {Array.<jQuery.fn.jplist.models.Status>}\n\t* @memberOf jQuery.fn.jplist.services.Panel\n\t*/\n\tjQuery.fn.jplist.services.Panel.mergeIdenticalStatuses = function(oldStatuses){\n\t\n\t\tvar statuses = []\n\t\t\t,status\n\t\t\t,index\n\t\t\t,same_name_status\n\t\t\t,temp;\n\t\t\n\t\tfor(var i=0; i<oldStatuses.length; i++){\n\t\t\t\t\t\t\t\t\n\t\t\t//get control status\n\t\t\tstatus = oldStatuses[i];\n\t\t\t\n\t\t\t//add status to the list\n\t\t\tif(status){\n\t\t\t\n\t\t\t\t//search for the statuses with the same name\n\t\t\t\tindex = jQuery.fn.jplist.services.Status.findStatusByField(status, 'name', statuses);\n\t\t\t\t\n\t\t\t\tif(index !== -1){\n\t\t\t\t\t\n\t\t\t\t\t//there is statuses with the same name\n\t\t\t\t\tsame_name_status = statuses[index];\n\t\t\t\t\t\n\t\t\t\t\tif(same_name_status.action === status.action){\n\t\t\t\t\t\t\n\t\t\t\t\t\t//same name and different stypes: dropdown pager + placeholder pages -> merge statuses\n\t\t\t\t\t\tif(same_name_status.type !== status.type){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttemp = $.extend(true, {}, status, statuses[index]);\n\t\t\t\t\t\t\tstatuses[index] = temp;\n\t\t\t\t\t\t\t//$.extend(true, statuses[index], status);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\t//no statuses with the same name ->add to statuses list\n\t\t\t\t\tstatuses.push(status);\n\t\t\t\t}\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn statuses;\n\t};\n\t\n\t/**\n\t* Merge current statuses list with the given status: if status with the same name and action is found in the list, merge them\n\t* @param {Array.<jQuery.fn.jplist.models.Status>} statuses\n\t* @param {jQuery.fn.jplist.models.Status} status\n\t* @return {Array.<jQuery.fn.jplist.models.Status>}\n\t* @memberOf jQuery.fn.jplist.services.Panel\n\t*/\n\tjQuery.fn.jplist.services.Panel.mergeWithStatus = function(statuses, status){\n\t\n\t\tvar cStatus;\n\t\t\n\t\tfor(var i=0; i<statuses.length; i++){\n\t\t\n\t\t\t//get current status\n\t\t\tcStatus = statuses[i];\n\t\t\t\n\t\t\tif(cStatus.name === status.name && cStatus.action === status.action){\n\t\t\t \n\t\t\t\t//merge current status with the given one\n\t\t\t\t$.extend(true, cStatus, status);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn statuses;\n\t};\n\t\n\t/**\n\t* Get current panel statuses (for ask event)\n\t* @param {Array.<jQuery.fn.jplist.view.PanelControl>} controls\n\t* @param {boolean} isDefault - if true, get default (initial) panel status; else - get current panel status\n\t* @return {Array.<jQuery.fn.jplist.models.Status>}\n\t* @memberOf jQuery.fn.jplist.services.Panel\n\t*/\n\tjQuery.fn.jplist.services.Panel.getStatuses = function(controls, isDefault){\n\t\n\t\tvar statuses = []\n\t\t\t,control\n\t\t\t,status\n\t\t\t,index\n\t\t\t,same_name_status;\n\t\t\n\t\tfor(var i=0; i<controls.length; i++){\n\t\t\n\t\t\t//get control type\n\t\t\tcontrol = controls[i];\n\t\t\t\n\t\t\t//get control status\n\t\t\tstatus = control.getStatus(isDefault);\n\t\t\t\n\t\t\t//add status to the list\n\t\t\tif(status){\n\t\t\t\n\t\t\t\t//search for the statuses with the same name\n\t\t\t\tindex = jQuery.fn.jplist.services.Status.findStatusByField(status, 'name', statuses);\n\t\t\t\t\n\t\t\t\tif(index != -1){\n\t\t\t\t\t\n\t\t\t\t\t//there is statuses with the same name\n\t\t\t\t\tsame_name_status = statuses[index];\n\t\t\t\t\t\n\t\t\t\t\tif(same_name_status.action == status.action){\n\t\t\t\t\t\t\n\t\t\t\t\t\t//same name and different stypes: dropdown pager + placeholder pages -> merge statuses\n\t\t\t\t\t\tif(same_name_status.type != status.type){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t$.extend(true, statuses[index], status);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\t//no statuses with the same name ->add to statuses list\n\t\t\t\t\tstatuses.push(status);\n\t\t\t\t}\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn statuses;\n\t};\n\t\t\t\n\t/**\n\t* Set current statuses (for answer event)\n\t* @param {Array.<jQuery.fn.jplist.view.PanelControl>} controls\n\t* @param {Array.<jQuery.fn.jplist.models.Status>} statuses\n\t* @param {boolean} isCookie - are statuses restored from cookies\n\t* @memberOf jQuery.fn.jplist.services.Panel\n\t*/\n\tjQuery.fn.jplist.services.Panel.setStatuses = function(controls, statuses, isCookie){\n\t\t\n\t\tvar status\n\t\t\t,sameControls;\n\t\t\n\t\tfor(var i=0; i<statuses.length; i++){\n\t\t\n\t\t\t//get status\n\t\t\tstatus = statuses[i];\n\t\t\t\n\t\t\t//get controls group (with the status.name and status.action)\n\t\t\tsameControls = jQuery.fn.jplist.services.Panel.findControlsByNameAction(controls, status.name, status.action);\n\t\t\t\n\t\t\tfor(var k=0; k<sameControls.length; k++){\n\t\t\t\n\t\t\t\t//set control status\n\t\t\t\tsameControls[k].setStatus(status, isCookie);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t* Get panel paths\n\t* @param {Array.<jQuery.fn.jplist.view.PanelControl>} controls\n\t* @return {Array.<jQuery.fn.jplist.models.Path>}\n\t* @memberOf jQuery.fn.jplist.services.Panel\n\t*/\n\tjQuery.fn.jplist.services.Panel.getPaths = function(controls){\n\t\n\t\tvar control\n\t\t\t,paths\n\t\t\t,path\n\t\t\t,generalPathsList = [];\n\t\t\n\t\tfor(var i=0; i<controls.length; i++){\n\t\t\n\t\t\t//get control type\n\t\t\tcontrol = controls[i];\n\t\t\t\n\t\t\t//get control type paths\n\t\t\tpaths = control.getPaths();\n\t\t\t\n\t\t\tfor(var k=0; k<paths.length; k++){\n\t\t\t\n\t\t\t\t//get path\n\t\t\t\tpath = paths[k];\n\t\t\t\t\n\t\t\t\tif(!jQuery.fn.jplist.services.Path.isPathInList(path, generalPathsList)){\n\t\t\t\t\n\t\t\t\t\t//add path to the list\n\t\t\t\t\tgeneralPathsList.push(path);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn generalPathsList;\n\t};\t\n\t\n})(jQuery);\n\n"],"sourceRoot":"/source/"}