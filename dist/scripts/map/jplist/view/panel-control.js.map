{"version":3,"sources":["map/jplist/view/panel-control.js"],"names":[],"mappings":"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","file":"map/jplist/view/panel-control.js","sourcesContent":["/*global jQuery:false */\n(function($){\n\t'use strict';\t\t\n\n\t/**\n\t* render control html\n\t* @param {Object} self - jplist panel control type 'this' object\n\t*/\n\tvar render = function(self){\n\t\t\n\t\tvar render;\n\t\t\n\t\tif(self.controlTypeClass){\t\n\t\t\t\n\t\t\t//get render method\n\t\t\trender = self.controlTypeClass['render'];\n\t\t\t\n\t\t\tif(render && $.isFunction(render)){\n\t\t\t\t\t\t\t\n\t\t\t\t//render html\n\t\t\t\trender(self);\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t* get control deep link\t\n\t* @param {Object} self - jplist panel control type 'this' object\n\t* @return {string} deep link\n\t*/\n\tvar getDeepLink = function(self){\n\t\t\n\t\tvar getDeepLinkFunc\n\t\t\t,deepLink = '';\n\t\t\n\t\tif(self.controlTypeClass){\t\n\t\t\t\n\t\t\t//get getStatusByDeepLink method\n\t\t\tgetDeepLinkFunc = self.controlTypeClass['getDeepLink'];\n\t\t\t\n\t\t\tif(getDeepLinkFunc && $.isFunction(getDeepLinkFunc)){\n\t\t\t\t\t\t\n\t\t\t\t//call function\n\t\t\t\tdeepLink = getDeepLinkFunc(self);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn deepLink;\n\t};\n\t\n\t/**\n\t* set control deep link\t\n\t* @param {Object} self - jplist panel control type 'this' object\n\t* @param {string} propName - deep link property name\n\t* @param {string} propValue - deep link property value\n\t* @return {jQuery.fn.jplist.models.Status}\n\t*/\n\tvar getStatusByDeepLink = function(self, propName, propValue){\n\t\t\n\t\tvar getStatusByDeepLinkFunc\n\t\t\t,status = null;\n\t\t\n\t\tif(self.controlTypeClass){\t\n\t\t\t\n\t\t\t//get getStatusByDeepLink method\n\t\t\tgetStatusByDeepLinkFunc = self.controlTypeClass['getStatusByDeepLink'];\n\t\t\t\n\t\t\tif(getStatusByDeepLinkFunc && $.isFunction(getStatusByDeepLinkFunc)){\n\t\t\t\t\t\t\n\t\t\t\t//get updated status from control's 'getStatusByDeepLink' function\n\t\t\t\tstatus = getStatusByDeepLinkFunc(self, propName, propValue);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn status;\n\t};\n\t\n\t/**\n\t* get all paths\n\t* @param {Object} self - jplist panel conrtol 'this' object\n\t* @return {Array.<jQuery.fn.jplist.models.Path>}\n\t*/\n\tvar getPaths = function(self){\n\t\n\t\tvar paths = []\n\t\t\t,getPaths;\n\t\t\t\n\t\tif(self.controlTypeClass){\n\t\t\t\n\t\t\t//get getPaths method\n\t\t\tgetPaths = self.controlTypeClass['getPaths'];\n\t\t\t\n\t\t\tif(getPaths && $.isFunction(getPaths)){\n\t\t\t\t\t\t\t\n\t\t\t\t//getPaths\n\t\t\t\tgetPaths(self, paths);\n\t\t\t}\n\t\t}\n\t\t\t\t\n\t\treturn paths;\n\t};\n\t\n\t/**\n\t* get current status\n\t* @param {Object} self - jplist panel conrtol 'this' object\n\t* @param {boolean} isDefault - if true, get default (initial) control status; else - get current control status\n\t* @return {jQuery.fn.jplist.models.Status}\n\t*/\n\tvar getStatus = function(self, isDefault){\n\t\n\t\tvar status = null\n\t\t\t,getStatus;\n\t\t\n\t\tif(self.controlTypeClass){\n\t\t\t\n\t\t\t//get getStatus method\n\t\t\tgetStatus = self.controlTypeClass['getStatus'];\n\t\t\t\n\t\t\tif(getStatus && $.isFunction(getStatus)){\n\t\t\t\t\t\t\t\n\t\t\t\t//getStatus\n\t\t\t\tstatus = getStatus(isDefault, self);\n\t\t\t}\n\t\t}\n\t\t\t\t\n\t\treturn status;\n\t};\n\t\n\t/**\n\t* set status to control\n\t* @param {jQuery.fn.jplist.models.Status} status\n\t* @param {boolean} isCookie - is status restored from cookies\n\t*/\n\tvar setStatus = function(self, status, isCookie){\n\t\n\t\tvar setStatus;\n\t\t\n\t\tif(status.action === self.action && status.name === self.name){//status.type == self.type \n\t\t  \n\t\t   if(self.controlTypeClass){\n\t\t\t\t\n\t\t\t\t//get setStatus method\n\t\t\t\tsetStatus = self.controlTypeClass['setStatus'];\n\t\t\t\t\n\t\t\t\tif(setStatus && $.isFunction(setStatus)){\n\t\t\t\t\t\t\n\t\t\t\t\t//setStatus\n\t\t\t\t\tsetStatus(status, self, isCookie);\n\t\t\t\t}\n\t\t\t}\n\t\t }\n\t};\n\t\n\t/**\n\t* init events\n\t* @param {Object} self - jplist panel control type 'this' object\n\t*/\n\tvar initEvents = function(self){\n\t\n\t\tvar initEvents;\n\t\t\n\t\tif(self.controlTypeClass){\n\t\t\t\n\t\t\t//get initEvents method\n\t\t\tinitEvents = self.controlTypeClass['initEvents'];\n\t\t\t\n\t\t\tif(initEvents && $.isFunction(initEvents)){\n\t\t\t\t\t\t\t\n\t\t\t\t//initEvents\n\t\t\t\tinitEvents(self);\n\t\t\t}\n\t\t}\t \n\t};\n\t\n\t/**\n\t* Panel control constructor\t\n\t* @param {jQueryObject} $jplistBox - jplist jquery element\n\t* @param {Object} options - jplist options\n\t* @param {jQueryObject} $control - jquery object\n\t* @param {jQuery.fn.jplist.controller.Events} events\n\t* @return {Object} - panel control control + this\n\t* @constructor \n\t*/\n\tvar Init = function($jplistBox, options, $control, events){\n\t\t\n\t\tvar self = {\t\t\t\n\t\t\t$jplistBox: $jplistBox\n\t\t\t,options: options\t\t\t\n\t\t\t,$control: $control\n\t\t\t,events: events\n\t\t\t\n\t\t\t,type: null\n\t\t\t,action: null\n\t\t\t,name: null\n            ,category: null\n\t\t\t,cookies: true //by default control is stored in cookies (if cookies are enabled)\n\t\t\t\n\t\t\t,controlType: null\n\t\t\t,controlTypeClass: null\n\t\t\t,controlTypeOptions: null\n\t\t}\n\t\t,temp;\n\t\t\n\t\t//set controls properties\n\t\tself.type = $control.attr('data-control-type');\n\t\tself.action = $control.attr('data-control-action');\n\t\tself.name = $control.attr('data-control-name');\n        self.category = $control.attr('data-control-category');\n\t\t\n\t\t//by default control is stored in cookies (if cookies are enabled)\n\t\t//if data-control-cookies=\"false\" - control is excluded from cookies\n\t\ttemp = $control.attr('data-control-cookies');\n\t\tif(temp && temp.toString() === 'false'){\n\t\t\tself.cookies = false;\n\t\t}\n\t\t\n\t\t//init control vars\n\t\tself.controlType = self.options.control_types[self.type];\n\t\t\n\t\tif(self.controlType){\n\t\t\n\t\t\t//get control type class\n\t\t\tif(self.controlType['class_name']){\n\t\t\t\tself.controlTypeClass = jQuery.fn.jplist.controls[self.controlType['class_name']];\n\t\t\t}\n\t\t\t\n\t\t\t//get options\n\t\t\tif(self.controlType['options']){\n\t\t\t\tself.controlTypeOptions = self.controlType['options'];\n\t\t\t}\n\t\t}\n\t\t\n\t\t//render control html\n\t\trender(self);\n\t\t\n\t\treturn $.extend(this, self);\n\t};\n\t\n\t/**\n\t* API: render control html\t\n\t* @memberOf jQuery.fn.jplist.view.PanelControl#\n\t* @public\t\n\t* @name render\n\t* @function\n\t*/\n\tInit.prototype.render = function(){\n\t\trender(this);\n\t};\n\t\n\t/**\n\t* API: set control status by deep link\n\t* @param {string} propName - deep link property name\n\t* @param {string} propValue - deep link property value\n\t* @return {jQuery.fn.jplist.models.Status}\n\t* @memberOf jQuery.fn.jplist.view.PanelControl#\n\t* @public\t\n\t* @name getStatusByDeepLink\n\t* @function\n\t*/\n\tInit.prototype.getStatusByDeepLink = function(propName, propValue){\n\t\treturn getStatusByDeepLink(this, propName, propValue);\n\t};\n\t\n\t/**\n\t* API: get deep link from control\n\t* @return {string} deep link\n\t* @memberOf jQuery.fn.jplist.view.PanelControl#\n\t* @public\t\n\t* @name getDeepLink\n\t* @function\n\t*/\n\tInit.prototype.getDeepLink = function(){\n\t\treturn getDeepLink(this);\n\t};\n\t\n\t/**\n\t* API: get all paths\n\t* @return {Array.<jQuery.fn.jplist.models.Path>}\n\t* @memberOf jQuery.fn.jplist.view.PanelControl#\n\t* @public\t\n\t* @name getPaths\n\t* @function\n\t*/\n\tInit.prototype.getPaths = function(){\n\t\treturn getPaths(this);\n\t};\n\t\n\t/**\n\t* API: get current status\n\t* @param {boolean} isDefault - if true, get default (initial) control status; else - get current control status\n\t* @return {jQuery.fn.jplist.models.Status}\t\n\t* @memberOf jQuery.fn.jplist.view.PanelControl#\n\t* @public\t\n\t* @name getStatus\n\t* @function\n\t*/\n\tInit.prototype.getStatus = function(isDefault){\n\t\treturn getStatus(this, isDefault);\n\t};\n\t\n\t/**\n\t* API: set status to control\n\t* @param {jQuery.fn.jplist.models.Status} status\n\t* @param {boolean} isCookie - is status restored from cookies\n\t* @memberOf jQuery.fn.jplist.view.PanelControl#\n\t* @public\t\n\t* @name setStatus\n\t* @function\n\t*/\n\tInit.prototype.setStatus = function(status, isCookie){\n\t\tsetStatus(this, status, isCookie);\n\t};\n\t\n\t/**\n\t* API: init controls events\t\n\t* @memberOf jQuery.fn.jplist.view.PanelControl#\n\t* @public\t\n\t* @name initEvents\n\t* @function\n\t*/\n\tInit.prototype.initEvents = function(){\n\t\tinitEvents(this);\n\t};\n\t\n\t/**\n\t* panel control \n\t* @param {jQueryObject} $jplistBox - jplist jquery element\n\t* @param {Object} options - jplist options\n\t* @param {jQueryObject} $control\t\n\t* @param {jQuery.fn.jplist.controller.Events} events\n\t* @constructor \n\t* @memberOf jQuery.fn.jplist.view.PanelControl\n\t*\n    * @class Panel control - representation of any control on the panel\n    * @memberOf jQuery.fn.jplist.view\n\t*\n\t* @property {Object} options - user options\t\n\t* @property {jQueryObject} $jplistBox - jplist root element\n\t* @property {jQueryObject} $control - control jquery element\n\t* @property {jQuery.fn.jplist.controller.Events} events\n\t*\n\t* @property {string} name - control name\n\t* @property {string} type - control type\n\t* @property {string} action - control action\n    * @property {string} category - control category\n\t* @property {string} cookies - control cookies\n\t*\n\t* @property {string} controlType - control type object\n\t* @property {string} controlTypeClass - control class\n\t* @property {string} controlTypeOptions - control options\n\t*/\n\tjQuery.fn.jplist.view.PanelControl = function($jplistBox, options, $control, events){\n\n\t\tvar self;\n\t\t\n\t\t//init constructor\n\t\tself = new Init($jplistBox, options, $control, events);\n\t\t\n\t\t//init events\n\t\tinitEvents(self);\n\t\t\n\t\t//properties\n\t\tthis.options = self['options'];\n\t\tthis.$jplistBox = self['$jplistBox'];\n\t\tthis.$control = self['$control'];\n\t\tthis.events = self['events'];\n\t\t\n\t\t//control properties\n\t\tthis.type = self['type'];\n\t\tthis.action = self['action'];\n\t\tthis.name = self['name'];\n        this.category = self['category'];\n\t\tthis.cookies = self['cookies'];\n\t\t\n\t\t//control additional properties\n\t\tthis.controlType = self['controlType'];\n\t\tthis.controlTypeClass = self['controlTypeClass'];\n\t\tthis.controlTypeOptions = self['controlTypeOptions'];\n\t\t\n\t\t//methods\n\t\tthis.render = self['render'];\n\t\tthis.getPaths = self['getPaths'];\n\t\tthis.getStatus = self['getStatus'];\n\t\tthis.setStatus = self['setStatus'];\n\t\tthis.initEvents = self['initEvents'];\n\t\tthis.getStatusByDeepLink = self['getStatusByDeepLink'];\n\t\tthis.getDeepLink = self['getDeepLink'];\n\t};\n\t\n})(jQuery);\n\n"],"sourceRoot":"/source/"}