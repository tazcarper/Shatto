{"version":3,"sources":["map/jplist/controls/toggle-filters/button-filter-group.js"],"names":[],"mappings":"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","file":"map/jplist/controls/toggle-filters/button-filter-group.js","sourcesContent":["(function($){\n\t'use strict';\t\t\n\t\n\t/** \n\t* Button filter group control\n\t* @type {Object} \n    * @class ButtonFilter - Button filter groups\n    * @memberOf jQuery.fn.jplist\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilterGroup = {};\n\n\t/**\n\t* Render control html\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @memberOf jQuery.fn.jplist.controls.ButtonFilterGroup\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilterGroup.render = function(control){\n\n        var $buttons = control.$control.find('[data-button]');\n\n        //in every button: save its data\n\t\t$buttons.each(function(){\t\t\t\n            $(this).data('selected', false);\n\t\t});\n\n\t\t//save data\n\t\tcontrol.$control.data('$buttons', $buttons);\n\t};\n\t\n\t/**\n\t* Get deep link\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @return {string} deep link\n\t* @memberOf jQuery.fn.jplist.controls.ButtonFilterGroup\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilterGroup.getDeepLink = function(control){\n\n        return '';\n\t};\n\t\n\t/**\n\t* Set deep link\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {string} propName - deep link property name\n\t* @param {string} propValue - deep link property value\n\t* @return {jQuery.fn.jplist.models.Status}\n\t* @memberOf jQuery.fn.jplist.controls.ButtonFilterGroup\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilterGroup.getStatusByDeepLink = function(control, propName, propValue){\n\t\t\n\t\treturn null;\n\t};\n\t\n\t/**\n\t* Get control paths\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {Array.<jQuery.fn.jplist.models.Path>} paths\n\t* @memberOf jQuery.fn.jplist.controls.ButtonFilterGroup\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilterGroup.getPaths = function(control, paths){\n\n        var $control = control.$control\n\t\t\t,$buttons = $control.data('$buttons')\n\t\t\t,$button\n\t\t\t,dataPath\n\t\t\t,path;\n\n\t\tif($buttons){\n\t\t\tfor(var i=0; i<$buttons.length; i++){\n\n\t\t\t\t//get checkbox\n\t\t\t\t$button = $buttons.eq(i);\n\n\t\t\t\t//get data-path\n\t\t\t\tdataPath = $button.attr('data-path');\n\n\t\t\t\tif(dataPath){\n\n\t\t\t\t\t//create path object\n\t\t\t\t\tpath = new jQuery.fn.jplist.models.Path(dataPath, 'text');\n\n\t\t\t\t\t//add path to the paths list\n\t\t\t\t\tif(!jQuery.fn.jplist.services.Path.isPathInList(path, paths)){\n\t\t\t\t\t\tpaths.push(path);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t* Get control status\n\t* @param {boolean} isDefault - if true, get default (initial) control status; else - get current control status\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @return {jQuery.fn.jplist.models.Status}\n\t* @memberOf jQuery.fn.jplist.controls.ButtonFilterGroup\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilterGroup.getStatus = function(isDefault, control){\n\n        var $control = control.$control\n\t\t\t,$buttons = $control.data('$buttons')\n\t\t\t,data\n\t\t\t,pathGroup = []\n\t\t\t,$button\n\t\t\t,dataPath\n\t\t\t,status\n            ,i\n            ,selected;\n\n\t\tif(isDefault){\n\n\t\t\t//init path group\n\t\t\tfor(i=0; i<$buttons.length; i++){\n\n\t\t\t\t//get button\n\t\t\t\t$button = $buttons.eq(i);\n\n\t\t\t\t//get button data\n\t\t\t\tselected = $button.data('selected');\n\n\t\t\t\tif(!!selected){\n\n\t\t\t\t\t//get data-path\n\t\t\t\t\tdataPath = $button.attr('data-path');\n\n\t\t\t\t\tif(dataPath){\n\t\t\t\t\t\tpathGroup.push(dataPath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse{\n\n\t\t\t//init path group\n\t\t\tfor(i=0; i<$buttons.length; i++){\n\n\t\t\t\t//get button\n\t\t\t\t$button = $buttons.eq(i);\n\n                //get button data\n\t\t\t\tselected = $button.data('selected');\n\n                if(!!selected){\n\n                    //get data-path\n                    dataPath = $button.attr('data-path');\n\n                    if(dataPath){\n                        pathGroup.push(dataPath);\n                    }\n                }\n\n\t\t\t}\n\t\t}\n\n\t\t//init status related data\n\t\tdata = {\n             pathGroup: pathGroup\n\t\t\t,filterType: 'pathGroup'\n        };\n\n\t\t//init status\n\t\tstatus = new jQuery.fn.jplist.models.Status(control.name, control.action, control.type, data, control.cookies, control.category);\n\n\t\treturn status;\n\t};\n\t\n\t/**\n\t* Set control status\n\t* @param {jQuery.fn.jplist.models.Status} status\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {boolean} isCookie - is status restored from cookies\n\t* @memberOf jQuery.fn.jplist.controls.ButtonFilterGroup\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilterGroup.setStatus = function(status, control, isCookie){\n\n        var path\n\t\t\t,$control = control.$control\n\t\t\t,$button\n\t\t\t,$buttons = $control.data('$buttons');\n\n\t\tif($buttons){\n\n\t\t\t//reset\tall buttons\n\t\t\t$buttons.each(function(){\n                $(this).removeClass('selected');\n\t\t\t});\n\n\t\t\tif(status.data && status.data.pathGroup && $['isArray'](status.data.pathGroup) && status.data.pathGroup.length > 0){\n\n\t\t\t\tfor(var i=0; i<status.data.pathGroup.length; i++){\n\n\t\t\t\t\t//get path\n\t\t\t\t\tpath = status.data.pathGroup[i];\n\n\t\t\t\t\t$button = $buttons.filter('[data-path=\"' + path + '\"]');\n\n\t\t\t\t\tif($button.length > 0){\n\t\t\t\t\t\t$button.addClass('selected');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t* Init control events\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @memberOf jQuery.fn.jplist.controls.ButtonFilterGroup\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilterGroup.initEvents = function(control){\n\t\t\n\t\tvar selected\n            ,$buttons = control.$control.data('$buttons');\n\n        if($buttons){\n\n            $buttons.off('click').on('click', function(){\n\n                var $button;\n\n                //get button\n                $button = $(this);\n\n                //get selected value\n\t\t\t    selected = $button.data('selected');\n\n                //toggle value\n\t\t\t    $button.data('selected', !selected);\n\n                control.events.lastStatus = jQuery.fn.jplist.controls.ButtonFilterGroup.getStatus(false, control);\n\t\t\t    control.$jplistBox.trigger(control.options.force_ask_event, [false]);\n\n            });\n        }\n\t};\n\t\n\t\n})(jQuery);\n\n"],"sourceRoot":"/source/"}