{"version":3,"sources":["map/jplist/controls/toggle-filters/button-filter.js"],"names":[],"mappings":"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","file":"map/jplist/controls/toggle-filters/button-filter.js","sourcesContent":["(function($){\n\t'use strict';\t\t\n\t\n\t/** \n\t* Button filter control\n\t* @type {Object} \n    * @class ButtonFilter - button filters\n    * @memberOf jQuery.fn.jplist\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilter = {};\n\n\t/**\n\t* Render control html\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @memberOf jQuery.fn.jplist.controls.ButtonFilter\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilter.render = function(control){\n\n\t\tcontrol.$control.data('selected', false);\n\t};\n\t\n\t/**\n\t* Get deep link\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @return {string} deep link\n\t* @memberOf jQuery.fn.jplist.controls.ButtonFilter\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilter.getDeepLink = function(control){\n\t\t\n\t\tvar deepLink = ''\n\t\t\t,status\n\t\t\t,isDefault = false;\n\t\t\n\t\t//get status\n\t\tstatus = jQuery.fn.jplist.controls.ButtonFilter.getStatus(isDefault, control);\n\t\t\n\t\tif(status.data && status.data.selected){\n\t\t\t\t\n\t\t\t//init deep link\n\t\t\tdeepLink = control.name + '--selected=true';\n\t\t}\n\t\t\n\t\treturn deepLink;\n\t};\n\t\n\t/**\n\t* Set deep link\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {string} propName - deep link property name\n\t* @param {string} propValue - deep link property value\n\t* @return {jQuery.fn.jplist.models.Status}\n\t* @memberOf jQuery.fn.jplist.controls.ButtonFilter\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilter.getStatusByDeepLink = function(control, propName, propValue){\n\t\t\n\t\tvar isDefault = true\n\t\t\t,status;\n\t\t\t\n\t\t//get status\n\t\tstatus = jQuery.fn.jplist.controls.ButtonFilter.getStatus(isDefault, control);\n\t\t\n\t\tif(status.data){\n\t\t\n\t\t\tif(propName === 'selected'){\n\t\t\t\t\n\t\t\t\t//set current page\n\t\t\t\tstatus.data.selected = true;\n\t\t\t\t\n\t\t\t\t//trigger status event\n\t\t\t\t//control.$jplistBox.trigger(control.options.status_event, [status]);\t\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn status;\n\t};\n\t\n\t/**\n\t* Get control paths\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {Array.<jQuery.fn.jplist.models.Path>} paths\n\t* @memberOf jQuery.fn.jplist.controls.ButtonFilter\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilter.getPaths = function(control, paths){\n\t\n\t\tvar jqPath\n\t\t\t,path;\t\t\n\t\t\t\t\n\t\t//ger data-path attribute\n\t\tjqPath = control.$control.attr('data-path');\n\t\t\n\t\t//init path\n\t\tif(jqPath && $.trim(jqPath) !== ''){\n\t\t\n\t\t\tpath = new jQuery.fn.jplist.models.Path(jqPath, 'text');\n\t\t\t\n\t\t\tif(!jQuery.fn.jplist.services.Path.isPathInList(path, paths)){\n\t\t\t\tpaths.push(path);\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t* Get control status\n\t* @param {boolean} isDefault - if true, get default (initial) control status; else - get current control status\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @return {jQuery.fn.jplist.models.Status}\n\t* @memberOf jQuery.fn.jplist.controls.ButtonFilter\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilter.getStatus = function(isDefault, control){\n\t\t\n\t\tvar selected\n\t\t\t,data\n\t\t\t,status;\n\t\t\n\t\tif(isDefault){\n\t\t\tselected = false;\n\t\t}\n\t\telse{\n\t\t\t//get selected value\n\t\t\tselected = control.$control.data('selected');\n\t\t}\n\t\t\n\t\tif(selected){\n\t\t\tdata = {\n\t\t\t\tpath: control.$control.attr('data-path')\n\t\t\t\t,type: 'text'\n\t\t\t\t,filterType: 'path'\n\t\t\t\t,selected: selected\n\t\t\t};\n\t\t}\n\t\telse{\n\t\t\tdata = {\n\t\t\t\tpath: control.$control.attr('data-path')\n\t\t\t\t,type: 'text'\n\t\t\t\t,filterType: ''\n\t\t\t\t,selected: selected\n\t\t\t};\n\t\t}\n\t\t\n\t\t//init status\n\t\tstatus = new jQuery.fn.jplist.models.Status(control.name, control.action, control.type, data, control.cookies, control.category);\n\t\t\n\t\treturn status;\n\t};\n\t\n\t/**\n\t* Set control status\n\t* @param {jQuery.fn.jplist.models.Status} status\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {boolean} isCookie - is status restored from cookies\n\t* @memberOf jQuery.fn.jplist.controls.ButtonFilter\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilter.setStatus = function(status, control, isCookie){\n\t\t\n\t\t//update 'data'\n\t\tcontrol.$control.data('selected', status.data.selected);\n\t\t\n\t\t//update class\n\t\tif(status.data.selected){\n\t\t\tcontrol.$control.addClass('selected');\n\t\t}\n\t\telse{\n\t\t\tcontrol.$control.removeClass('selected');\n\t\t}\n\t};\n\t\n\t/**\n\t* Init control events\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @memberOf jQuery.fn.jplist.controls.ButtonFilter\n\t*/\n\tjQuery.fn.jplist.controls.ButtonFilter.initEvents = function(control){\n\t\t\n\t\tvar selected;\n\n        /**\n         * control on click\n         */\n\t\tcontrol.$control.off().click(function(){\n\t\t\t\n\t\t\t//get selected value\n\t\t\tselected = control.$control.data('selected');\n\t\t\t\n\t\t\t//toggle value\n\t\t\tcontrol.$control.data('selected', !selected);\n\t\t\t\n\t\t\t//update class\n\t\t\tif(selected){\n\t\t\t\tcontrol.$control.removeClass('selected');\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcontrol.$control.addClass('selected');\n\t\t\t}\n\t\t\t\n\t\t\t//trigger force ask event\n\t\t\tcontrol.$jplistBox.trigger(control.options.force_ask_event, [false]);\n\t\t});\n\t};\n\t\n\t\n})(jQuery);\n\n"],"sourceRoot":"/source/"}