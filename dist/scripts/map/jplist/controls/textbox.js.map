{"version":3,"sources":["map/jplist/controls/textbox.js"],"names":[],"mappings":"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","file":"map/jplist/controls/textbox.js","sourcesContent":["(function($){\n\t'use strict';\t\t\n\t\n\t/** \n\t* Textbox control - used as text filter\n\t* @type {Object} \n    * @class Textbox control - used as text filter\n    * @memberOf jQuery.fn.jplist\n\t*/\n\tjQuery.fn.jplist.controls.Textbox = {};\n\t\n\t/**\n\t* Status object related data (using in communication with controller)\n\t* @param {string} dataPath - textbox data-path attribute\n\t* @param {string} value - textbox value\n\t* @param {string} ignore - ignore characters regex (defined in javascript in control's options)\n\t* @constructor\n\t* @function\n\t*/\n\tjQuery.fn.jplist.controls.Textbox.statusRelatedData = function(dataPath, value, ignore){\n\t\t\n\t\treturn {\n\t\t\tpath: dataPath\t\t\n\t\t\t,ignore: ignore\n\t\t\t,value: value\n\t\t\t,filterType: 'text' //used in controller to define filter type\n\t\t};\n\t};\n\t\n\t/**\n\t* Get deep link\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @return {string} deep link\n\t* @memberOf jQuery.fn.jplist.controls.Textbox\n\t*/\n\tjQuery.fn.jplist.controls.Textbox.getDeepLink = function(control){\n\t\t\n\t\tvar deepLink = ''\n\t\t\t,status\n\t\t\t,isDefault = false;\n\t\t\n\t\t//get status\n\t\tstatus = jQuery.fn.jplist.controls.Textbox.getStatus(isDefault, control);\n\t\t\n\t\tif(status.data){\n\t\t\t\n\t\t\tif($.trim(status.data.value) !== ''){\n\t\t\t\t\n\t\t\t\t//init deep link\n\t\t\t\tdeepLink = control.name + '--value=' + status.data.value;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn deepLink;\n\t};\n\t\n\t/**\n\t* Set deep link\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {string} propName - deep link property name\n\t* @param {string} propValue - deep link property value\n\t* @return {jQuery.fn.jplist.models.Status}\n\t* @memberOf jQuery.fn.jplist.controls.Textbox\n\t*/\n\tjQuery.fn.jplist.controls.Textbox.getStatusByDeepLink = function(control, propName, propValue){\n\t\t\n\t\tvar isDefault = true\n\t\t\t,status;\n\t\t\t\n\t\t//get status\n\t\tstatus = jQuery.fn.jplist.controls.Textbox.getStatus(isDefault, control);\n\t\t\n\t\tif(status.data){\n\t\t\n\t\t\tif(propName === 'value'){\n\t\t\t\t\n\t\t\t\t//set current page\n\t\t\t\tstatus.data.value = propValue;\n\t\t\t\t\n\t\t\t\t//trigger status event\n\t\t\t\t//control.$jplistBox.trigger(control.options.status_event, [status]);\t\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn status;\n\t};\n\t\n\t/**\n\t* Get control paths\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {Array.<jQuery.fn.jplist.models.Path>} paths\n\t* @memberOf jQuery.fn.jplist.controls.Textbox\n\t*/\n\tjQuery.fn.jplist.controls.Textbox.getPaths = function(control, paths){\n\t\n\t\tvar jqPath\n\t\t\t,dataType\n\t\t\t,path;\n\t\t\n\t\t//init path vars\n\t\tjqPath = control.$control.attr('data-path');\n\t\tdataType = null;\n\t\t\n\t\t//init path\n\t\tif(jqPath && $.trim(jqPath) !== ''){\n\t\t   \n\t\t\tpath = new jQuery.fn.jplist.models.Path(jqPath, dataType);\n\t\t\t\n\t\t\tif(!jQuery.fn.jplist.services.Path.isPathInList(path, paths)){\n\t\t\t\tpaths.push(path);\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t* Get control status\n\t* @param {boolean} isDefault - if true, get default (initial) control status; else - get current control status\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @return {jQuery.fn.jplist.models.Status}\n\t* @memberOf jQuery.fn.jplist.controls.Textbox\n\t*/\n\tjQuery.fn.jplist.controls.Textbox.getStatus = function(isDefault, control){\n\t\t\n\t\tvar data\n\t\t\t,status\n\t\t\t,dataPath\n\t\t\t,value\n\t\t\t,ignore = '';\t\n\t\t\t\n\t\t//init data-path\n\t\tdataPath = control.$control.attr('data-path');\n\t\t\t\t\n\t\t//init value\n\t\tif(isDefault){\n\t\t\tvalue = '';\n\t\t}\n\t\telse{\n\t\t\tvalue = control.$control.val();\n\t\t}\t\t\n\t\t\n\t\tif(control.controlTypeOptions && control.controlTypeOptions.ignore){\n\t\t \n\t\t\t//get ignore characters\n\t\t\tignore = control.controlTypeOptions.ignore;\n\t\t}\n\t\t\n\t\t//create status related data object\n\t\tdata = new jQuery.fn.jplist.controls.Textbox.statusRelatedData(dataPath, value, ignore);\n\t\t\n\t\t//create status object\n\t\tstatus = new jQuery.fn.jplist.models.Status(control.name, control.action, control.type, data, control.cookies, control.category);\n\t\t\n\t\treturn status;\t\t\t\n\t};\n\t\n\t/**\n\t* Set control status\n\t* @param {jQuery.fn.jplist.models.Status} status\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {boolean} isCookie - is status restored from cookies\n\t* @memberOf jQuery.fn.jplist.controls.Textbox\n\t*/\n\tjQuery.fn.jplist.controls.Textbox.setStatus = function(status, control, isCookie){\n\t\t\t\t\n\t\tif(!control.cookies && isCookie){\n\t\t\t\n\t\t\tstatus.data.value = '';\n\t\t\t\n\t\t\t//send status event\t\n\t\t\tcontrol.$jplistBox.trigger(control.options.status_event, [status]);\n\t\t}\n\t\telse{\n\t\t\tif(status.data){\n\t\t\t\n\t\t\t\tif(!status.data.value){\n\t\t\t\t\tstatus.data.value = '';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//set value\n\t\t\t\tcontrol.$control.val(status.data.value);\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t* Init control events\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @memberOf jQuery.fn.jplist.controls.Textbox\n\t*/\n\tjQuery.fn.jplist.controls.Textbox.initEvents = function(control){\n\t\t\n\t\tvar eventName = 'keyup';\n\t\t\n\t\tif(control.controlTypeOptions && control.controlTypeOptions.eventName){\n\t\t \n\t\t\t//init event name\n\t\t\teventName = control.controlTypeOptions.eventName;\n\t\t}\n\t\t\n\t\tcontrol.$control.off(eventName).on(eventName, function(){\t\n\t\t\t\n\t\t\t//update last status\n\t\t\tcontrol.events.lastStatus = jQuery.fn.jplist.controls.Textbox.getStatus(false, control);\n\t\t\n\t\t\tcontrol.$jplistBox.trigger(control.options.force_ask_event, [false]);\n\t\t});\n\t};\n\t\n\t\n})(jQuery);\n\n"],"sourceRoot":"/source/"}