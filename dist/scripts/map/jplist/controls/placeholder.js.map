{"version":3,"sources":["map/jplist/controls/placeholder.js"],"names":[],"mappings":"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","file":"map/jplist/controls/placeholder.js","sourcesContent":["/*global jQuery:false */\n(function($){\n\t'use strict';\t\t\n\t\n\t/**\n\t* get current page\n\t* @param {boolean} isDefault\n\t* @param {jQueryObject} $el\n\t* @return {number}\n\t*/\n\tvar getCurrentPage = function(isDefault, $el){\n\t\t\n\t\tvar cpage = 0\n\t\t\t,currentPageString;\n\t\t\n\t\t//get current page\n\t\tif(isDefault){\n\t\t\n\t\t\t//by default current page is 0\n\t\t\tcpage = 0;\n\t\t}\n\t\telse{\n\t\t\t\n\t\t\t//get current page\n\t\t\tcurrentPageString = $el.attr('data-number');\n\t\t\t\n\t\t\t//parse to number\n\t\t\tcpage = Number(currentPageString);\n\t\t\t\n\t\t\t//if not a number => current page is 0\n\t\t\tif(isNaN(currentPageString)){\n\t\t\t\tcpage = 0;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn cpage;\n\t};\n\t\n\t/**\n\t* get items per page - should be used only if dropdown 'items per page' is absent\n\t* @param {jQueryObject} $el\n\t* @return {number}\n\t*/\n\tvar getItemsPerPage = function($el){\n\t\t\n\t\tvar itemsPerPage = 0\n\t\t\t,itemsPerPageString;\n\t\t\n\t\t//items per page \n\t\titemsPerPageString = $el.attr('data-items-per-page');\n\t\t\n\t\t//get items per page as number\n\t\titemsPerPage = Number(itemsPerPageString);\n\t\t\n\t\tif(isNaN(itemsPerPage)){\n\t\t\titemsPerPage = 0;\n\t\t}\n\t\t\n\t\treturn itemsPerPage;\n\t};\n\t\n\t/**\n\t* init pager span onclick\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t*/\n\tvar initPagerClickEvents = function(control){\n\t\t\n\t\tvar currentPage\n\t\t\t,status = null;\n\t\t\n\t\tcontrol.$control.find('span').off('click').on('click', function(){\n\t\t\t\n\t\t\t//get current page number\t\t\t\n\t\t\tcurrentPage = getCurrentPage(false, $(this)); //isDefault, $el\n\t\t\t\n\t\t\t//get status\n\t\t\tstatus = jQuery.fn.jplist.controls.Placeholder.getStatus(false, control);\n\t\t\t\n\t\t\t//update current page\n\t\t\tstatus.data.currentPage = currentPage;\n\t\t\t\n\t\t\t//send status event\t\n\t\t\tcontrol.events.lastStatus = status;\n\t\t\tcontrol.$jplistBox.trigger(control.options.status_event, [status]);\n\t\t\t\t\n\t\t});\n\t};\n\t\n\t/**\n\t* set pager arrows visibility\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {Object} pagingObj - paging status object\n\t*/\n\tvar setArrows = function(control, pagingObj){\n\t\t\n\t\t//set pagingprev visibility\n\t\tif(pagingObj.currentPage === 0){\n\t\t\tcontrol.$control.data('pagingprev').addClass('hidden');\n\t\t}\n\t\telse{\n\t\t\tcontrol.$control.data('pagingprev').removeClass('hidden');\n\t\t}\n\t\t\n\t\t//set pagingnext visibility\n\t\tif(pagingObj.currentPage == pagingObj.pagesNumber - 1){ \n\t\t\tcontrol.$control.data('pagingnext').addClass('hidden');\n\t\t}\n\t\telse{\n\t\t\tcontrol.$control.data('pagingnext').removeClass('hidden');\n\t\t}\t\n\t};\n\t\n\t/**\n\t* build pager html for the given control and paging object (from event)\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {Object} pagingObj - paging status object\n\t*/\n\tvar buildPager = function(control, pagingObj){\t\t\n\t\t\n\t\tvar start\n\t\t\t,end\n\t\t\t,diff\n\t\t\t,temp\n\t\t\t,html = ''\n\t\t\t,options;\n\t\t\n\t\t//set options\n\t\toptions = control.controlTypeOptions;\n\t\t\n\t\tif(pagingObj.currentPage >= 0 && pagingObj.currentPage < pagingObj.pagesNumber){\n\t\t\t\n\t\t\tcontrol.$control.removeClass('hidden');\n\t\t\t\n\t\t\tdiff = Math.floor(pagingObj.currentPage / options.paging_length);\n\t\t\tstart = options.paging_length*diff;\n\t\t\tend = options.paging_length*(diff + 1);\n\t\t\t\n\t\t\tif(end > pagingObj.pagesNumber){\n\t\t\t\tend = pagingObj.pagesNumber;\n\t\t\t}\n\t\t\t\n\t\t\thtml +=\t'<div class=\"pagesbox\">';\t\t\t\n\t\t\tfor(var i=start; i<end; i++){\n\t\t\t\t\n\t\t\t\thtml += '<span ';\t\t\t\t\t\t\n\t\t\t\tif(i === pagingObj.currentPage){\n\t\t\t\t\thtml += ' class=\"current\" data-active=\"true\" ';\n\t\t\t\t}\n\t\t\t\ttemp = i + 1;\n\t\t\t\thtml += ' data-number=\"' + i + '\" ';\n\t\t\t\thtml += '>' + temp + '</span> ';\n\t\t\t}\n\t\t\thtml +=\t'</div>';\n\t\t\t\n\t\t\t//set html\n\t\t\tcontrol.$control.data('pagingmid').html(html);\n\n\t\t\t//set data attributes\n\t\t\tcontrol.$control.data('prev').attr('data-number', pagingObj.prevPage).removeClass('current');\n\t\t\tcontrol.$control.data('next').attr('data-number', pagingObj.nextPage).removeClass('current');\n\t\t\tcontrol.$control.data('last').attr('data-number', pagingObj.pagesNumber - 1).removeClass('current');\n\t\t}\n\t\telse{\n\t\t\tcontrol.$control.addClass('hidden');\n\t\t}\n\t\t\n\t\t//update qrrows visibility\n\t\tsetArrows(control, pagingObj);\n\t};\n\t\t\n\t/** \n\t* Placeholder control (for example, contains pagination bullets)\n\t* @type {Object} \n    * @class Placeholder control - used like container for any html (for example, for pagination)\n    * @memberOf jQuery.fn.jplist\n\t*/\n\tjQuery.fn.jplist.controls.Placeholder = {};\n\t\n\t/**\n\t* Status object related data (using in communication with controller)\n\t* @param {number} currentPage\n\t* @param {number} itemsPerPage - (should be used only if dropdown 'items per page' is absent)\n\t* @constructor\n\t* @function\n\t* @memberOf jQuery.fn.jplist.controls.Placeholder\t\n\t*/\n\tjQuery.fn.jplist.controls.Placeholder.statusRelatedData = function(currentPage, itemsPerPage){\n\t\n\t\tvar data = {\n\t\t\tcurrentPage: currentPage\n\t\t\t,paging: null\n\t\t};\t\n\t\t\n\t\tif(itemsPerPage){\n\t\t\tdata.number = itemsPerPage;\n\t\t}\n\t\t\n\t\treturn data;\n\t};\n\t\n\t/**\n\t* Render control html: only main structure (the other content dynamically changes)\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @memberOf jQuery.fn.jplist.controls.Placeholder\n\t*/\n\tjQuery.fn.jplist.controls.Placeholder.render = function(control){\n\t\n\t\tvar $pagingprev\n\t\t\t,$pagingmid\n\t\t\t,$pagingnext\n\t\t\t,options;\n\t\t\t\t\n\t\t//get options \n\t\toptions = control.controlTypeOptions;\n\t\t\n\t\t//set containers html\t\t\n\t\tcontrol.$control.html('<div class=\"pagingprev\"></div><div class=\"pagingmid\"></div><div class=\"pagingnext\"></div>');\n\t\t\n\t\t//init vars\n\t\t$pagingprev = control.$control.find('.pagingprev');\t\t\n\t\t$pagingmid = control.$control.find('.pagingmid');\n\t\t$pagingnext = control.$control.find('.pagingnext');\n\t\t\n\t\t//init data: add vars to placeholder jquery data obect\n\t\tcontrol.$control.data('pagingprev', $pagingprev);\n\t\tcontrol.$control.data('pagingmid', $pagingmid);\n\t\tcontrol.$control.data('pagingnext', $pagingnext);\n\t\t\n\t\t//set arrows html\n\t\t$pagingprev.html('<span class=\"first\" data-number=\"0\">' + options.first_arrow + '</span><span class=\"prev\">' + options.prev_arrow + '</span>');\n\t\t$pagingnext.html('<span class=\"next\">' + options.next_arrow + '</span><span class=\"last\">' + options.last_arrow + '</span>');\n\t\t\n\t\t//init arrows data: add vars to placeholder jquery data obect\n\t\tcontrol.$control.data('first', $pagingprev.find('.first'));\n\t\tcontrol.$control.data('prev', $pagingprev.find('.prev'));\n\t\tcontrol.$control.data('next', $pagingnext.find('.next'));\n\t\tcontrol.$control.data('last', $pagingnext.find('.last'));\t\t\n\t};\n\t\n\t/**\n\t* Get deep link\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @return {string} deep link\n\t* @memberOf jQuery.fn.jplist.controls.Placeholder\n\t*/\n\tjQuery.fn.jplist.controls.Placeholder.getDeepLink = function(control){\n\t\t\n\t\tvar deepLink = ''\n\t\t\t,status\n\t\t\t,isDefault = false;\n\t\t\n\t\t//get status\n\t\tstatus = jQuery.fn.jplist.controls.Placeholder.getStatus(isDefault, control);\n\t\t\n\t\tif(status.data){\n\t\t\t\n\t\t\tif($.isNumeric(status.data.currentPage)){\n\t\t\t\t\n\t\t\t\t//init deep link\n\t\t\t\tdeepLink = control.name + '--currentPage=' + status.data.currentPage;\n\t\t\t}\n\t\t\t\n\t\t\tif($.isNumeric(status.data.number)){\n\t\t\t\t\n\t\t\t\t//init deep link\n\t\t\t\tdeepLink = control.name + '--number=' + status.data.number;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn deepLink;\n\t};\n\t\n\t/**\n\t* Set deep link\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {string} propName - deep link property name\n\t* @param {string} propValue - deep link property value\n\t* @return {jQuery.fn.jplist.models.Status}\n\t* @memberOf jQuery.fn.jplist.controls.Placeholder\t\n\t*/\n\tjQuery.fn.jplist.controls.Placeholder.getStatusByDeepLink = function(control, propName, propValue){\n\t\t\n\t\tvar isDefault = true\n\t\t\t,status = null;\n\t\t\n\t\tif(propName !== 'currentPage'){\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t//get status\n\t\tstatus = jQuery.fn.jplist.controls.Placeholder.getStatus(isDefault, control);\n\t\t\n\t\tif(status.data){\n\t\t\n\t\t\tswitch(propName){\n\t\t\t\t\n\t\t\t\tcase 'currentPage':{\t\n\t\t\t\t\t\n\t\t\t\t\t//set current page\n\t\t\t\t\tstatus.data.currentPage = propValue;\n\t\t\t\t\t\n\t\t\t\t\t//trigger status event\n\t\t\t\t\t//control.$jplistBox.trigger(control.options.status_event, [status]);\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\t/*\n\t\t\t\tcase 'number':{\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t//set current page\n\t\t\t\t\tstatus.data.number = propValue;\n\t\t\t\t\t\n\t\t\t\t\t//trigger status event\n\t\t\t\t\t//control.$jplistBox.trigger(control.options.status_event, [status]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\t*/\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn status;\n\t};\n\t\n\t/**\n\t* Get control status\n\t* @param {boolean} isDefault - if true, get default (initial) control status; else - get current control status\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @return {jQuery.fn.jplist.models.Status}\n\t* @memberOf jQuery.fn.jplist.controls.Placeholder\n\t*/\n\tjQuery.fn.jplist.controls.Placeholder.getStatus = function(isDefault, control){\n\t\t\n\t\tvar data\n\t\t\t,status = null\n\t\t\t,$span\n\t\t\t,cpage\n\t\t\t,itemsPerPage;\t\n\t\t\n\t\t//get active span  \n\t\t$span = control.$control.find('span[data-active]').eq(0);\n\t\t\n\t\t//if no active span -> get first span\n\t\tif($span.length <= 0){\n\t\t\t$span = control.$control.find('span').eq(0);\n\t\t}\n\t\t\n\t\t//get current page\n\t\tcpage = getCurrentPage(isDefault, $span);\n\t\t\n\t\t//if jump_to_start option is enabled and last rebuild action was not pagination -> jump to 0\n\t\tif(control.controlTypeOptions \n\t\t\t&& control.controlTypeOptions.jump_to_start\n\t\t\t&& control.events.lastStatus\n\t\t\t&& control.events.lastStatus.type !== 'placeholder'){\n\t\t\t\n\t\t\t\tcpage = 0;\n\t\t}\n\t\t\n\t\t//init items per page\n\t\titemsPerPage = getItemsPerPage(control.$control);\n\t\t\n\t\t//create status related data\n\t\tdata = new jQuery.fn.jplist.controls.Placeholder.statusRelatedData(cpage, itemsPerPage);\t\t\n\t\t\t\n\t\t//create status\n\t\tstatus = new jQuery.fn.jplist.models.Status(control.name, control.action, control.type, data, control.cookies, control.category);\t\t\n\t\t\n\t\treturn status;\t\t\t\t\t\n\t};\n\t\t\n\t/**\n\t* Set control status\n\t* @param {jQuery.fn.jplist.models.Status} status\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {boolean} isCookie - is status restored from cookies\n\t* @memberOf jQuery.fn.jplist.controls.Placeholder\n\t*/\n\tjQuery.fn.jplist.controls.Placeholder.setStatus = function(status, control, isCookie){\n\t\n\t\tvar pagingObj;\n\t\t\n\t\tif(control.name === 'paging'){\t\n\t\t\t\n\t\t\tif(!control.cookies && isCookie){\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t//update current page\n\t\t\t\tstatus.data.currentPage = 0;\n\t\t\t\t\n\t\t\t\t//send status event\t\t\n\t\t\t\tcontrol.events.lastStatus = status;\n\t\t\t\tcontrol.$jplistBox.trigger(control.options.status_event, [status]);\n\t\t\t\t\t\n\t\t\t}\t\n\t\t\telse{\t\t\t\t\n\t\t\t\tif(status.data && status.data.paging){\n\t\t\t\t\t\n\t\t\t\t\t//get paging object from status related data\n\t\t\t\t\tpagingObj = status.data.paging;\n\t\t\t\t\t\n\t\t\t\t\t//build pager\n\t\t\t\t\tbuildPager(control, pagingObj);\n\t\t\t\t\tinitPagerClickEvents(control);\n\t\t\t\t}\t\n\t\t\t}\t\t\t\n\t\t}\n\t\t\n\t};\n\t\t\n\t/**\n\t* Init control events\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @memberOf jQuery.fn.jplist.controls.Placeholder\n\t*/\n\tjQuery.fn.jplist.controls.Placeholder.initEvents = function(control){\t\t\n\t\tinitPagerClickEvents(control);\n\t};\n\t\n})(jQuery);\n\n"],"sourceRoot":"/source/"}