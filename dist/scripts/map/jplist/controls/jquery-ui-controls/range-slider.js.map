{"version":3,"sources":["map/jplist/controls/jquery-ui-controls/range-slider.js"],"names":[],"mappings":"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","file":"map/jplist/controls/jquery-ui-controls/range-slider.js","sourcesContent":["(function($){\n\t'use strict';\t\t\n\t\n\t/** \n\t* Range slider control\n\t* @type {Object} \n    * @class Range slider control\n    * @memberOf jQuery.fn.jplist.controls\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider = {};\t\n\t\n\t/**\n\t* Status object related data (using in communication with controller)\n\t* @param {string} dataPath - RangeSlider data-path attribute\n\t* @param {number} min\n\t* @param {number} max\n\t* @param {number} prev\n\t* @param {number} next\n\t* @constructor\n\t* @function\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.statusRelatedData = function(dataPath, min, max, prev, next){\n\t\t\n\t\treturn {\n\t\t\tpath: dataPath\n\t\t\t,type: 'number'\n\t\t\t,filterType: 'range'\n\t\t\t,min: min\n\t\t\t,max: max\n\t\t\t,prev: prev\n\t\t\t,next: next\n\t\t};\n\t};\n\t\n\t/**\n\t* Render control html\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.render = function(control){\n\t\t\n\t\tvar $uiSlider\n\t\t\t,controlTypeOptions\n\t\t\t,$prev\n\t\t\t,$next;\n\t\t\n\t\t//get elements\n\t\t$uiSlider = control.$control.find('[data-type=\"ui-slider\"]');\n\t\t$prev = control.$control.find('[data-type=\"prev-value\"]');\n\t\t$next = control.$control.find('[data-type=\"next-value\"]');\n\t\t\n\t\t//save to data\n\t\tcontrol.$control.data('jplist-ui-slider', $uiSlider);\n\t\tcontrol.$control.data('jplist-prev-value', $prev);\n\t\tcontrol.$control.data('jplist-next-value', $next);\n\t\t\n\t\t//call ui function\n\t\tcontrolTypeOptions = control['controlTypeOptions'];\n\t\t\n\t\tif(controlTypeOptions){\t\n\n\t\t\t//call ui slider functions\n\t\t\tcontrolTypeOptions['ui_slider']($uiSlider, $prev, $next);\t\t\t\n\t\t\tcontrolTypeOptions['set_values']($uiSlider, $prev, $next);\n\t\t}\t\t\n\t};\n\t\n\t/**\n\t* Get deep link\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @return {string} deep link\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.getDeepLink = function(control){\n\t\t\n\t\tvar deepLink = ''\n\t\t\t,status\n\t\t\t,isDefault = false;\n\t\t\n\t\t//get status\n\t\tstatus = jQuery.fn.jplist.controls.RangeSlider.getStatus(isDefault, control);\n\t\t\n\t\tif(status.data){\n\t\t\t\n\t\t\tif($.isNumeric(status.data.prev) && $.isNumeric(status.data.next)){\n\t\t\t\t\n\t\t\t\t//init deep link\n\t\t\t\tdeepLink = control.name + '--prev~next=' + status.data.prev + '~' + status.data.next;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn deepLink;\n\t};\n\t\n\t/**\n\t* Set deep link\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {string} propName - deep link property name\n\t* @param {string} propValue - deep link property value\n\t* @return {jQuery.fn.jplist.models.Status}\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.getStatusByDeepLink = function(control, propName, propValue){\n\t\t\n\t\tvar isDefault = true\n\t\t\t,status\n\t\t\t,sections;\n\t\t\t\n\t\t//get status\n\t\tstatus = jQuery.fn.jplist.controls.RangeSlider.getStatus(isDefault, control);\n\t\t\n\t\tif(status.data){\n\t\t\n\t\t\tif(propName === 'prev~next'){\n\t\t\t\t\n\t\t\t\tsections = propValue.split('~');\n\t\t\t\t\n\t\t\t\tif(sections.length === 2){\n\t\t\t\t\t\n\t\t\t\t\tstatus.data.prev = sections[0];\n\t\t\t\t\tstatus.data.next = sections[1];\n\t\t\t\t\t\n\t\t\t\t\t//trigger status event\n\t\t\t\t\t//control.$jplistBox.trigger(control.options.status_event, [status]);\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn status;\n\t};\n\t\n\t/**\n\t* Get control paths\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {Array.<jQuery.fn.jplist.models.Path>} paths\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider.\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.getPaths = function(control, paths){\n\t\n\t\tvar jqPath\n\t\t\t,path;\n\t\t\n\t\t//init vars\n\t\tjqPath = control.$control.attr('data-path').toString();\n\t\t\t\n\t\t//init path\n\t\tif(jqPath && $.trim(jqPath) !== ''){\n\t\t   \n\t\t\tpath = new jQuery.fn.jplist.models.Path(jqPath, 'number');\n\t\t\t\n\t\t\tif(!jQuery.fn.jplist.services.Path.isPathInList(path, paths)){\n\t\t\t\tpaths.push(path);\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t* Get control status\n\t* @param {boolean} isDefault - if true, get default (initial) control status; else - get current control status\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @return {jQuery.fn.jplist.models.Status}\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.getStatus = function(isDefault, control){\n\t\t\n\t\tvar status = null\n\t\t\t,data\n\t\t\t,dataPath, min, max, prev, next\n\t\t\t,$uiSlider = control.$control.data('jplist-ui-slider');\t\t\n\t\t\n\t\t//init vars\n\t\tdataPath = control.$control.attr('data-path').toString();\t\t\n\t\tmin = $uiSlider['slider']('option', 'min');\n\t\tmax = $uiSlider['slider']('option', 'max');\n\t\t\n\t\tif(isDefault){\t\t\t\n\t\t\tprev = min;\n\t\t\tnext = max;\n\t\t}\n\t\telse{\n\t\t\tprev = $uiSlider['slider']('values', 0);\n\t\t\tnext = $uiSlider['slider']('values', 1);\n\t\t}\n\t\t\n\t\tdata = new jQuery.fn.jplist.controls.RangeSlider.statusRelatedData(dataPath, min, max, prev, next);\t\t\t\t\t\t\n\t\tstatus = new jQuery.fn.jplist.models.Status(control.name, control.action, control.type, data, control.cookies, control.category);\n\t\t\n\t\treturn status;\t\t\n\t};\n\t\n\t/**\n\t* Set control status\n\t* @param {jQuery.fn.jplist.models.Status} status\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {boolean} isCookie - is status restored from cookies\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.setStatus = function(status, control, isCookie){\n\t\n\t\tvar $uiSlider = null\n\t\t\t,prev\n\t\t\t,next\n\t\t\t,controlTypeOptions\n\t\t\t,$prev\n\t\t\t,$next;\n\t\t\n\t\t//get ui slider\n\t\t$uiSlider = control.$control.data('jplist-ui-slider');\n\t\t$prev = control.$control.find('[data-type=\"prev-value\"]');\n\t\t$next = control.$control.find('[data-type=\"next-value\"]');\n\t\t\t\t\t\t\n\t\tif($.isNumeric(status.data.prev) && $.isNumeric(status.data.next)){\n\t\t\t\n\t\t\t//get values\n\t\t\tprev = Number(status.data.prev);\n\t\t\tnext = Number(status.data.next);\t\t\t\n\t\t\t\n\t\t\tif(!isNaN(prev) && !isNaN(next)){\t\n\t\t\t\t\n\t\t\t\tif($uiSlider['slider']('values', 0) != prev){\n\t\t\t\t\t$uiSlider['slider']('values', 0, prev);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif($uiSlider['slider']('values', 1) != next){\n\t\t\t\t\t$uiSlider['slider']('values', 1, next);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//init values\n\t\tcontrolTypeOptions = control['controlTypeOptions'];\t\n\t\tif(controlTypeOptions){\t\t\t\t\n\t\t\tcontrolTypeOptions['set_values']($uiSlider, $prev, $next);\n\t\t}\n\t};\n\t\n\t/**\n\t* Init control events\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.initEvents = function(control){\n\t\t\n\t\tvar $uiSlider = null;\n\t\t\n\t\t//get ui slider\n\t\t$uiSlider = control.$control.data('jplist-ui-slider');\n\t\t\n\t\t//on value change\n\t\t$uiSlider.on('slidechange', function(event, ui) {\n\t\t\t\n\t\t\t//forse ask event\t\n\t\t\tcontrol.events.lastStatus = jQuery.fn.jplist.controls.RangeSlider.getStatus(false, control);\n\t\t\tcontrol.$jplistBox.trigger(control.options.force_ask_event, [false]);\n\t\t});\n\t};\n})(jQuery);\n\n"],"sourceRoot":"/source/"}