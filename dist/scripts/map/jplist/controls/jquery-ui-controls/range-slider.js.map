{"version":3,"sources":["map/jplist/controls/jquery-ui-controls/range-slider.js"],"names":[],"mappings":"aAAA,CAAC,SAAS,CAAT,CAAW,CACX;;;;;GADW,MASX,CAAO,EAAP,CAAU,MAAV,CAAiB,QAAjB,CAA0B,WAA1B,CAAwC,EAAxC;;;;;;;;;GATW,MAqBX,CAAO,EAAP,CAAU,MAAV,CAAiB,QAAjB,CAA0B,WAA1B,CAAsC,iBAAtC,CAA0D,SAAS,QAAT,CAAmB,GAAnB,CAAwB,GAAxB,CAA6B,IAA7B,CAAmC,IAAnC,CAAwC,CAEjG,OAAO,CACN,KAAM,QAAN,CACC,KAAM,QAAN,CACA,WAAY,OAAZ,CACA,IAAK,GAAL,CACA,IAAK,GAAL,CACA,KAAM,IAAN,CACA,KAAM,IAAN,CAPF,CAFiG,CAAxC;;;;GArB/C,MAuCX,CAAO,EAAP,CAAU,MAAV,CAAiB,QAAjB,CAA0B,WAA1B,CAAsC,MAAtC,CAA+C,SAAS,OAAT,CAAiB,CAE/D,IAAI,SAAJ,CACE,kBADF,CAEE,KAFF,CAGE,KAHF;AAF+D,SAQ/D,CAAY,QAAQ,QAAR,CAAiB,IAAjB,CAAsB,yBAAtB,CAAZ,CAR+D,KAS/D,CAAQ,QAAQ,QAAR,CAAiB,IAAjB,CAAsB,0BAAtB,CAAR,CAT+D,KAU/D,CAAQ,QAAQ,QAAR,CAAiB,IAAjB,CAAsB,0BAAtB,CAAR;AAV+D,OAa/D,CAAQ,QAAR,CAAiB,IAAjB,CAAsB,kBAAtB,CAA0C,SAA1C,EAb+D,OAc/D,CAAQ,QAAR,CAAiB,IAAjB,CAAsB,mBAAtB,CAA2C,KAA3C,EAd+D,OAe/D,CAAQ,QAAR,CAAiB,IAAjB,CAAsB,mBAAtB,CAA2C,KAA3C;AAf+D,kBAkB/D,CAAqB,QAAQ,oBAAR,CAArB,CAlB+D,GAoB5D,kBAAH,CAAsB;AAGrB,mBAAmB,WAAnB,EAAgC,SAAhC,CAA2C,KAA3C,CAAkD,KAAlD,EAHqB,kBAIrB,CAAmB,YAAnB,EAAiC,SAAjC,CAA4C,KAA5C,CAAmD,KAAnD,EAJqB,CAAtB,CApB8C;;;;;GAvCpC,MAyEX,CAAO,EAAP,CAAU,MAAV,CAAiB,QAAjB,CAA0B,WAA1B,CAAsC,WAAtC,CAAoD,SAAS,OAAT,CAAiB,CAEpE,IAAI,SAAW,EAAX,CACF,MADF,CAEE,UAAY,KAAZ;AAJkE,MAOpE,CAAS,OAAO,EAAP,CAAU,MAAV,CAAiB,QAAjB,CAA0B,WAA1B,CAAsC,SAAtC,CAAgD,SAAhD,CAA2D,OAA3D,CAAT,CAPoE,GASjE,OAAO,IAAP,CAAY,CAEd,GAAG,EAAE,SAAF,CAAY,OAAO,IAAP,CAAY,IAAZ,CAAZ,EAAiC,EAAE,SAAF,CAAY,OAAO,IAAP,CAAY,IAAZ,CAA7C,CAA+D;AAGjE,SAAW,QAAQ,IAAR,CAAe,cAAf,CAAgC,OAAO,IAAP,CAAY,IAAZ,CAAmB,GAAnD,CAAyD,OAAO,IAAP,CAAY,IAAZ,CAHH,CAAlE,CAFD,OASO,QAAP,CAlBoE,CAAjB;;;;;;;GAzEzC,MAsGX,CAAO,EAAP,CAAU,MAAV,CAAiB,QAAjB,CAA0B,WAA1B,CAAsC,mBAAtC,CAA4D,SAAS,OAAT,CAAkB,QAAlB,CAA4B,SAA5B,CAAsC,CAEjG,IAAI,UAAY,IAAZ,CACF,MADF,CAEE,QAFF;AAFiG,MAOjG,CAAS,OAAO,EAAP,CAAU,MAAV,CAAiB,QAAjB,CAA0B,WAA1B,CAAsC,SAAtC,CAAgD,SAAhD,CAA2D,OAA3D,CAAT,CAPiG,GAS9F,OAAO,IAAP,CAAY,CAEd,GAAG,WAAa,WAAb,CAAyB,CAE3B,SAAW,UAAU,KAAV,CAAgB,GAAhB,CAAX,CAF2B,GAIxB,SAAS,MAAT,GAAoB,CAApB,CAAsB,CAExB,OAAO,IAAP,CAAY,IAAZ,CAAmB,SAAS,CAAT,CAAnB,CAFwB,MAGxB,CAAO,IAAP,CAAY,IAAZ,CAAmB,SAAS,CAAT,CAAnB;;AAHwB,CAAzB,CAJD,CAFD,OAiBO,MAAP,CA1BiG,CAAtC;;;;;GAtGjD,MAyIX,CAAO,EAAP,CAAU,MAAV,CAAiB,QAAjB,CAA0B,WAA1B,CAAsC,QAAtC,CAAiD,SAAS,OAAT,CAAkB,KAAlB,CAAwB,CAExE,IAAI,MAAJ,CACE,IADF;AAFwE,MAMxE,CAAS,QAAQ,QAAR,CAAiB,IAAjB,CAAsB,WAAtB,EAAmC,QAAnC,EAAT;AANwE,GASrE,QAAU,EAAE,IAAF,CAAO,MAAP,IAAmB,EAAnB,CAAsB,CAElC,KAAO,IAAI,OAAO,EAAP,CAAU,MAAV,CAAiB,MAAjB,CAAwB,IAAxB,CAA6B,MAAjC,CAAyC,QAAzC,CAAP,CAFkC,GAI/B,CAAC,OAAO,EAAP,CAAU,MAAV,CAAiB,QAAjB,CAA0B,IAA1B,CAA+B,YAA/B,CAA4C,IAA5C,CAAkD,KAAlD,CAAD,CAA0D,CAC5D,MAAM,IAAN,CAAW,IAAX,EAD4D,CAA7D,CAJD,CATgD;;;;;;GAzItC,MAmKX,CAAO,EAAP,CAAU,MAAV,CAAiB,QAAjB,CAA0B,WAA1B,CAAsC,SAAtC,CAAkD,SAAS,SAAT,CAAoB,OAApB,CAA4B,CAE7E,IAAI,OAAS,IAAT,CACF,IADF,CAEE,QAFF,CAEY,GAFZ,CAEiB,GAFjB,CAEsB,IAFtB,CAE4B,IAF5B,CAGE,UAAY,QAAQ,QAAR,CAAiB,IAAjB,CAAsB,kBAAtB,CAAZ;AAL2E,QAQ7E,CAAW,QAAQ,QAAR,CAAiB,IAAjB,CAAsB,WAAtB,EAAmC,QAAnC,EAAX,CAR6E,GAS7E,CAAM,UAAU,QAAV,EAAoB,QAApB,CAA8B,KAA9B,CAAN,CAT6E,GAU7E,CAAM,UAAU,QAAV,EAAoB,QAApB,CAA8B,KAA9B,CAAN,CAV6E,GAY1E,SAAH,CAAa,CACZ,KAAO,GAAP,CADY,IAEZ,CAAO,GAAP,CAFY,CAAb,KAII,CACH,KAAO,UAAU,QAAV,EAAoB,QAApB,CAA8B,CAA9B,CAAP,CADG,IAEH,CAAO,UAAU,QAAV,EAAoB,QAApB,CAA8B,CAA9B,CAAP,CAFG,CAJJ,IASA,CAAO,IAAI,OAAO,EAAP,CAAU,MAAV,CAAiB,QAAjB,CAA0B,WAA1B,CAAsC,iBAAtC,CAAwD,QAA5D,CAAsE,GAAtE,CAA2E,GAA3E,CAAgF,IAAhF,CAAsF,IAAtF,CAAP,CArB6E,MAsB7E,CAAS,IAAI,OAAO,EAAP,CAAU,MAAV,CAAiB,MAAjB,CAAwB,MAAxB,CAA+B,QAAQ,IAAR,CAAc,QAAQ,MAAR,CAAgB,QAAQ,IAAR,CAAc,IAA/E,CAAqF,QAAQ,OAAR,CAAiB,QAAQ,QAAR,CAA/G,CAtB6E,OAwBtE,MAAP,CAxB6E,CAA5B;;;;;;GAnKvC,MAqMX,CAAO,EAAP,CAAU,MAAV,CAAiB,QAAjB,CAA0B,WAA1B,CAAsC,SAAtC,CAAkD,SAAS,MAAT,CAAiB,OAAjB,CAA0B,QAA1B,CAAmC,CAEpF,IAAI,UAAY,IAAZ,CACF,IADF,CAEE,IAFF,CAGE,kBAHF,CAIE,KAJF,CAKE,KALF;AAFoF,SAUpF,CAAY,QAAQ,QAAR,CAAiB,IAAjB,CAAsB,kBAAtB,CAAZ,CAVoF,KAWpF,CAAQ,QAAQ,QAAR,CAAiB,IAAjB,CAAsB,0BAAtB,CAAR,CAXoF,KAYpF,CAAQ,QAAQ,QAAR,CAAiB,IAAjB,CAAsB,0BAAtB,CAAR,CAZoF,GAcjF,EAAE,SAAF,CAAY,OAAO,IAAP,CAAY,IAAZ,CAAZ,EAAiC,EAAE,SAAF,CAAY,OAAO,IAAP,CAAY,IAAZ,CAA7C,CAA+D;AAGjE,KAAO,OAAO,OAAO,IAAP,CAAY,IAAZ,CAAd,CAHiE,IAIjE,CAAO,OAAO,OAAO,IAAP,CAAY,IAAZ,CAAd,CAJiE,GAM9D,CAAC,MAAM,IAAN,CAAD,EAAgB,CAAC,MAAM,IAAN,CAAD,CAAa,CAE/B,GAAG,UAAU,QAAV,EAAoB,QAApB,CAA8B,CAA9B,GAAoC,IAApC,CAAyC,CAC3C,UAAU,QAAV,EAAoB,QAApB,CAA8B,CAA9B,CAAiC,IAAjC,EAD2C,CAA5C,GAIG,UAAU,QAAV,EAAoB,QAApB,CAA8B,CAA9B,GAAoC,IAApC,CAAyC,CAC3C,UAAU,QAAV,EAAoB,QAApB,CAA8B,CAA9B,CAAiC,IAAjC,EAD2C,CAA5C,CAND,CAND;AAdoF,kBAiCpF,CAAqB,QAAQ,oBAAR,CAArB,CAjCoF,GAkCjF,kBAAH,CAAsB,CACrB,mBAAmB,YAAnB,EAAiC,SAAjC,CAA4C,KAA5C,CAAmD,KAAnD,EADqB,CAAtB,CAlCiD;;;;GArMvC,MAiPX,CAAO,EAAP,CAAU,MAAV,CAAiB,QAAjB,CAA0B,WAA1B,CAAsC,UAAtC,CAAmD,SAAS,OAAT,CAAiB,CAEnE,IAAI,UAAY,IAAZ;AAF+D,SAKnE,CAAY,QAAQ,QAAR,CAAiB,IAAjB,CAAsB,kBAAtB,CAAZ;AALmE,SAQnE,CAAU,EAAV,CAAa,aAAb,CAA4B,SAAS,KAAT,CAAgB,EAAhB,CAAoB;AAG/C,QAAQ,MAAR,CAAe,UAAf,CAA4B,OAAO,EAAP,CAAU,MAAV,CAAiB,QAAjB,CAA0B,WAA1B,CAAsC,SAAtC,CAAgD,KAAhD,CAAuD,OAAvD,CAA5B,CAH+C,OAI/C,CAAQ,UAAR,CAAmB,OAAnB,CAA2B,QAAQ,OAAR,CAAgB,eAAhB,CAAiC,CAAC,KAAD,CAA5D,EAJ+C,CAApB,CAA5B,CARmE,CAAjB,CAjPxC,CAAX,CAAD,CAgQG,MAhQH","file":"map/jplist/controls/jquery-ui-controls/range-slider.js","sourcesContent":["(function($){\n\t'use strict';\t\t\n\t\n\t/** \n\t* Range slider control\n\t* @type {Object} \n    * @class Range slider control\n    * @memberOf jQuery.fn.jplist.controls\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider = {};\t\n\t\n\t/**\n\t* Status object related data (using in communication with controller)\n\t* @param {string} dataPath - RangeSlider data-path attribute\n\t* @param {number} min\n\t* @param {number} max\n\t* @param {number} prev\n\t* @param {number} next\n\t* @constructor\n\t* @function\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.statusRelatedData = function(dataPath, min, max, prev, next){\n\t\t\n\t\treturn {\n\t\t\tpath: dataPath\n\t\t\t,type: 'number'\n\t\t\t,filterType: 'range'\n\t\t\t,min: min\n\t\t\t,max: max\n\t\t\t,prev: prev\n\t\t\t,next: next\n\t\t};\n\t};\n\t\n\t/**\n\t* Render control html\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.render = function(control){\n\t\t\n\t\tvar $uiSlider\n\t\t\t,controlTypeOptions\n\t\t\t,$prev\n\t\t\t,$next;\n\t\t\n\t\t//get elements\n\t\t$uiSlider = control.$control.find('[data-type=\"ui-slider\"]');\n\t\t$prev = control.$control.find('[data-type=\"prev-value\"]');\n\t\t$next = control.$control.find('[data-type=\"next-value\"]');\n\t\t\n\t\t//save to data\n\t\tcontrol.$control.data('jplist-ui-slider', $uiSlider);\n\t\tcontrol.$control.data('jplist-prev-value', $prev);\n\t\tcontrol.$control.data('jplist-next-value', $next);\n\t\t\n\t\t//call ui function\n\t\tcontrolTypeOptions = control['controlTypeOptions'];\n\t\t\n\t\tif(controlTypeOptions){\t\n\n\t\t\t//call ui slider functions\n\t\t\tcontrolTypeOptions['ui_slider']($uiSlider, $prev, $next);\t\t\t\n\t\t\tcontrolTypeOptions['set_values']($uiSlider, $prev, $next);\n\t\t}\t\t\n\t};\n\t\n\t/**\n\t* Get deep link\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @return {string} deep link\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.getDeepLink = function(control){\n\t\t\n\t\tvar deepLink = ''\n\t\t\t,status\n\t\t\t,isDefault = false;\n\t\t\n\t\t//get status\n\t\tstatus = jQuery.fn.jplist.controls.RangeSlider.getStatus(isDefault, control);\n\t\t\n\t\tif(status.data){\n\t\t\t\n\t\t\tif($.isNumeric(status.data.prev) && $.isNumeric(status.data.next)){\n\t\t\t\t\n\t\t\t\t//init deep link\n\t\t\t\tdeepLink = control.name + '--prev~next=' + status.data.prev + '~' + status.data.next;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn deepLink;\n\t};\n\t\n\t/**\n\t* Set deep link\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {string} propName - deep link property name\n\t* @param {string} propValue - deep link property value\n\t* @return {jQuery.fn.jplist.models.Status}\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.getStatusByDeepLink = function(control, propName, propValue){\n\t\t\n\t\tvar isDefault = true\n\t\t\t,status\n\t\t\t,sections;\n\t\t\t\n\t\t//get status\n\t\tstatus = jQuery.fn.jplist.controls.RangeSlider.getStatus(isDefault, control);\n\t\t\n\t\tif(status.data){\n\t\t\n\t\t\tif(propName === 'prev~next'){\n\t\t\t\t\n\t\t\t\tsections = propValue.split('~');\n\t\t\t\t\n\t\t\t\tif(sections.length === 2){\n\t\t\t\t\t\n\t\t\t\t\tstatus.data.prev = sections[0];\n\t\t\t\t\tstatus.data.next = sections[1];\n\t\t\t\t\t\n\t\t\t\t\t//trigger status event\n\t\t\t\t\t//control.$jplistBox.trigger(control.options.status_event, [status]);\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn status;\n\t};\n\t\n\t/**\n\t* Get control paths\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {Array.<jQuery.fn.jplist.models.Path>} paths\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider.\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.getPaths = function(control, paths){\n\t\n\t\tvar jqPath\n\t\t\t,path;\n\t\t\n\t\t//init vars\n\t\tjqPath = control.$control.attr('data-path').toString();\n\t\t\t\n\t\t//init path\n\t\tif(jqPath && $.trim(jqPath) !== ''){\n\t\t   \n\t\t\tpath = new jQuery.fn.jplist.models.Path(jqPath, 'number');\n\t\t\t\n\t\t\tif(!jQuery.fn.jplist.services.Path.isPathInList(path, paths)){\n\t\t\t\tpaths.push(path);\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t* Get control status\n\t* @param {boolean} isDefault - if true, get default (initial) control status; else - get current control status\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @return {jQuery.fn.jplist.models.Status}\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.getStatus = function(isDefault, control){\n\t\t\n\t\tvar status = null\n\t\t\t,data\n\t\t\t,dataPath, min, max, prev, next\n\t\t\t,$uiSlider = control.$control.data('jplist-ui-slider');\t\t\n\t\t\n\t\t//init vars\n\t\tdataPath = control.$control.attr('data-path').toString();\t\t\n\t\tmin = $uiSlider['slider']('option', 'min');\n\t\tmax = $uiSlider['slider']('option', 'max');\n\t\t\n\t\tif(isDefault){\t\t\t\n\t\t\tprev = min;\n\t\t\tnext = max;\n\t\t}\n\t\telse{\n\t\t\tprev = $uiSlider['slider']('values', 0);\n\t\t\tnext = $uiSlider['slider']('values', 1);\n\t\t}\n\t\t\n\t\tdata = new jQuery.fn.jplist.controls.RangeSlider.statusRelatedData(dataPath, min, max, prev, next);\t\t\t\t\t\t\n\t\tstatus = new jQuery.fn.jplist.models.Status(control.name, control.action, control.type, data, control.cookies, control.category);\n\t\t\n\t\treturn status;\t\t\n\t};\n\t\n\t/**\n\t* Set control status\n\t* @param {jQuery.fn.jplist.models.Status} status\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {boolean} isCookie - is status restored from cookies\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.setStatus = function(status, control, isCookie){\n\t\n\t\tvar $uiSlider = null\n\t\t\t,prev\n\t\t\t,next\n\t\t\t,controlTypeOptions\n\t\t\t,$prev\n\t\t\t,$next;\n\t\t\n\t\t//get ui slider\n\t\t$uiSlider = control.$control.data('jplist-ui-slider');\n\t\t$prev = control.$control.find('[data-type=\"prev-value\"]');\n\t\t$next = control.$control.find('[data-type=\"next-value\"]');\n\t\t\t\t\t\t\n\t\tif($.isNumeric(status.data.prev) && $.isNumeric(status.data.next)){\n\t\t\t\n\t\t\t//get values\n\t\t\tprev = Number(status.data.prev);\n\t\t\tnext = Number(status.data.next);\t\t\t\n\t\t\t\n\t\t\tif(!isNaN(prev) && !isNaN(next)){\t\n\t\t\t\t\n\t\t\t\tif($uiSlider['slider']('values', 0) != prev){\n\t\t\t\t\t$uiSlider['slider']('values', 0, prev);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif($uiSlider['slider']('values', 1) != next){\n\t\t\t\t\t$uiSlider['slider']('values', 1, next);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//init values\n\t\tcontrolTypeOptions = control['controlTypeOptions'];\t\n\t\tif(controlTypeOptions){\t\t\t\t\n\t\t\tcontrolTypeOptions['set_values']($uiSlider, $prev, $next);\n\t\t}\n\t};\n\t\n\t/**\n\t* Init control events\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.initEvents = function(control){\n\t\t\n\t\tvar $uiSlider = null;\n\t\t\n\t\t//get ui slider\n\t\t$uiSlider = control.$control.data('jplist-ui-slider');\n\t\t\n\t\t//on value change\n\t\t$uiSlider.on('slidechange', function(event, ui) {\n\t\t\t\n\t\t\t//forse ask event\t\n\t\t\tcontrol.events.lastStatus = jQuery.fn.jplist.controls.RangeSlider.getStatus(false, control);\n\t\t\tcontrol.$jplistBox.trigger(control.options.force_ask_event, [false]);\n\t\t});\n\t};\n})(jQuery);\n\n"],"sourceRoot":"/source/"}