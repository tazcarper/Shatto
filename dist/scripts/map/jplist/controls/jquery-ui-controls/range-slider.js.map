{"version":3,"sources":["map/jplist/controls/jquery-ui-controls/range-slider.js"],"names":[],"mappings":"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","file":"map/jplist/controls/jquery-ui-controls/range-slider.js","sourcesContent":["(function($){\n\t'use strict';\t\t\n\t\n\t/** \n\t* Range slider control\n\t* @type {Object} \n    * @class Range slider control\n    * @memberOf jQuery.fn.jplist.controls\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider = {};\t\n\t\n\t/**\n\t* Status object related data (using in communication with controller)\n\t* @param {string} dataPath - RangeSlider data-path attribute\n\t* @param {number} min\n\t* @param {number} max\n\t* @param {number} prev\n\t* @param {number} next\n\t* @constructor\n\t* @function\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.statusRelatedData = function(dataPath, min, max, prev, next){\n\t\t\n\t\treturn {\n\t\t\tpath: dataPath\n\t\t\t,type: 'number'\n\t\t\t,filterType: 'range'\n\t\t\t,min: min\n\t\t\t,max: max\n\t\t\t,prev: prev\n\t\t\t,next: next\n\t\t};\n\t};\n\t\n\t/**\n\t* Render control html\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.render = function(control){\n\t\t\n\t\tvar $uiSlider\n\t\t\t,controlTypeOptions\n\t\t\t,$prev\n\t\t\t,$next;\n\t\t\n\t\t//get elements\n\t\t$uiSlider = control.$control.find('[data-type=\"ui-slider\"]');\n\t\t$prev = control.$control.find('[data-type=\"prev-value\"]');\n\t\t$next = control.$control.find('[data-type=\"next-value\"]');\n\t\t\n\t\t//save to data\n\t\tcontrol.$control.data('jplist-ui-slider', $uiSlider);\n\t\tcontrol.$control.data('jplist-prev-value', $prev);\n\t\tcontrol.$control.data('jplist-next-value', $next);\n\t\t\n\t\t//call ui function\n\t\tcontrolTypeOptions = control['controlTypeOptions'];\n\t\t\n\t\tif(controlTypeOptions){\t\n\n\t\t\t//call ui slider functions\n\t\t\tcontrolTypeOptions['ui_slider']($uiSlider, $prev, $next);\t\t\t\n\t\t\tcontrolTypeOptions['set_values']($uiSlider, $prev, $next);\n\t\t}\t\t\n\t};\n\t\n\t/**\n\t* Get deep link\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @return {string} deep link\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.getDeepLink = function(control){\n\t\t\n\t\tvar deepLink = ''\n\t\t\t,status\n\t\t\t,isDefault = false;\n\t\t\n\t\t//get status\n\t\tstatus = jQuery.fn.jplist.controls.RangeSlider.getStatus(isDefault, control);\n\t\t\n\t\tif(status.data){\n\t\t\t\n\t\t\tif($.isNumeric(status.data.prev) && $.isNumeric(status.data.next)){\n\t\t\t\t\n\t\t\t\t//init deep link\n\t\t\t\tdeepLink = control.name + '--prev~next=' + status.data.prev + '~' + status.data.next;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn deepLink;\n\t};\n\t\n\t/**\n\t* Set deep link\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {string} propName - deep link property name\n\t* @param {string} propValue - deep link property value\n\t* @return {jQuery.fn.jplist.models.Status}\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.getStatusByDeepLink = function(control, propName, propValue){\n\t\t\n\t\tvar isDefault = true\n\t\t\t,status\n\t\t\t,sections;\n\t\t\t\n\t\t//get status\n\t\tstatus = jQuery.fn.jplist.controls.RangeSlider.getStatus(isDefault, control);\n\t\t\n\t\tif(status.data){\n\t\t\n\t\t\tif(propName === 'prev~next'){\n\t\t\t\t\n\t\t\t\tsections = propValue.split('~');\n\t\t\t\t\n\t\t\t\tif(sections.length === 2){\n\t\t\t\t\t\n\t\t\t\t\tstatus.data.prev = sections[0];\n\t\t\t\t\tstatus.data.next = sections[1];\n\t\t\t\t\t\n\t\t\t\t\t//trigger status event\n\t\t\t\t\t//control.$jplistBox.trigger(control.options.status_event, [status]);\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn status;\n\t};\n\t\n\t/**\n\t* Get control paths\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {Array.<jQuery.fn.jplist.models.Path>} paths\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider.\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.getPaths = function(control, paths){\n\t\n\t\tvar jqPath\n\t\t\t,path;\n\t\t\n\t\t//init vars\n\t\tjqPath = control.$control.attr('data-path').toString();\n\t\t\t\n\t\t//init path\n\t\tif(jqPath && $.trim(jqPath) !== ''){\n\t\t   \n\t\t\tpath = new jQuery.fn.jplist.models.Path(jqPath, 'number');\n\t\t\t\n\t\t\tif(!jQuery.fn.jplist.services.Path.isPathInList(path, paths)){\n\t\t\t\tpaths.push(path);\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t* Get control status\n\t* @param {boolean} isDefault - if true, get default (initial) control status; else - get current control status\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @return {jQuery.fn.jplist.models.Status}\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.getStatus = function(isDefault, control){\n\t\t\n\t\tvar status = null\n\t\t\t,data\n\t\t\t,dataPath, min, max, prev, next\n\t\t\t,$uiSlider = control.$control.data('jplist-ui-slider');\t\t\n\t\t\n\t\t//init vars\n\t\tdataPath = control.$control.attr('data-path').toString();\t\t\n\t\tmin = $uiSlider['slider']('option', 'min');\n\t\tmax = $uiSlider['slider']('option', 'max');\n\t\t\n\t\tif(isDefault){\t\t\t\n\t\t\tprev = min;\n\t\t\tnext = max;\n\t\t}\n\t\telse{\n\t\t\tprev = $uiSlider['slider']('values', 0);\n\t\t\tnext = $uiSlider['slider']('values', 1);\n\t\t}\n\t\t\n\t\tdata = new jQuery.fn.jplist.controls.RangeSlider.statusRelatedData(dataPath, min, max, prev, next);\t\t\t\t\t\t\n\t\tstatus = new jQuery.fn.jplist.models.Status(control.name, control.action, control.type, data, control.cookies, control.category);\n\t\t\n\t\treturn status;\t\t\n\t};\n\t\n\t/**\n\t* Set control status\n\t* @param {jQuery.fn.jplist.models.Status} status\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @param {boolean} isCookie - is status restored from cookies\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.setStatus = function(status, control, isCookie){\n\t\n\t\tvar $uiSlider = null\n\t\t\t,prev\n\t\t\t,next\n\t\t\t,controlTypeOptions\n\t\t\t,$prev\n\t\t\t,$next;\n\t\t\n\t\t//get ui slider\n\t\t$uiSlider = control.$control.data('jplist-ui-slider');\n\t\t$prev = control.$control.find('[data-type=\"prev-value\"]');\n\t\t$next = control.$control.find('[data-type=\"next-value\"]');\n\t\t\t\t\t\t\n\t\tif($.isNumeric(status.data.prev) && $.isNumeric(status.data.next)){\n\t\t\t\n\t\t\t//get values\n\t\t\tprev = Number(status.data.prev);\n\t\t\tnext = Number(status.data.next);\t\t\t\n\t\t\t\n\t\t\tif(!isNaN(prev) && !isNaN(next)){\t\n\t\t\t\t\n\t\t\t\tif($uiSlider['slider']('values', 0) != prev){\n\t\t\t\t\t$uiSlider['slider']('values', 0, prev);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif($uiSlider['slider']('values', 1) != next){\n\t\t\t\t\t$uiSlider['slider']('values', 1, next);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//init values\n\t\tcontrolTypeOptions = control['controlTypeOptions'];\t\n\t\tif(controlTypeOptions){\t\t\t\t\n\t\t\tcontrolTypeOptions['set_values']($uiSlider, $prev, $next);\n\t\t}\n\t};\n\t\n\t/**\n\t* Init control events\n\t* @param {jQuery.fn.jplist.view.PanelControl} control\n\t* @memberOf jQuery.fn.jplist.controls.RangeSlider\n\t*/\n\tjQuery.fn.jplist.controls.RangeSlider.initEvents = function(control){\n\t\t\n\t\tvar $uiSlider = null;\n\t\t\n\t\t//get ui slider\n\t\t$uiSlider = control.$control.data('jplist-ui-slider');\n\t\t\n\t\t//on value change\n\t\t$uiSlider.on('slidechange', function(event, ui) {\n\t\t\t\n\t\t\t//forse ask event\t\n\t\t\tcontrol.events.lastStatus = jQuery.fn.jplist.controls.RangeSlider.getStatus(false, control);\n\t\t\tcontrol.$jplistBox.trigger(control.options.force_ask_event, [false]);\n\t\t});\n\t};\n})(jQuery);\n\n"],"sourceRoot":"/source/"}