{"version":3,"sources":["plugins/unveil.js"],"names":[],"mappings":"aAAA;;;;;;;;GAUA,CAAC,CAAC,SAAS,CAAT,CAAY,CAEZ,EAAE,EAAF,CAAK,MAAL,CAAc,SAAS,SAAT,CAAoB,QAApB,CAA8B,CAE1C,GAAI,IAAK,EAAE,MAAF,CAAT,CACI,GAAK,WAAa,CADtB,CAEI,OAAS,OAAO,gBAAP,CAA0B,CAFvC,CAGI,OAAS,OAAQ,iBAAR,CAA4B,UAHzC,CAII,OAAS,IAJb,CAKI,MALJ,CAOA,KAAK,GAAL,CAAS,QAAT,CAAmB,UAAW,CAE5B;AAEA;AAEA;AACA;AAEA,GAAI,QAAS,KAAK,YAAL,CAAkB,MAAlB,CAAb,CACA,OAAS,QAAU,KAAK,YAAL,CAAkB,UAAlB,CAAnB,CACA,GAAI,MAAJ,CAAY,CACV,KAAK,YAAL,CAAkB,KAAlB,CAAyB,MAAzB,EACA,GAAI,MAAO,SAAP,GAAoB,UAAxB,CAAoC,SAAS,IAAT,CAAc,IAAd,EACrC,CACF,CAfD,EAiBA,QAAS,OAAT,EAAkB,CAChB,GAAI,QAAS,OAAO,MAAP,CAAc,UAAW,CACpC,GAAI,IAAK,EAAE,IAAF,CAAT,CACA,GAAI,GAAG,EAAH,CAAM,SAAN,CAAJ,CAAsB,OAEtB,GAAI,IAAK,GAAG,SAAH,EAAT,CACI,GAAK,GAAK,GAAG,MAAH,EADd,CAEI,GAAK,GAAG,MAAH,GAAY,GAFrB,CAGI,GAAK,GAAK,GAAG,MAAH,EAHd,CAKA,MAAO,KAAM,GAAK,EAAX,EAAiB,IAAM,GAAK,EAAnC,CACD,CAVY,CAAb,CAYA,OAAS,OAAO,OAAP,CAAe,QAAf,CAAT,CACA,OAAS,OAAO,GAAP,CAAW,MAAX,CAAT,CACD,CAED,GAAG,EAAH,CAAM,2CAAN,CAAmD,MAAnD,EAEA,SAEA,MAAO,KAAP,CAED,CAjDD,CAmDD,CArDA,EAqDE,OAAO,MAAP,EAAiB,OAAO,KArD1B","file":"plugins/unveil.js","sourcesContent":["/**\n * jQuery Unveil\n * A very lightweight jQuery plugin to lazy load images\n * http://luis-almeida.github.com/unveil\n *\n * Licensed under the MIT license.\n * Copyright 2013 LuÃ­s Almeida\n * https://github.com/luis-almeida\n */\n\n;(function($) {\n\n  $.fn.unveil = function(threshold, callback) {\n\n    var $w = $(window),\n        th = threshold || 0,\n        retina = window.devicePixelRatio > 1,\n        attrib = retina? \"data-src-retina\" : \"data-src\",\n        images = this,\n        loaded;\n\n    this.one(\"unveil\", function() {\n     \n      // var regImg = $('img.main').attr('srcset').substring(0, $('img.main').attr('srcset').indexOf(','));\n      \n      // regImg = regImg.substring(0, regImg.indexOf(' 1x'));\n\n      // var retinaImg = $('img.main').attr('srcset').substring($('img.main').attr('srcset').indexOf(', ') + 2, $('img.main').attr('srcset').length);\n      // retinaImg = retinaImg.substring(0, retinaImg.indexOf(' 2x'));\n      \n      var source = this.getAttribute(attrib);\n      source = source || this.getAttribute(\"data-src\");\n      if (source) {\n        this.setAttribute(\"src\", source);\n        if (typeof callback === \"function\") callback.call(this);\n      }\n    });\n\n    function unveil() {\n      var inview = images.filter(function() {\n        var $e = $(this);\n        if ($e.is(\":hidden\")) return;\n\n        var wt = $w.scrollTop(),\n            wb = wt + $w.height(),\n            et = $e.offset().top,\n            eb = et + $e.height();\n\n        return eb >= wt - th && et <= wb + th;\n      });\n\n      loaded = inview.trigger(\"unveil\");\n      images = images.not(loaded);\n    }\n\n    $w.on(\"scroll.unveil resize.unveil lookup.unveil\", unveil);\n\n    unveil();\n\n    return this;\n\n  };\n\n})(window.jQuery || window.Zepto);"],"sourceRoot":"/source/"}