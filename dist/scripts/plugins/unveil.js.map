{"version":3,"sources":["plugins/unveil.js"],"names":[],"mappings":";;;;;;;;GAUA,CAAC,CAAC,SAAS,CAAT,CAAY,CAEZ,EAAE,EAAF,CAAK,MAAL,CAAc,SAAS,SAAT,CAAoB,QAApB,CAA8B,CAE1C,IAAI,GAAK,EAAE,MAAF,CAAL,CACA,GAAK,WAAa,CAAb,CACL,OAAS,OAAO,gBAAP,CAA0B,CAA1B,CACT,OAAS,OAAQ,iBAAR,CAA4B,UAA5B,CACT,OAAS,IAAT,CACA,MALJ,CAF0C,IAS1C,CAAK,GAAL,CAAS,QAAT,CAAmB,UAAW;;;;AAS5B,IAAI,OAAS,KAAK,YAAL,CAAkB,MAAlB,CAAT,CATwB,MAU5B,CAAS,QAAU,KAAK,YAAL,CAAkB,UAAlB,CAAV,CAVmB,GAWxB,MAAJ,CAAY,CACV,KAAK,YAAL,CAAkB,KAAlB,CAAyB,MAAzB,EADU,GAEN,OAAO,QAAP,GAAoB,UAApB,CAAgC,SAAS,IAAT,CAAc,IAAd,EAApC,CAFF,CAXiB,CAAnB,CAT0C,SA0BjC,MAAT,EAAkB,CAChB,IAAI,OAAS,OAAO,MAAP,CAAc,UAAW,CACpC,IAAI,GAAK,EAAE,IAAF,CAAL,CADgC,GAEhC,GAAG,EAAH,CAAM,SAAN,CAAJ,CAAsB,OAAtB,IAEI,GAAK,GAAG,SAAH,EAAL,CACA,GAAK,GAAK,GAAG,MAAH,EAAL,CACL,GAAK,GAAG,MAAH,GAAY,GAAZ,CACL,GAAK,GAAK,GAAG,MAAH,EAAL,CAP2B,OAS7B,IAAM,GAAK,EAAL,EAAW,IAAM,GAAK,EAAL,CATM,CAAX,CAAvB,CADY,MAahB,CAAS,OAAO,OAAP,CAAe,QAAf,CAAT,CAbgB,MAchB,CAAS,OAAO,GAAP,CAAW,MAAX,CAAT,CAdgB,CAAlB,EAiBA,CAAG,EAAH,CAAM,2CAAN,CAAmD,MAAnD,EA3C0C,MA6C1C,GA7C0C,OA+CnC,IAAP,CA/C0C,CAA9B,CAFF,CAAZ,CAAD,CAqDE,OAAO,MAAP,EAAiB,OAAO,KAAP,CArDnB","file":"plugins/unveil.js","sourcesContent":["/**\n * jQuery Unveil\n * A very lightweight jQuery plugin to lazy load images\n * http://luis-almeida.github.com/unveil\n *\n * Licensed under the MIT license.\n * Copyright 2013 LuÃ­s Almeida\n * https://github.com/luis-almeida\n */\n\n;(function($) {\n\n  $.fn.unveil = function(threshold, callback) {\n\n    var $w = $(window),\n        th = threshold || 0,\n        retina = window.devicePixelRatio > 1,\n        attrib = retina? \"data-src-retina\" : \"data-src\",\n        images = this,\n        loaded;\n\n    this.one(\"unveil\", function() {\n     \n      // var regImg = $('img.main').attr('srcset').substring(0, $('img.main').attr('srcset').indexOf(','));\n      \n      // regImg = regImg.substring(0, regImg.indexOf(' 1x'));\n\n      // var retinaImg = $('img.main').attr('srcset').substring($('img.main').attr('srcset').indexOf(', ') + 2, $('img.main').attr('srcset').length);\n      // retinaImg = retinaImg.substring(0, retinaImg.indexOf(' 2x'));\n      \n      var source = this.getAttribute(attrib);\n      source = source || this.getAttribute(\"data-src\");\n      if (source) {\n        this.setAttribute(\"src\", source);\n        if (typeof callback === \"function\") callback.call(this);\n      }\n    });\n\n    function unveil() {\n      var inview = images.filter(function() {\n        var $e = $(this);\n        if ($e.is(\":hidden\")) return;\n\n        var wt = $w.scrollTop(),\n            wb = wt + $w.height(),\n            et = $e.offset().top,\n            eb = et + $e.height();\n\n        return eb >= wt - th && et <= wb + th;\n      });\n\n      loaded = inview.trigger(\"unveil\");\n      images = images.not(loaded);\n    }\n\n    $w.on(\"scroll.unveil resize.unveil lookup.unveil\", unveil);\n\n    unveil();\n\n    return this;\n\n  };\n\n})(window.jQuery || window.Zepto);"],"sourceRoot":"/source/"}