{"version":3,"sources":["plugins/grid.js"],"names":[],"mappings":"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","file":"plugins/grid.js","sourcesContent":["\nvar $event = $.event,\n$special,\nresizeTimeout;\n\n$special = $event.special.debouncedresize = {\n\tsetup: function() {\n\t\t$( this ).on( \"resize\", $special.handler );\n\t},\n\tteardown: function() {\n\t\t$( this ).off( \"resize\", $special.handler );\n\t},\n\thandler: function( event, execAsap ) {\n\t\t// Save the context\n\t\tvar context = this,\n\t\t\targs = arguments,\n\t\t\tdispatch = function() {\n\t\t\t\t// set correct event type\n\t\t\t\tevent.type = \"debouncedresize\";\n\t\t\t\t$event.dispatch.apply( context, args );\n\t\t\t};\n\n\t\tif ( resizeTimeout ) {\n\t\t\tclearTimeout( resizeTimeout );\n\t\t}\n\n\t\texecAsap ?\n\t\t\tdispatch() :\n\t\t\tresizeTimeout = setTimeout( dispatch, $special.threshold );\n\t},\n\tthreshold: 250\n};\n\n// ======================= imagesLoaded Plugin ===============================\n// https://github.com/desandro/imagesloaded\n\n// $('#my-container').imagesLoaded(myFunction)\n// execute a callback when all images have loaded.\n// needed because .load() doesn't work on cached images\n\n// callback function gets image collection as argument\n//  this is the container\n\n// original: MIT license. Paul Irish. 2010.\n// contributors: Oren Solomianik, David DeSandro, Yiannis Chatzikonstantinou\n\n// blank image data-uri bypasses webkit log warning (thx doug jones)\nvar BLANK = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';\n\n$.fn.imagesLoaded = function( callback ) {\n\tvar $this = this,\n\t\tdeferred = $.isFunction($.Deferred) ? $.Deferred() : 0,\n\t\thasNotify = $.isFunction(deferred.notify),\n\t\t$images = $this.find('img').add( $this.filter('img') ),\n\t\tloaded = [],\n\t\tproper = [],\n\t\tbroken = [];\n\n\t// Register deferred callbacks\n\tif ($.isPlainObject(callback)) {\n\t\t$.each(callback, function (key, value) {\n\t\t\tif (key === 'callback') {\n\t\t\t\tcallback = value;\n\t\t\t} else if (deferred) {\n\t\t\t\tdeferred[key](value);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction doneLoading() {\n\t\tvar $proper = $(proper),\n\t\t\t$broken = $(broken);\n\n\t\tif ( deferred ) {\n\t\t\tif ( broken.length ) {\n\t\t\t\tdeferred.reject( $images, $proper, $broken );\n\t\t\t} else {\n\t\t\t\tdeferred.resolve( $images );\n\t\t\t}\n\t\t}\n\n\t\tif ( $.isFunction( callback ) ) {\n\t\t\tcallback.call( $this, $images, $proper, $broken );\n\t\t}\n\t}\n\n\tfunction imgLoaded( img, isBroken ) {\n\t\t// don't proceed if BLANK image, or image is already loaded\n\t\tif ( img.src === BLANK || $.inArray( img, loaded ) !== -1 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// store element in loaded images array\n\t\tloaded.push( img );\n\n\t\t// keep track of broken and properly loaded images\n\t\tif ( isBroken ) {\n\t\t\tbroken.push( img );\n\t\t} else {\n\t\t\tproper.push( img );\n\t\t}\n\n\t\t// cache image and its state for future calls\n\t\t$.data( img, 'imagesLoaded', { isBroken: isBroken, src: img.src } );\n\n\t\t// trigger deferred progress method if present\n\t\tif ( hasNotify ) {\n\t\t\tdeferred.notifyWith( $(img), [ isBroken, $images, $(proper), $(broken) ] );\n\t\t}\n\n\t\t// call doneLoading and clean listeners if all images are loaded\n\t\tif ( $images.length === loaded.length ){\n\t\t\tsetTimeout( doneLoading );\n\t\t\t$images.unbind( '.imagesLoaded' );\n\t\t}\n\t}\n\n\t// if no images, trigger immediately\n\tif ( !$images.length ) {\n\t\tdoneLoading();\n\t} else {\n\t\t$images.bind( 'load.imagesLoaded error.imagesLoaded', function( event ){\n\t\t\t// trigger imgLoaded\n\t\t\timgLoaded( event.target, event.type === 'error' );\n\t\t}).each( function( i, el ) {\n\t\t\tvar src = el.src;\n\n\t\t\t// find out if this image has been already checked for status\n\t\t\t// if it was, and src has not changed, call imgLoaded on it\n\t\t\tvar cached = $.data( el, 'imagesLoaded' );\n\t\t\tif ( cached && cached.src === src ) {\n\t\t\t\timgLoaded( el, cached.isBroken );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// if complete is true and browser supports natural sizes, try\n\t\t\t// to check for image status manually\n\t\t\tif ( el.complete && el.naturalWidth !== undefined ) {\n\t\t\t\timgLoaded( el, el.naturalWidth === 0 || el.naturalHeight === 0 );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// cached images don't fire load sometimes, so we reset src, but only when\n\t\t\t// dealing with IE, or image is complete (loaded) and failed manual check\n\t\t\t// webkit hack from http://groups.google.com/group/jquery-dev/browse_thread/thread/eee6ab7b2da50e1f\n\t\t\tif ( el.readyState || el.complete ) {\n\t\t\t\tel.src = BLANK;\n\t\t\t\tel.src = src;\n\t\t\t}\n\t\t});\n\t}\n\n\treturn deferred ? deferred.promise( $this ) : $this;\n};\n\nvar Grid = (function() {\n\n\t\t// list of items\n\tvar $grid = $( '#og-grid' ),\n\t\t// the items\n\t\t$items = $grid.children( 'li' ),\n\t\t// current expanded item's index\n\t\tcurrent = -1,\n\t\t// position (top) of the expanded item\n\t\t// used to know if the preview will expand in a different row\n\t\tpreviewPos = -1,\n\t\t// extra amount of pixels to scroll the window\n\t\tscrollExtra = 0,\n\t\t// extra margin when expanded (between preview overlay and the next items)\n\t\tmarginExpanded = 10,\n\t\t$window = $( window ), winsize,\n\t\t$body = $( 'html, body' ),\n\t\t// transitionend events\n\t\ttransEndEventNames = {\n\t\t\t'WebkitTransition' : 'webkitTransitionEnd',\n\t\t\t'MozTransition' : 'transitionend',\n\t\t\t'OTransition' : 'oTransitionEnd',\n\t\t\t'msTransition' : 'MSTransitionEnd',\n\t\t\t'transition' : 'transitionend'\n\t\t},\n\t\ttransEndEventName = transEndEventNames[ Modernizr.prefixed( 'transition' ) ],\n\t\t// support for csstransitions\n\t\tsupport = Modernizr.csstransitions,\n\t\t// default settings\n\t\tsettings = {\n\t\t\tminHeight : 500,\n\t\t\tspeed : 350,\n\t\t\teasing : 'ease'\n\t\t};\n\n\tfunction init( config ) {\n\t\t\n\t\t// the settings..\n\t\tsettings = $.extend( true, {}, settings, config );\n\n\t\t// preload all images\n\t\t$grid.imagesLoaded( function() {\n\n\t\t\t// save item´s size and offset\n\t\t\tsaveItemInfo( true );\n\t\t\t// get window´s size\n\t\t\tgetWinSize();\n\t\t\t// initialize some events\n\t\t\tinitEvents();\n\n\t\t} );\n\n\t}\n\n\t// add more items to the grid.\n\t// the new items need to appended to the grid.\n\t// after that call Grid.addItems(theItems);\n\tfunction addItems( $newitems ) {\n\n\t\t$items = $items.add( $newitems );\n\n\t\t$newitems.each( function() {\n\t\t\tvar $item = $( this );\n\t\t\t$item.data( {\n\t\t\t\toffsetTop : $item.offset().top,\n\t\t\t\theight : $item.height()\n\t\t\t} );\n\t\t} );\n\n\t\tinitItemsEvents( $newitems );\n\n\t}\n\n\t// saves the item´s offset top and height (if saveheight is true)\n\tfunction saveItemInfo( saveheight ) {\n\t\t$items.each( function() {\n\t\t\tvar $item = $( this );\n\t\t\t$item.data( 'offsetTop', $item.offset().top );\n\t\t\tif( saveheight ) {\n\t\t\t\t$item.data( 'height', $item.height() );\n\t\t\t}\n\t\t} );\n\t}\n\n\tfunction initEvents() {\n\t\t\n\t\t// when clicking an item, show the preview with the item´s info and large image.\n\t\t// close the item if already expanded.\n\t\t// also close if clicking on the item´s cross\n\t\tinitItemsEvents( $items );\n\t\t\n\t\t// on window resize get the window´s size again\n\t\t// reset some values..\n\t\t$window.on( 'debouncedresize', function() {\n\t\t\t\n\t\t\tscrollExtra = 0;\n\t\t\tpreviewPos = -1;\n\t\t\t// save item´s offset\n\t\t\tsaveItemInfo();\n\t\t\tgetWinSize();\n\t\t\tvar preview = $.data( this, 'preview' );\n\t\t\tif( typeof preview != 'undefined' ) {\n\t\t\t\thidePreview();\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\tfunction initItemsEvents( $items ) {\n\t\t$items.on( 'click', 'span.og-close', function() {\n\t\t\thidePreview();\n\t\t\treturn false;\n\t\t} ).children( 'a' ).on( 'click', function(e) {\n\n\t\t\tvar $item = $( this ).parent();\n\t\t\t// check if item already opened\n\t\t\tcurrent === $item.index() ? hidePreview() : showPreview( $item );\n\t\t\treturn false;\n\n\t\t} );\n\t}\n\n\tfunction getWinSize() {\n\t\twinsize = { width : $window.width(), height : $window.height() };\n\t}\n\n\tfunction showPreview( $item ) {\n\n\t\tvar preview = $.data( this, 'preview' ),\n\t\t\t// item´s offset top\n\t\t\tposition = $item.data( 'offsetTop' );\n\n\t\tscrollExtra = 0;\n\n\t\t// if a preview exists and previewPos is different (different row) from item´s top then close it\n\t\tif( typeof preview != 'undefined' ) {\n\n\t\t\t// not in the same row\n\t\t\tif( previewPos !== position ) {\n\t\t\t\t// if position > previewPos then we need to take te current preview´s height in consideration when scrolling the window\n\t\t\t\tif( position > previewPos ) {\n\t\t\t\t\tscrollExtra = preview.height;\n\t\t\t\t}\n\t\t\t\thidePreview();\n\t\t\t}\n\t\t\t// same row\n\t\t\telse {\n\t\t\t\tpreview.update( $item );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t// update previewPos\n\t\tpreviewPos = position;\n\t\t// initialize new preview for the clicked item\n\t\tpreview = $.data( this, 'preview', new Preview( $item ) );\n\t\t// expand preview overlay\n\t\tpreview.open();\n\n\t}\n\n\tfunction hidePreview() {\n\t\tcurrent = -1;\n\t\tvar preview = $.data( this, 'preview' );\n\t\tpreview.close();\n\t\t$.removeData( this, 'preview' );\n\t}\n\n\t// the preview obj / overlay\n\tfunction Preview( $item ) {\n\t\tthis.$item = $item;\n\t\tthis.expandedIdx = this.$item.index();\n\t\tthis.create();\n\t\tthis.update();\n\t}\n\n\tPreview.prototype = {\n\t\tcreate : function() {\n\t\t\t// create Preview structure:\n\t\t\tthis.$title = $( '<h3></h3>' );\n\t\t\tthis.$description = $( '<p></p>' );\n\t\t\tthis.$href = $( '' );\n\t\t\tthis.$details = $( '<div class=\"og-details\"></div>' ).append( this.$title, this.$description, this.$href );\n\t\t\tthis.$loading = $( '<div class=\"og-loading\"></div>' );\n\t\t\tthis.$fullimage = $( '<div class=\"og-fullimg\"></div>' ).append( this.$loading );\n\t\t\tthis.$closePreview = $( '<span class=\"og-close\"></span>' );\n\t\t\tthis.$previewInner = $( '<div class=\"og-expander-inner\"></div>' ).append( this.$closePreview, this.$fullimage, this.$details );\n\t\t\tthis.$previewEl = $( '<div class=\"og-expander\"></div>' ).append( this.$previewInner );\n\t\t\t// append preview element to the item\n\t\t\tthis.$item.append( this.getEl() );\n\t\t\t// set the transitions for the preview and the item\n\t\t\tif( support ) {\n\t\t\t\tthis.setTransition();\n\t\t\t}\n\t\t},\n\t\tupdate : function( $item ) {\n\n\t\t\tif( $item ) {\n\t\t\t\tthis.$item = $item;\n\t\t\t}\n\t\t\t\n\t\t\t// if already expanded remove class \"og-expanded\" from current item and add it to new item\n\t\t\tif( current !== -1 ) {\n\t\t\t\tvar $currentItem = $items.eq( current );\n\t\t\t\t$currentItem.removeClass( 'og-expanded' );\n\t\t\t\tthis.$item.addClass( 'og-expanded' );\n\t\t\t\t// position the preview correctly\n\t\t\t\tthis.positionPreview();\n\t\t\t}\n\n\t\t\t// update current value\n\t\t\tcurrent = this.$item.index();\n\n\t\t\t// update preview´s content\n\t\t\tvar $itemEl = this.$item.children( 'a' ),\n\t\t\t\teldata = {\n\t\t\t\t\thref : $itemEl.attr( 'href' ),\n\t\t\t\t\tlargesrc : $itemEl.data( 'largesrc' ),\n\t\t\t\t\ttitle : $itemEl.data( 'title' ),\n\t\t\t\t\tdescription : $itemEl.data( 'description' )\n\t\t\t\t};\n\n\t\t\tthis.$title.html( eldata.title );\n\t\t\tthis.$description.html( eldata.description );\n\t\t\tthis.$href.attr( 'href', eldata.href );\n\n\t\t\tvar self = this;\n\t\t\t\n\t\t\t// remove the current image in the preview\n\t\t\tif( typeof self.$largeImg != 'undefined' ) {\n\t\t\t\tself.$largeImg.remove();\n\t\t\t}\n\n\t\t\t// preload large image and add it to the preview\n\t\t\t// for smaller screens we don´t display the large image (the media query will hide the fullimage wrapper)\n\t\t\tif( self.$fullimage.is( ':visible' ) ) {\n\t\t\t\tthis.$loading.show();\n\t\t\t\t$( '<img/>' ).load( function() {\n\t\t\t\t\tvar $img = $( this );\n\t\t\t\t\tif( $img.attr( 'src' ) === self.$item.children('a').data( 'largesrc' ) ) {\n\t\t\t\t\t\tself.$loading.hide();\n\t\t\t\t\t\tself.$fullimage.find( 'img' ).remove();\n\t\t\t\t\t\tself.$largeImg = $img.fadeIn( 350 );\n\t\t\t\t\t\tself.$fullimage.append( self.$largeImg );\n\t\t\t\t\t}\n\t\t\t\t} ).attr( 'src', eldata.largesrc );\t\n\t\t\t}\n\n\t\t},\n\t\topen : function() {\n\n\t\t\tsetTimeout( $.proxy( function() {\t\n\t\t\t\t// set the height for the preview and the item\n\t\t\t\tthis.setHeights();\n\t\t\t\t// scroll to position the preview in the right place\n\t\t\t\tthis.positionPreview();\n\t\t\t}, this ), 25 );\n\n\t\t},\n\t\tclose : function() {\n\n\t\t\tvar self = this,\n\t\t\t\tonEndFn = function() {\n\t\t\t\t\tif( support ) {\n\t\t\t\t\t\t$( this ).off( transEndEventName );\n\t\t\t\t\t}\n\t\t\t\t\tself.$item.removeClass( 'og-expanded' );\n\t\t\t\t\tself.$previewEl.remove();\n\t\t\t\t};\n\n\t\t\tsetTimeout( $.proxy( function() {\n\n\t\t\t\tif( typeof this.$largeImg !== 'undefined' ) {\n\t\t\t\t\tthis.$largeImg.fadeOut( 'fast' );\n\t\t\t\t}\n\t\t\t\tthis.$previewEl.css( 'height', 0 );\n\t\t\t\t// the current expanded item (might be different from this.$item)\n\t\t\t\tvar $expandedItem = $items.eq( this.expandedIdx );\n\t\t\t\t$expandedItem.css( 'height', $expandedItem.data( 'height' ) ).on( transEndEventName, onEndFn );\n\n\t\t\t\tif( !support ) {\n\t\t\t\t\tonEndFn.call();\n\t\t\t\t}\n\n\t\t\t}, this ), 25 );\n\t\t\t\n\t\t\treturn false;\n\n\t\t},\n\t\tcalcHeight : function() {\n\n\t\t\tvar heightPreview = winsize.height - this.$item.data( 'height' ) - marginExpanded,\n\t\t\t\titemHeight = winsize.height;\n\n\t\t\tif( heightPreview < settings.minHeight ) {\n\t\t\t\theightPreview = settings.minHeight;\n\t\t\t\titemHeight = settings.minHeight + this.$item.data( 'height' ) + marginExpanded;\n\t\t\t}\n\n\t\t\tthis.height = heightPreview;\n\t\t\tthis.itemHeight = itemHeight;\n\n\t\t},\n\t\tsetHeights : function() {\n\n\t\t\tvar self = this,\n\t\t\t\tonEndFn = function() {\n\t\t\t\t\tif( support ) {\n\t\t\t\t\t\tself.$item.off( transEndEventName );\n\t\t\t\t\t}\n\t\t\t\t\tself.$item.addClass( 'og-expanded' );\n\t\t\t\t};\n\n\t\t\tthis.calcHeight();\n\t\t\tthis.$previewEl.css( 'height', this.height );\n\t\t\tthis.$item.css( 'height', this.itemHeight ).on( transEndEventName, onEndFn );\n\n\t\t\tif( !support ) {\n\t\t\t\tonEndFn.call();\n\t\t\t}\n\n\t\t},\n\t\tpositionPreview : function() {\n\n\t\t\t// scroll page\n\t\t\t// case 1 : preview height + item height fits in window´s height\n\t\t\t// case 2 : preview height + item height does not fit in window´s height and preview height is smaller than window´s height\n\t\t\t// case 3 : preview height + item height does not fit in window´s height and preview height is bigger than window´s height\n\t\t\tvar position = this.$item.data( 'offsetTop' ),\n\t\t\t\tpreviewOffsetT = this.$previewEl.offset().top - scrollExtra,\n\t\t\t\tscrollVal = this.height + this.$item.data( 'height' ) + marginExpanded <= winsize.height ? position : this.height < winsize.height ? previewOffsetT - ( winsize.height - this.height ) : previewOffsetT;\n\t\t\t\n\t\t\t$body.animate( { scrollTop : scrollVal }, settings.speed );\n\n\t\t},\n\t\tsetTransition  : function() {\n\t\t\tthis.$previewEl.css( 'transition', 'height ' + settings.speed + 'ms ' + settings.easing );\n\t\t\tthis.$item.css( 'transition', 'height ' + settings.speed + 'ms ' + settings.easing );\n\t\t},\n\t\tgetEl : function() {\n\t\t\treturn this.$previewEl;\n\t\t}\n\t}\n\n\treturn { \n\t\tinit : init,\n\t\taddItems : addItems\n\t};\n\n})();"],"sourceRoot":"/source/"}