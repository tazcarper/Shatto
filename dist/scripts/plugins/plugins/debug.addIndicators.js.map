{"version":3,"sources":["plugins/plugins/debug.addIndicators.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;GAoBC,UAAU,IAAV,CAAgB,OAAhB,CAAyB,CACzB,GAAI,OAAO,MAAP,GAAkB,UAAlB,EAAgC,OAAO,GAA3C,CAAgD,C;AAE/C,OAAO,CAAC,aAAD,CAAP,CAAwB,OAAxB,EACA,CAHD,KAGO,GAAI,QAAO,OAAP,mCAAO,OAAP,KAAmB,QAAvB,CAAiC,C;AAEvC,QAAQ,QAAQ,aAAR,CAAR,EACA,CAHM,KAGA,C;AAEN,QAAQ,KAAK,WAAL,EAAqB,KAAK,MAAL,EAAe,KAAK,MAAL,CAAY,WAAxD,EACA,CACD,CAXA,YAWO,SAAU,WAAV,CAAuB,CAC9B,aACA,IAAI,UAAY,qBAAhB,CAEA,IACA,QAAU,OAAO,OAAP,EAAkB,EAD5B,CAEC,IAAM,SAAS,SAAT,CAAmB,IAAnB,CAAwB,IAAxB,CAA6B,QAAQ,KAAR,EAAiB,QAAQ,GAAzB,EACnC,UAAY,CAAE,CADR,CACU,OADV,CAFP,CAIA,GAAI,CAAC,WAAL,CAAkB,CACjB,IAAI,IAAM,SAAN,CAAkB,2JAAtB,EACA,C;AAGD,IACA,UAAY,QADZ,CAEC,OAAS,MAFV,CAGC,YAAc,EAHf,C;;AAMA,IACA,MAAQ,YAAY,KADpB,CAEC,WAAa,CAFd,CAMA,YAAY,KAAZ,CAAkB,MAAlB,CAAyB,UAAY,CACpC,IACA,MAAQ,IADR,CAEC,UAFD,CAIA,IAAI,IAAM,SAAN,GAAM,EAAY,CACrB,GAAI,MAAM,IAAV,CAAgB,C;AACf,MAAM,SAAN,CAAgB,MAAhB,CAAuB,IAAvB,CAA4B,SAA5B,CAAuC,CAAvC,CAA0C,CAA1C,CAA6C,IAAM,SAAN,CAAkB,GAA/D,CAAoE,IAApE,EACA,MAAM,IAAN,CAAW,KAAX,CAAiB,IAAjB,CAAuB,SAAvB,EACA,CACD,CALD,C;;;;;;;;;;;;;;;;;;;KA2BA,MAAM,aAAN,CAAsB,SAAU,OAAV,CAAmB,CACxC,GAAI,CAAC,UAAL,CAAiB,CAChB,IACA,gBAAkB,CACjB,KAAM,EADW,CAEjB,OAAQ,CAFS,CAGjB,OAAQ,SAHS,CAIjB,WAAY,OAJK,CAKjB,SAAU,KALO,CAMjB,aAAc,MANG,CADlB,CAUA,QAAU,MAAM,MAAN,CAAa,EAAb,CAAiB,eAAjB,CAAkC,OAAlC,CAAV,CAEA,aACA,WAAa,IAAI,SAAJ,CAAc,KAAd,CAAqB,OAArB,CAAb,CAEA,MAAM,EAAN,CAAS,0BAAT,CAAqC,WAAW,GAAhD,EACA,MAAM,EAAN,CAAS,6BAAT,CAAwC,WAAW,MAAnD,EACA,MAAM,EAAN,CAAS,8BAAT,CAAyC,MAAM,gBAA/C,E;AAGA,GAAI,MAAM,UAAN,EAAJ,CAAwB,CACvB,WAAW,GAAX,GACA,CACD,CACD,OAAO,KAAP,CACA,CA3BD,C;;;;;;;;KAsCA,MAAM,gBAAN,CAAyB,UAAY,CACpC,GAAI,UAAJ,CAAgB,CACf,WAAW,MAAX,GACA,KAAK,GAAL,CAAS,wBAAT,EACA,WAAa,SAAb,CACA,CACD,OAAO,KAAP,CACA,CAPD,CASA,CA/ED,E;;;;;;;;;;;;;;;;;;;IAuGA,YAAY,UAAZ,CAAuB,SAAvB,CAAiC,eAAjC,CAAkD,KAAlD,E;AAEA,YAAY,UAAZ,CAAuB,MAAvB,CAA8B,UAAY,CACzC,IACA,WAAa,IADb,CAEC,MAAQ,WAAW,IAAX,EAFT,CAGC,WAAa,MAAM,SAHpB,CAIC,YAAc,MAAM,UAJrB,CAKC,UAAY,MAAM,QALnB,CAMC,YAAc,C;AACb,OAAQ,EADK,CANf,CAUA,IAAI,IAAM,SAAN,GAAM,EAAY,CACrB,GAAI,WAAW,IAAf,CAAqB,C;AACpB,MAAM,SAAN,CAAgB,MAAhB,CAAuB,IAAvB,CAA4B,SAA5B,CAAuC,CAAvC,CAA0C,CAA1C,CAA6C,IAAM,SAAN,CAAkB,GAA/D,CAAoE,IAApE,EACA,WAAW,IAAX,CAAgB,KAAhB,CAAsB,IAAtB,CAA4B,SAA5B,EACA,CACD,CALD,CAMA,GAAI,WAAW,WAAf,CAA4B,CAC3B,IAAI,CAAJ,CAAO,2FAAP,EACA,C;AAGD,KAAK,WAAL,CAAmB,WAAnB,C;;;;;;;;AAWA,IAAI,2BAA6B,SAA7B,0BAA6B,EAAY,CAC5C,YAAY,qBAAZ,GACA,CAFD,C;AAKA,IAAI,4BAA8B,SAA9B,2BAA8B,EAAY,CAC7C,YAAY,2BAAZ,GACA,CAFD,CAIA,WAAW,gBAAX,CAA4B,QAA5B,CAAsC,2BAAtC,EACA,GAAI,CAAC,WAAL,CAAkB,CACjB,OAAO,gBAAP,CAAwB,QAAxB,CAAkC,2BAAlC,EACA,OAAO,gBAAP,CAAwB,QAAxB,CAAkC,2BAAlC,EACA,C;AAED,WAAW,gBAAX,CAA4B,QAA5B,CAAsC,0BAAtC,EACA,WAAW,gBAAX,CAA4B,QAA5B,CAAsC,0BAAtC,E;AAIA,KAAK,WAAL,CAAiB,qBAAjB,CAAyC,SAAU,iBAAV,CAA6B,CACrE,I;AACA,OAAS,kBAAoB,CAAC,MAAM,MAAN,CAAa,EAAb,CAAiB,kBAAkB,YAAnC,CAAiD,CAC9E,QAAS,CAAC,iBAAD,CADqE,CAAjD,CAAD,CAApB,C;AAGT,YAAY,MAJZ,C;AAMC,EAAI,OAAO,MANZ,CAOC,IAAM,EAPP,CAQC,SAAW,UAAY,MAAZ,CAAqB,KARjC,CASC,eAAiB,UAAY,OAAZ,CAAsB,QATxC,CAUC,KAAO,UAAY,MAAM,GAAN,CAAU,UAAV,CAAqB,UAArB,EAAmC,MAAM,GAAN,CAAU,KAAV,CAAgB,UAAhB,CAAnC,CAAiE,WAA7E,CAA2F,MAAM,GAAN,CAAU,SAAV,CAAoB,UAApB,EAAkC,MAAM,GAAN,CAAU,MAAV,CAAiB,UAAjB,CAAlC,CAAiE,WAVpK,CAWC,CAXD,CAWI,WAXJ,CAWiB,KAXjB,CAYA,MAAO,GAAP,CAAY,C;AACX,MAAQ,OAAO,CAAP,CAAR,CACA,EAAI,MAAM,OAAN,CAAc,MAAlB,CACA,YAAc,MAAM,GAAN,CAAU,cAAV,EAA0B,MAAM,OAAN,CAAc,UAAxC,CAAd,CACA,MAAO,GAAP,CAAY,C;AACX,IAAI,QAAJ,EAAgB,KAAO,WAAvB,CACA,MAAM,GAAN,CAAU,MAAM,OAAN,CAAc,CAAd,EAAiB,MAA3B,CAAmC,GAAnC,EACA,CACD,CACD,CAtBD,C;AAyBA,KAAK,WAAL,CAAiB,2BAAjB,CAA+C,SAAU,aAAV,CAAyB,CACvE,I;AACA,OAAS,cAAgB,CAAC,aAAD,CAAhB,CAAkC,YAAY,MADvD,CAEC,EAAI,OAAO,MAFZ,CAGC,UAAY,YAAc,SAAS,IAAvB,CAA8B,UAH3C,CAIC,gBAAkB,YAAc,CAC/B,IAAK,CAD0B,CAE/B,KAAM,CAFyB,CAAd,CAGd,MAAM,GAAN,CAAU,MAAV,CAAiB,SAAjB,CAA4B,IAA5B,CAPL,CAQC,KAAO,UAAY,MAAM,GAAN,CAAU,KAAV,CAAgB,UAAhB,EAA8B,WAA1C,CAAwD,MAAM,GAAN,CAAU,MAAV,CAAiB,UAAjB,EAA+B,WAR/F,CASC,eAAiB,UAAY,OAAZ,CAAsB,QATxC,CAUC,eAAiB,UAAY,GAAZ,CAAkB,GAVpC,CAWA,I;AACA,KADA,CACO,IADP,CACa,GADb,CACkB,QADlB,CAC4B,SAD5B,CAEA,MAAO,GAAP,CAAY,CACX,MAAQ,OAAO,CAAP,CAAR,CACA,KAAO,MAAM,OAAb,CACA,IAAM,MAAM,WAAN,CAAoB,WAAW,IAAX,CAAgB,MAAhB,CAA1B,CACA,SAAW,MAAM,GAAN,CAAU,cAAV,EAA0B,KAAK,UAAL,CAAgB,UAA1C,CAAX,CACA,UAAY,IAAM,QAAN,CAAiB,YAAc,cAAd,CAA+B,SAAhD,CAA4D,EAAxE,CAEA,MAAM,GAAN,CAAU,IAAV,CAAgB,CACf,IAAK,gBAAgB,GAAhB,EAAuB,UAAY,GAAZ,CAAkB,KAAO,MAAM,OAAN,CAAc,CAAd,EAAiB,OAAjB,CAAyB,MAAzE,CADU,CAEf,KAAM,gBAAgB,IAAhB,EAAwB,UAAY,KAAO,MAAM,OAAN,CAAc,CAAd,EAAiB,OAAjB,CAAyB,MAA5C,CAAqD,GAA7E,CAFS,CAAhB,EAIA,MAAM,GAAN,CAAU,KAAK,UAAL,CAAgB,UAA1B,CAAsC,CACrC,gBAAiB,SADoB,CAErC,oBAAqB,SAFgB,CAGrC,YAAa,SAHwB,CAAtC,EAKA,CACD,CA/BD,C;AAkCA,KAAK,WAAL,CAAiB,uBAAjB,CAA2C,SAAU,KAAV,CAAiB,CAC3D,IACA,KAAO,WAAa,MAAM,OAAN,CAAc,MAAd,CAAuB,CAAvB,CAA2B,EAA3B,CAAgC,IAAM,MAAM,OAAN,CAAc,CAAd,EAAiB,OAAjB,CAAyB,IAA5E,CADP,CAEC,KAAO,MAAM,OAAN,CAAc,UAAd,CAAyB,UAFjC,CAGC,SAAW,KAAK,WAAL,GAAqB,IAHjC,CAIA,GAAI,QAAJ,CAAc,CACb,KAAK,WAAL,CAAmB,IAAnB,CACA,GAAI,SAAJ,CAAe,C;AACd,YAAY,qBAAZ,GACA,CACD,CACD,CAXD,C;AAcA,KAAK,QAAL,CAAgB,SAAU,QAAV,CAAoB,CAEnC,GAAI,KAAK,QAAL,CAAc,aAAd,EAA+B,oBAAoB,YAAY,KAA/D,EAAwE,SAAS,UAAT,KAA0B,UAAtG,CAAkH,CACjH,SAAS,aAAT,GACA,C;AAED,KAAK,MAAL,CAAY,QAAZ,CAAqB,KAArB,CAA2B,IAA3B,CAAiC,SAAjC,EACA,CAPD,C;AAUA,KAAK,OAAL,CAAe,UAAY,CAC1B,WAAW,mBAAX,CAA+B,QAA/B,CAAyC,2BAAzC,EACA,GAAI,CAAC,WAAL,CAAkB,CACjB,OAAO,mBAAP,CAA2B,QAA3B,CAAqC,2BAArC,EACA,OAAO,mBAAP,CAA2B,QAA3B,CAAqC,2BAArC,EACA,CACD,WAAW,mBAAX,CAA+B,QAA/B,CAAyC,0BAAzC,EACA,WAAW,mBAAX,CAA+B,QAA/B,CAAyC,0BAAzC,E;AAEA,KAAK,MAAL,CAAY,OAAZ,CAAoB,KAApB,CAA0B,IAA1B,CAAgC,SAAhC,EACA,CAVD,CAWA,OAAO,UAAP,CAEA,CArJD,E;;;;IA4JA,IAAI,UAAY,mBAAU,KAAV,CAAiB,OAAjB,CAA0B,CACzC,IACA,UAAY,IADZ,CAEC,YAAc,IAAI,MAAJ,EAFf,CAGC,WAAa,IAAI,KAAJ,CAAU,QAAQ,UAAlB,CAHd,CAIC,SAAW,IAAI,GAAJ,CAAQ,QAAQ,QAAhB,CAJZ,CAKC,iBAAmB,QAAQ,MAAR,EAAkB,MAAM,GAAN,CAAU,QAAV,CAAmB,QAAQ,MAA3B,EAAmC,CAAnC,CALtC,CAMC,SAND,CAMY,KANZ,CAQA,IAAI,IAAM,SAAN,GAAM,EAAY,CACrB,GAAI,MAAM,IAAV,CAAgB,C;AACf,MAAM,SAAN,CAAgB,MAAhB,CAAuB,IAAvB,CAA4B,SAA5B,CAAuC,CAAvC,CAA0C,CAA1C,CAA6C,IAAM,SAAN,CAAkB,GAA/D,CAAoE,IAApE,EACA,MAAM,IAAN,CAAW,KAAX,CAAiB,IAAjB,CAAuB,SAAvB,EACA,CACD,CALD,CAOA,QAAQ,IAAR,CAAe,QAAQ,IAAR,EAAgB,UAA/B,C;AAGA,WAAW,UAAX,CAAsB,WAAtB,EAAqC,IAAM,QAAQ,IAAnD,CACA,SAAS,WAAT,EAAwB,IAAM,QAAQ,IAAtC,CACA,YAAY,WAAZ,CAAwB,UAAxB,EACA,YAAY,WAAZ,CAAwB,QAAxB,E;AAGA,UAAU,OAAV,CAAoB,OAApB,CACA,UAAU,MAAV,CAAmB,WAAnB,C;AAEA,UAAU,YAAV,CAAyB,SAAzB,C;AAGA,KAAK,GAAL,CAAW,UAAY,CACtB,MAAQ,MAAM,UAAN,EAAR,CACA,UAAY,MAAM,IAAN,CAAW,UAAX,CAAZ,CAEA,IAAI,WAAa,MAAM,IAAN,CAAW,YAAX,CAAjB,CAEA,GAAI,CAAC,gBAAL,CAAuB,C;AAEtB,iBAAmB,WAAa,SAAS,IAAtB,CAA6B,MAAM,IAAN,CAAW,WAAX,CAAhD,C;AACA,CACD,GAAI,CAAC,UAAD,EAAe,MAAM,GAAN,CAAU,gBAAV,CAA4B,UAA5B,IAA4C,QAA/D,CAAyE,C;AAExE,MAAM,GAAN,CAAU,gBAAV,CAA4B,CAC3B,SAAU,UADiB,CAA5B,EAGA,C;AAGD,MAAM,EAAN,CAAS,6BAAT,CAAwC,yBAAxC,EACA,MAAM,EAAN,CAAS,4BAAT,CAAuC,wBAAvC,E;AAGA,qBACA,eAEA,WAAW,UAAY,C;AACtB,MAAM,WAAN,CAAkB,qBAAlB,CAAwC,SAAxC,EACA,CAFD,CAEG,CAFH,EAIA,IAAI,CAAJ,CAAO,kBAAP,EACA,CA9BD,C;AAiCA,KAAK,MAAL,CAAc,UAAY,CACzB,GAAI,UAAU,YAAd,CAA4B,C;AAC3B,MAAM,GAAN,CAAU,6BAAV,CAAyC,yBAAzC,EACA,MAAM,GAAN,CAAU,4BAAV,CAAwC,wBAAxC,EAEA,GAAI,UAAU,YAAV,CAAuB,OAAvB,CAA+B,MAA/B,CAAwC,CAA5C,CAA+C,C;AAE9C,IAAI,MAAQ,UAAU,YAAtB,CACA,MAAM,OAAN,CAAc,MAAd,CAAqB,MAAM,OAAN,CAAc,OAAd,CAAsB,SAAtB,CAArB,CAAuD,CAAvD,EACA,MAAM,WAAN,CAAkB,uBAAlB,CAA0C,KAA1C,EACA,MAAM,WAAN,CAAkB,2BAAlB,CAA8C,KAA9C,EACA,UAAU,YAAV,CAAyB,SAAzB,CACA,CAPD,KAOO,C;AAEN,qBACA,CACD,eAEA,IAAI,CAAJ,CAAO,oBAAP,EACA,CACD,CApBD,C;;;;;AA6BA,IAAI,yBAA2B,SAA3B,wBAA2B,EAAY,CAC1C,eACA,CAFD,C;AAKA,IAAI,0BAA4B,SAA5B,yBAA4B,CAAU,CAAV,CAAa,CAC5C,GAAI,EAAE,IAAF,GAAW,aAAf,CAA8B,CAC7B,qBACA,CACD,CAJD,C;;;;;AAaA,IAAI,UAAY,SAAZ,SAAY,EAAY,CAC3B,IAAI,EAAI,MAAM,IAAN,CAAW,UAAX,CAAR,C;AAEA,MAAM,GAAN,CAAU,WAAW,UAArB,CAAiC,CAChC,sBAAuB,EAAI,CAAJ,CAAQ,CADC,CAEhC,qBAAsB,EAAI,CAAJ,CAAQ,CAFE,CAGhC,SAAU,EAAI,CAAC,CAAL,CAAS,QAAQ,MAHK,CAIhC,QAAS,EAAI,QAAQ,MAAZ,CAAqB,CAAC,CAJC,CAKhC,UAAW,EAAI,OAAJ,CAAc,SALO,CAAjC,EAOA,MAAM,GAAN,CAAU,QAAV,CAAoB,CACnB,mBAAoB,EAAI,CAAJ,CAAQ,CADT,CAEnB,oBAAqB,EAAI,CAAJ,CAAQ,CAFV,CAGnB,MAAO,EAAI,MAAJ,CAAa,EAHD,CAInB,QAAS,EAAI,QAAQ,MAAZ,CAAqB,EAJX,CAKnB,SAAU,EAAI,EAAJ,CAAS,QAAQ,MALR,CAMnB,OAAQ,EAAI,EAAJ,CAAS,MANE,CAOnB,UAAW,EAAI,OAAJ,CAAc,SAPN,CAApB,E;AAUA,iBAAiB,WAAjB,CAA6B,WAA7B,EACA,CArBD,C;AAwBA,IAAI,aAAe,SAAf,YAAe,EAAY,CAC9B,YAAY,UAAZ,CAAuB,WAAvB,CAAmC,WAAnC,EACA,CAFD,C;AAKA,IAAI,aAAe,SAAf,YAAe,EAAY,CAC9B,GAAI,YAAY,UAAZ,GAA2B,gBAA/B,CAAiD,CAChD,Y;AACA,CACD,IAAI,IAAM,EAAV,CACA,IAAI,UAAY,KAAZ,CAAoB,MAAxB,EAAkC,MAAM,eAAN,EAAlC,CACA,IAAI,UAAY,QAAZ,CAAuB,OAA3B,EAAsC,MAAM,QAAN,EAAtC,CACA,MAAM,GAAN,CAAU,WAAV,CAAuB,GAAvB,EACA,MAAM,GAAN,CAAU,QAAV,CAAoB,CACnB,QAAS,MAAM,QAAN,GAAmB,CAAnB,CAAuB,EAAvB,CAA4B,MADlB,CAApB,EAGA,CAXD,C;;;;;AAoBA,IAAI,gBAAkB,SAAlB,eAAkB,EAAY,CACjC,IAAI,YAAc,IAAI,OAAJ,CAAY,QAAQ,YAApB,CAAlB,C;AACA,IAAI,IAAM,EAAV,CACA,IAAI,UAAY,OAAZ,CAAsB,QAA1B,EAAsC,CAAtC,CACA,IAAI,UAAY,kBAAZ,CAAiC,mBAArC,EAA4D,CAA5D,CACA,MAAM,GAAN,CAAU,YAAY,UAAtB,CAAkC,GAAlC,EACA,MAAM,GAAN,CAAU,YAAY,UAAZ,CAAuB,UAAjC,CAA6C,CAC5C,QAAS,UAAY,eAAZ,CAA8B,SADK,CAA7C,EAGA,SAAS,IAAT,CAAc,WAAd,CAA0B,WAA1B,E;AACA,IAAI,SAAW,CACd,YAAa,MAAM,WAAN,EADC,CAEd,QAAS,WAFK,CAGd,QAAS,CAAC,SAAD,CAHK,CAAf,CAKA,MAAM,WAAN,CAAkB,MAAlB,CAAyB,IAAzB,CAA8B,QAA9B,EACA,UAAU,YAAV,CAAyB,QAAzB,C;AAEA,MAAM,WAAN,CAAkB,uBAAlB,CAA0C,QAA1C,EACA,MAAM,WAAN,CAAkB,2BAAlB,CAA8C,QAA9C,EACA,CApBD,CAsBA,IAAI,mBAAqB,SAArB,kBAAqB,EAAY,CACpC,MAAM,WAAN,CAAkB,MAAlB,CAAyB,MAAzB,CAAgC,MAAM,WAAN,CAAkB,MAAlB,CAAyB,OAAzB,CAAiC,UAAU,YAA3C,CAAhC,CAA0F,CAA1F,EACA,UAAU,YAAV,CAAuB,OAAvB,CAA+B,UAA/B,CAA0C,WAA1C,CAAsD,UAAU,YAAV,CAAuB,OAA7E,EACA,UAAU,YAAV,CAAyB,SAAzB,CACA,CAJD,C;;;;;;;;;;;;;;KAqBA,IAAI,mBAAqB,SAArB,kBAAqB,EAAY,CACpC,IACA,YAAc,MAAM,WAAN,EADd,CAEC,YAAc,MAFf,C;AAKA,GAAI,UAAU,YAAd,CAA4B,CAC3B,GAAI,KAAK,GAAL,CAAS,UAAU,YAAV,CAAuB,WAAvB,CAAqC,WAA9C,EAA6D,WAAjE,CAA8E,C;AAE7E,O;AACA,CACD,C;;AAGD,IACA,OAAS,MAAM,WAAN,CAAkB,MAD3B,CAEC,KAFD,CAEQ,EAAI,OAAO,MAFnB,CAGA,MAAO,GAAP,CAAY,CACX,MAAQ,OAAO,CAAP,CAAR,CACA,GAAI,KAAK,GAAL,CAAS,MAAM,WAAN,CAAoB,WAA7B,EAA4C,WAAhD,CAA6D,C;;AAG5D,GAAI,UAAU,YAAd,CAA4B,C;AAC3B,GAAI,UAAU,YAAV,CAAuB,OAAvB,CAA+B,MAA/B,GAA0C,CAA9C,CAAiD,C;;;AAGhD,qBACA,CAJD,KAIO,CACN,UAAU,YAAV,CAAuB,OAAvB,CAA+B,MAA/B,CAAsC,UAAU,YAAV,CAAuB,OAAvB,CAA+B,OAA/B,CAAuC,SAAvC,CAAtC,CAAyF,CAAzF,E;AACA,MAAM,WAAN,CAAkB,uBAAlB,CAA0C,UAAU,YAApD,EACA,MAAM,WAAN,CAAkB,2BAAlB,CAA8C,UAAU,YAAxD,E;AAEA,CACD,C;AAED,MAAM,OAAN,CAAc,IAAd,CAAmB,SAAnB,EACA,UAAU,YAAV,CAAyB,KAAzB,CACA,MAAM,WAAN,CAAkB,uBAAlB,CAA0C,KAA1C,EACA,OACA,CACD,C;AAGD,GAAI,UAAU,YAAd,CAA4B,CAC3B,GAAI,UAAU,YAAV,CAAuB,OAAvB,CAA+B,MAA/B,GAA0C,CAA9C,CAAiD,C;;AAGhD,UAAU,YAAV,CAAuB,WAAvB,CAAqC,WAArC,CACA,MAAM,WAAN,CAAkB,2BAAlB,CAA8C,UAAU,YAAxD,EACA,OACA,CAND,KAMO,C;AAEN,UAAU,YAAV,CAAuB,OAAvB,CAA+B,MAA/B,CAAsC,UAAU,YAAV,CAAuB,OAAvB,CAA+B,OAA/B,CAAuC,SAAvC,CAAtC,CAAyF,CAAzF,E;AACA,MAAM,WAAN,CAAkB,uBAAlB,CAA0C,UAAU,YAApD,EACA,MAAM,WAAN,CAAkB,2BAAlB,CAA8C,UAAU,YAAxD,EACA,UAAU,YAAV,CAAyB,SAAzB,C;AACA,CACD,C;;AAGD,kBACA,CA7DD,CA8DA,CAzQD,C;;;;IAgRA,IAAI,IAAM,CACT,MAAO,eAAU,KAAV,CAAiB,C;AAEvB,IAAI,MAAQ,SAAS,aAAT,CAAuB,KAAvB,CAAZ,CACA,MAAM,WAAN,CAAoB,OAApB,CACA,MAAM,GAAN,CAAU,KAAV,CAAiB,CAChB,SAAU,UADM,CAEhB,SAAU,SAFM,CAGhB,eAAgB,CAHA,CAIhB,eAAgB,OAJA,CAKhB,MAAO,KALS,CAMhB,eAAgB,KANA,CAAjB,EAQA,IAAI,EAAI,SAAS,aAAT,CAAuB,KAAvB,CAAR,C;AAEA,MAAM,GAAN,CAAU,CAAV,CAAa,CACZ,SAAU,UADE,CAEZ,SAAU,SAFE,CAGZ,MAAO,CAHK,CAIZ,OAAQ,CAJI,CAAb,EAMA,EAAE,WAAF,CAAc,KAAd,EACA,OAAO,CAAP,CACA,CAvBQ,CAwBT,IAAK,aAAU,KAAV,CAAiB,CACrB,IAAI,EAAI,SAAS,aAAT,CAAuB,KAAvB,CAAR,CACA,EAAE,WAAF,CAAgB,KAAhB,CACA,MAAM,GAAN,CAAU,CAAV,CAAa,CACZ,SAAU,UADE,CAEZ,SAAU,SAFE,CAGZ,eAAgB,CAHJ,CAIZ,eAAgB,OAJJ,CAKZ,MAAO,KALK,CAMZ,eAAgB,KANJ,CAAb,EAQA,OAAO,CAAP,CACA,CApCQ,CAqCT,OAAQ,iBAAY,CACnB,IAAI,EAAI,SAAS,aAAT,CAAuB,KAAvB,CAAR,CACA,MAAM,GAAN,CAAU,CAAV,CAAa,CACZ,SAAU,UADE,CAEZ,SAAU,SAFE,CAGZ,cAAe,QAHH,CAIZ,iBAAkB,MAJN,CAKZ,YAAa,SALD,CAAb,EAOA,EAAE,KAAF,CAAQ,MAAR,CAAiB,MAAjB,CACA,OAAO,CAAP,CACA,CAhDQ,CAiDT,QAAS,iBAAU,KAAV,CAAiB,C;AAEzB,IAAI,MAAQ,SAAS,aAAT,CAAuB,KAAvB,CAAZ,CACA,MAAM,WAAN,CAAoB,SAApB,CACA,MAAM,GAAN,CAAU,KAAV,CAAiB,CAChB,SAAU,UADM,CAAjB,E;AAIA,IAAI,EAAI,SAAS,aAAT,CAAuB,KAAvB,CAAR,CACA,MAAM,GAAN,CAAU,CAAV,CAAa,CACZ,SAAU,UADE,CAEZ,SAAU,SAFE,CAGZ,eAAgB,CAHJ,CAIZ,eAAgB,OAJJ,CAKZ,MAAO,KALK,CAMZ,eAAgB,KANJ,CAAb,EAQA,EAAE,WAAF,CAAc,KAAd,E;AAEA,IAAI,EAAI,SAAS,aAAT,CAAuB,KAAvB,CAAR,CACA,MAAM,GAAN,CAAU,CAAV,CAAa,CACZ,SAAU,OADE,CAEZ,SAAU,SAFE,CAGZ,cAAe,QAHH,CAIZ,iBAAkB,MAJN,CAKZ,YAAa,SALD,CAAb,EAOA,EAAE,KAAF,CAAQ,MAAR,CAAiB,MAAjB,CACA,EAAE,WAAF,CAAc,CAAd,EACA,OAAO,CAAP,CACA,CA/EQ,CAAV,CAkFA,CA3oBA,CAAD","file":"plugins/plugins/debug.addIndicators.js","sourcesContent":["/*!\n * ScrollMagic v2.0.5 (2015-04-29)\n * The javascript library for magical scroll interactions.\n * (c) 2015 Jan Paepke (@janpaepke)\n * Project Website: http://scrollmagic.io\n * \n * @version 2.0.5\n * @license Dual licensed under MIT license and GPL.\n * @author Jan Paepke - e-mail@janpaepke.de\n *\n * @file Debug Extension for ScrollMagic.\n */\n/**\n * This plugin was formerly known as the ScrollMagic debug extension.\n *\n * It enables you to add visual indicators to your page, to be able to see exactly when a scene is triggered.\n *\n * To have access to this extension, please include `plugins/debug.addIndicators.js`.\n * @mixin debug.addIndicators\n */\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine(['ScrollMagic'], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// CommonJS\n\t\tfactory(require('scrollmagic'));\n\t} else {\n\t\t// no browser global export needed, just execute\n\t\tfactory(root.ScrollMagic || (root.jQuery && root.jQuery.ScrollMagic));\n\t}\n}(this, function (ScrollMagic) {\n\t\"use strict\";\n\tvar NAMESPACE = \"debug.addIndicators\";\n\n\tvar\n\tconsole = window.console || {},\n\t\terr = Function.prototype.bind.call(console.error || console.log ||\n\t\tfunction () {}, console);\n\tif (!ScrollMagic) {\n\t\terr(\"(\" + NAMESPACE + \") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs.\");\n\t}\n\n\t// plugin settings\n\tvar\n\tFONT_SIZE = \"0.85em\",\n\t\tZINDEX = \"9999\",\n\t\tEDGE_OFFSET = 15; // minimum edge distance, added to indentation\n\n\t// overall vars\n\tvar\n\t_util = ScrollMagic._util,\n\t\t_autoindex = 0;\n\n\n\n\tScrollMagic.Scene.extend(function () {\n\t\tvar\n\t\tScene = this,\n\t\t\t_indicator;\n\n\t\tvar log = function () {\n\t\t\tif (Scene._log) { // not available, when main source minified\n\t\t\t\tArray.prototype.splice.call(arguments, 1, 0, \"(\" + NAMESPACE + \")\", \"->\");\n\t\t\t\tScene._log.apply(this, arguments);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Add visual indicators for a ScrollMagic.Scene.  \n\t\t * @memberof! debug.addIndicators#\n\t\t *\n\t\t * @example\n\t\t * // add basic indicators\n\t\t * scene.addIndicators()\n\t\t *\n\t\t * // passing options\n\t\t * scene.addIndicators({name: \"pin scene\", colorEnd: \"#FFFFFF\"});\n\t\t *\n\t\t * @param {object} [options] - An object containing one or more options for the indicators.\n\t\t * @param {(string|object)} [options.parent=undefined] - A selector, DOM Object or a jQuery object that the indicators should be added to.  \n\t\t If undefined, the controller's container will be used.\n\t\t * @param {number} [options.name=\"\"] - This string will be displayed at the start and end indicators of the scene for identification purposes. If no name is supplied an automatic index will be used.\n\t\t * @param {number} [options.indent=0] - Additional position offset for the indicators (useful, when having multiple scenes starting at the same position).\n\t\t * @param {string} [options.colorStart=green] - CSS color definition for the start indicator.\n\t\t * @param {string} [options.colorEnd=red] - CSS color definition for the end indicator.\n\t\t * @param {string} [options.colorTrigger=blue] - CSS color definition for the trigger indicator.\n\t\t */\n\t\tScene.addIndicators = function (options) {\n\t\t\tif (!_indicator) {\n\t\t\t\tvar\n\t\t\t\tDEFAULT_OPTIONS = {\n\t\t\t\t\tname: \"\",\n\t\t\t\t\tindent: 0,\n\t\t\t\t\tparent: undefined,\n\t\t\t\t\tcolorStart: \"green\",\n\t\t\t\t\tcolorEnd: \"red\",\n\t\t\t\t\tcolorTrigger: \"blue\",\n\t\t\t\t};\n\n\t\t\t\toptions = _util.extend({}, DEFAULT_OPTIONS, options);\n\n\t\t\t\t_autoindex++;\n\t\t\t\t_indicator = new Indicator(Scene, options);\n\n\t\t\t\tScene.on(\"add.plugin_addIndicators\", _indicator.add);\n\t\t\t\tScene.on(\"remove.plugin_addIndicators\", _indicator.remove);\n\t\t\t\tScene.on(\"destroy.plugin_addIndicators\", Scene.removeIndicators);\n\n\t\t\t\t// it the scene already has a controller we can start right away.\n\t\t\t\tif (Scene.controller()) {\n\t\t\t\t\t_indicator.add();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Scene;\n\t\t};\n\n\t\t/**\n\t\t * Removes visual indicators from a ScrollMagic.Scene.\n\t\t * @memberof! debug.addIndicators#\n\t\t *\n\t\t * @example\n\t\t * // remove previously added indicators\n\t\t * scene.removeIndicators()\n\t\t *\n\t\t */\n\t\tScene.removeIndicators = function () {\n\t\t\tif (_indicator) {\n\t\t\t\t_indicator.remove();\n\t\t\t\tthis.off(\"*.plugin_addIndicators\");\n\t\t\t\t_indicator = undefined;\n\t\t\t}\n\t\t\treturn Scene;\n\t\t};\n\n\t});\n\n\n/*\n\t * ----------------------------------------------------------------\n\t * Extension for controller to store and update related indicators\n\t * ----------------------------------------------------------------\n\t */\n\t// add option to globally auto-add indicators to scenes\n\t/**\n\t * Every ScrollMagic.Controller instance now accepts an additional option.  \n\t * See {@link ScrollMagic.Controller} for a complete list of the standard options.\n\t * @memberof! debug.addIndicators#\n\t * @method new ScrollMagic.Controller(options)\n\t * @example\n\t * // make a controller and add indicators to all scenes attached\n\t * var controller = new ScrollMagic.Controller({addIndicators: true});\n\t * // this scene will automatically have indicators added to it\n\t * new ScrollMagic.Scene()\n\t *                .addTo(controller);\n\t *\n\t * @param {object} [options] - Options for the Controller.\n\t * @param {boolean} [options.addIndicators=false] - If set to `true` every scene that is added to the controller will automatically get indicators added to it.\n\t */\n\tScrollMagic.Controller.addOption(\"addIndicators\", false);\n\t// extend Controller\n\tScrollMagic.Controller.extend(function () {\n\t\tvar\n\t\tController = this,\n\t\t\t_info = Controller.info(),\n\t\t\t_container = _info.container,\n\t\t\t_isDocument = _info.isDocument,\n\t\t\t_vertical = _info.vertical,\n\t\t\t_indicators = { // container for all indicators and methods\n\t\t\t\tgroups: []\n\t\t\t};\n\n\t\tvar log = function () {\n\t\t\tif (Controller._log) { // not available, when main source minified\n\t\t\t\tArray.prototype.splice.call(arguments, 1, 0, \"(\" + NAMESPACE + \")\", \"->\");\n\t\t\t\tController._log.apply(this, arguments);\n\t\t\t}\n\t\t};\n\t\tif (Controller._indicators) {\n\t\t\tlog(2, \"WARNING: Scene already has a property '_indicators', which will be overwritten by plugin.\");\n\t\t}\n\n\t\t// add indicators container\n\t\tthis._indicators = _indicators;\n/*\n\t\t\tneeded updates:\n\t\t\t+++++++++++++++\n\t\t\tstart/end position on scene shift (handled in Indicator class)\n\t\t\ttrigger parameters on triggerHook value change (handled in Indicator class)\n\t\t\tbounds position on container scroll or resize (to keep alignment to bottom/right)\n\t\t\ttrigger position on container resize, window resize (if container isn't document) and window scroll (if container isn't document)\n\t\t*/\n\n\t\t// event handler for when associated bounds markers need to be repositioned\n\t\tvar handleBoundsPositionChange = function () {\n\t\t\t_indicators.updateBoundsPositions();\n\t\t};\n\n\t\t// event handler for when associated trigger groups need to be repositioned\n\t\tvar handleTriggerPositionChange = function () {\n\t\t\t_indicators.updateTriggerGroupPositions();\n\t\t};\n\n\t\t_container.addEventListener(\"resize\", handleTriggerPositionChange);\n\t\tif (!_isDocument) {\n\t\t\twindow.addEventListener(\"resize\", handleTriggerPositionChange);\n\t\t\twindow.addEventListener(\"scroll\", handleTriggerPositionChange);\n\t\t}\n\t\t// update all related bounds containers\n\t\t_container.addEventListener(\"resize\", handleBoundsPositionChange);\n\t\t_container.addEventListener(\"scroll\", handleBoundsPositionChange);\n\n\n\t\t// updates the position of the bounds container to aligned to the right for vertical containers and to the bottom for horizontal\n\t\tthis._indicators.updateBoundsPositions = function (specificIndicator) {\n\t\t\tvar // constant for all bounds\n\t\t\tgroups = specificIndicator ? [_util.extend({}, specificIndicator.triggerGroup, {\n\t\t\t\tmembers: [specificIndicator]\n\t\t\t})] : // create a group with only one element\n\t\t\t_indicators.groups,\n\t\t\t\t// use all\n\t\t\t\tg = groups.length,\n\t\t\t\tcss = {},\n\t\t\t\tparamPos = _vertical ? \"left\" : \"top\",\n\t\t\t\tparamDimension = _vertical ? \"width\" : \"height\",\n\t\t\t\tedge = _vertical ? _util.get.scrollLeft(_container) + _util.get.width(_container) - EDGE_OFFSET : _util.get.scrollTop(_container) + _util.get.height(_container) - EDGE_OFFSET,\n\t\t\t\tb, triggerSize, group;\n\t\t\twhile (g--) { // group loop\n\t\t\t\tgroup = groups[g];\n\t\t\t\tb = group.members.length;\n\t\t\t\ttriggerSize = _util.get[paramDimension](group.element.firstChild);\n\t\t\t\twhile (b--) { // indicators loop\n\t\t\t\t\tcss[paramPos] = edge - triggerSize;\n\t\t\t\t\t_util.css(group.members[b].bounds, css);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// updates the positions of all trigger groups attached to a controller or a specific one, if provided\n\t\tthis._indicators.updateTriggerGroupPositions = function (specificGroup) {\n\t\t\tvar // constant vars\n\t\t\tgroups = specificGroup ? [specificGroup] : _indicators.groups,\n\t\t\t\ti = groups.length,\n\t\t\t\tcontainer = _isDocument ? document.body : _container,\n\t\t\t\tcontainerOffset = _isDocument ? {\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0\n\t\t\t\t} : _util.get.offset(container, true),\n\t\t\t\tedge = _vertical ? _util.get.width(_container) - EDGE_OFFSET : _util.get.height(_container) - EDGE_OFFSET,\n\t\t\t\tparamDimension = _vertical ? \"width\" : \"height\",\n\t\t\t\tparamTransform = _vertical ? \"Y\" : \"X\";\n\t\t\tvar // changing vars\n\t\t\tgroup, elem, pos, elemSize, transform;\n\t\t\twhile (i--) {\n\t\t\t\tgroup = groups[i];\n\t\t\t\telem = group.element;\n\t\t\t\tpos = group.triggerHook * Controller.info(\"size\");\n\t\t\t\telemSize = _util.get[paramDimension](elem.firstChild.firstChild);\n\t\t\t\ttransform = pos > elemSize ? \"translate\" + paramTransform + \"(-100%)\" : \"\";\n\n\t\t\t\t_util.css(elem, {\n\t\t\t\t\ttop: containerOffset.top + (_vertical ? pos : edge - group.members[0].options.indent),\n\t\t\t\t\tleft: containerOffset.left + (_vertical ? edge - group.members[0].options.indent : pos)\n\t\t\t\t});\n\t\t\t\t_util.css(elem.firstChild.firstChild, {\n\t\t\t\t\t\"-ms-transform\": transform,\n\t\t\t\t\t\"-webkit-transform\": transform,\n\t\t\t\t\t\"transform\": transform\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t// updates the label for the group to contain the name, if it only has one member\n\t\tthis._indicators.updateTriggerGroupLabel = function (group) {\n\t\t\tvar\n\t\t\ttext = \"trigger\" + (group.members.length > 1 ? \"\" : \" \" + group.members[0].options.name),\n\t\t\t\telem = group.element.firstChild.firstChild,\n\t\t\t\tdoUpdate = elem.textContent !== text;\n\t\t\tif (doUpdate) {\n\t\t\t\telem.textContent = text;\n\t\t\t\tif (_vertical) { // bounds position is dependent on text length, so update\n\t\t\t\t\t_indicators.updateBoundsPositions();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// add indicators if global option is set\n\t\tthis.addScene = function (newScene) {\n\n\t\t\tif (this._options.addIndicators && newScene instanceof ScrollMagic.Scene && newScene.controller() === Controller) {\n\t\t\t\tnewScene.addIndicators();\n\t\t\t}\n\t\t\t// call original destroy method\n\t\t\tthis.$super.addScene.apply(this, arguments);\n\t\t};\n\n\t\t// remove all previously set listeners on destroy\n\t\tthis.destroy = function () {\n\t\t\t_container.removeEventListener(\"resize\", handleTriggerPositionChange);\n\t\t\tif (!_isDocument) {\n\t\t\t\twindow.removeEventListener(\"resize\", handleTriggerPositionChange);\n\t\t\t\twindow.removeEventListener(\"scroll\", handleTriggerPositionChange);\n\t\t\t}\n\t\t\t_container.removeEventListener(\"resize\", handleBoundsPositionChange);\n\t\t\t_container.removeEventListener(\"scroll\", handleBoundsPositionChange);\n\t\t\t// call original destroy method\n\t\t\tthis.$super.destroy.apply(this, arguments);\n\t\t};\n\t\treturn Controller;\n\n\t});\n\n/*\n\t * ----------------------------------------------------------------\n\t * Internal class for the construction of Indicators\n\t * ----------------------------------------------------------------\n\t */\n\tvar Indicator = function (Scene, options) {\n\t\tvar\n\t\tIndicator = this,\n\t\t\t_elemBounds = TPL.bounds(),\n\t\t\t_elemStart = TPL.start(options.colorStart),\n\t\t\t_elemEnd = TPL.end(options.colorEnd),\n\t\t\t_boundsContainer = options.parent && _util.get.elements(options.parent)[0],\n\t\t\t_vertical, _ctrl;\n\n\t\tvar log = function () {\n\t\t\tif (Scene._log) { // not available, when main source minified\n\t\t\t\tArray.prototype.splice.call(arguments, 1, 0, \"(\" + NAMESPACE + \")\", \"->\");\n\t\t\t\tScene._log.apply(this, arguments);\n\t\t\t}\n\t\t};\n\n\t\toptions.name = options.name || _autoindex;\n\n\t\t// prepare bounds elements\n\t\t_elemStart.firstChild.textContent += \" \" + options.name;\n\t\t_elemEnd.textContent += \" \" + options.name;\n\t\t_elemBounds.appendChild(_elemStart);\n\t\t_elemBounds.appendChild(_elemEnd);\n\n\t\t// set public variables\n\t\tIndicator.options = options;\n\t\tIndicator.bounds = _elemBounds;\n\t\t// will be set later\n\t\tIndicator.triggerGroup = undefined;\n\n\t\t// add indicators to DOM\n\t\tthis.add = function () {\n\t\t\t_ctrl = Scene.controller();\n\t\t\t_vertical = _ctrl.info(\"vertical\");\n\n\t\t\tvar isDocument = _ctrl.info(\"isDocument\");\n\n\t\t\tif (!_boundsContainer) {\n\t\t\t\t// no parent supplied or doesnt exist\n\t\t\t\t_boundsContainer = isDocument ? document.body : _ctrl.info(\"container\"); // check if window/document (then use body)\n\t\t\t}\n\t\t\tif (!isDocument && _util.css(_boundsContainer, \"position\") === 'static') {\n\t\t\t\t// position mode needed for correct positioning of indicators\n\t\t\t\t_util.css(_boundsContainer, {\n\t\t\t\t\tposition: \"relative\"\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// add listeners for updates\n\t\t\tScene.on(\"change.plugin_addIndicators\", handleTriggerParamsChange);\n\t\t\tScene.on(\"shift.plugin_addIndicators\", handleBoundsParamsChange);\n\n\t\t\t// updates trigger & bounds (will add elements if needed)\n\t\t\tupdateTriggerGroup();\n\t\t\tupdateBounds();\n\n\t\t\tsetTimeout(function () { // do after all execution is finished otherwise sometimes size calculations are off\n\t\t\t\t_ctrl._indicators.updateBoundsPositions(Indicator);\n\t\t\t}, 0);\n\n\t\t\tlog(3, \"added indicators\");\n\t\t};\n\n\t\t// remove indicators from DOM\n\t\tthis.remove = function () {\n\t\t\tif (Indicator.triggerGroup) { // if not set there's nothing to remove\n\t\t\t\tScene.off(\"change.plugin_addIndicators\", handleTriggerParamsChange);\n\t\t\t\tScene.off(\"shift.plugin_addIndicators\", handleBoundsParamsChange);\n\n\t\t\t\tif (Indicator.triggerGroup.members.length > 1) {\n\t\t\t\t\t// just remove from memberlist of old group\n\t\t\t\t\tvar group = Indicator.triggerGroup;\n\t\t\t\t\tgroup.members.splice(group.members.indexOf(Indicator), 1);\n\t\t\t\t\t_ctrl._indicators.updateTriggerGroupLabel(group);\n\t\t\t\t\t_ctrl._indicators.updateTriggerGroupPositions(group);\n\t\t\t\t\tIndicator.triggerGroup = undefined;\n\t\t\t\t} else {\n\t\t\t\t\t// remove complete group\n\t\t\t\t\tremoveTriggerGroup();\n\t\t\t\t}\n\t\t\t\tremoveBounds();\n\n\t\t\t\tlog(3, \"removed indicators\");\n\t\t\t}\n\t\t};\n\n/*\n\t\t * ----------------------------------------------------------------\n\t\t * internal Event Handlers\n\t\t * ----------------------------------------------------------------\n\t\t */\n\n\t\t// event handler for when bounds params change\n\t\tvar handleBoundsParamsChange = function () {\n\t\t\tupdateBounds();\n\t\t};\n\n\t\t// event handler for when trigger params change\n\t\tvar handleTriggerParamsChange = function (e) {\n\t\t\tif (e.what === \"triggerHook\") {\n\t\t\t\tupdateTriggerGroup();\n\t\t\t}\n\t\t};\n\n/*\n\t\t * ----------------------------------------------------------------\n\t\t * Bounds (start / stop) management\n\t\t * ----------------------------------------------------------------\n\t\t */\n\n\t\t// adds an new bounds elements to the array and to the DOM\n\t\tvar addBounds = function () {\n\t\t\tvar v = _ctrl.info(\"vertical\");\n\t\t\t// apply stuff we didn't know before...\n\t\t\t_util.css(_elemStart.firstChild, {\n\t\t\t\t\"border-bottom-width\": v ? 1 : 0,\n\t\t\t\t\"border-right-width\": v ? 0 : 1,\n\t\t\t\t\"bottom\": v ? -1 : options.indent,\n\t\t\t\t\"right\": v ? options.indent : -1,\n\t\t\t\t\"padding\": v ? \"0 8px\" : \"2px 4px\",\n\t\t\t});\n\t\t\t_util.css(_elemEnd, {\n\t\t\t\t\"border-top-width\": v ? 1 : 0,\n\t\t\t\t\"border-left-width\": v ? 0 : 1,\n\t\t\t\t\"top\": v ? \"100%\" : \"\",\n\t\t\t\t\"right\": v ? options.indent : \"\",\n\t\t\t\t\"bottom\": v ? \"\" : options.indent,\n\t\t\t\t\"left\": v ? \"\" : \"100%\",\n\t\t\t\t\"padding\": v ? \"0 8px\" : \"2px 4px\"\n\t\t\t});\n\t\t\t// append\n\t\t\t_boundsContainer.appendChild(_elemBounds);\n\t\t};\n\n\t\t// remove bounds from list and DOM\n\t\tvar removeBounds = function () {\n\t\t\t_elemBounds.parentNode.removeChild(_elemBounds);\n\t\t};\n\n\t\t// update the start and end positions of the scene\n\t\tvar updateBounds = function () {\n\t\t\tif (_elemBounds.parentNode !== _boundsContainer) {\n\t\t\t\taddBounds(); // Add Bounds elements (start/end)\n\t\t\t}\n\t\t\tvar css = {};\n\t\t\tcss[_vertical ? \"top\" : \"left\"] = Scene.triggerPosition();\n\t\t\tcss[_vertical ? \"height\" : \"width\"] = Scene.duration();\n\t\t\t_util.css(_elemBounds, css);\n\t\t\t_util.css(_elemEnd, {\n\t\t\t\tdisplay: Scene.duration() > 0 ? \"\" : \"none\"\n\t\t\t});\n\t\t};\n\n/*\n\t\t * ----------------------------------------------------------------\n\t\t * trigger and trigger group management\n\t\t * ----------------------------------------------------------------\n\t\t */\n\n\t\t// adds an new trigger group to the array and to the DOM\n\t\tvar addTriggerGroup = function () {\n\t\t\tvar triggerElem = TPL.trigger(options.colorTrigger); // new trigger element\n\t\t\tvar css = {};\n\t\t\tcss[_vertical ? \"right\" : \"bottom\"] = 0;\n\t\t\tcss[_vertical ? \"border-top-width\" : \"border-left-width\"] = 1;\n\t\t\t_util.css(triggerElem.firstChild, css);\n\t\t\t_util.css(triggerElem.firstChild.firstChild, {\n\t\t\t\tpadding: _vertical ? \"0 8px 3px 8px\" : \"3px 4px\"\n\t\t\t});\n\t\t\tdocument.body.appendChild(triggerElem); // directly add to body\n\t\t\tvar newGroup = {\n\t\t\t\ttriggerHook: Scene.triggerHook(),\n\t\t\t\telement: triggerElem,\n\t\t\t\tmembers: [Indicator]\n\t\t\t};\n\t\t\t_ctrl._indicators.groups.push(newGroup);\n\t\t\tIndicator.triggerGroup = newGroup;\n\t\t\t// update right away\n\t\t\t_ctrl._indicators.updateTriggerGroupLabel(newGroup);\n\t\t\t_ctrl._indicators.updateTriggerGroupPositions(newGroup);\n\t\t};\n\n\t\tvar removeTriggerGroup = function () {\n\t\t\t_ctrl._indicators.groups.splice(_ctrl._indicators.groups.indexOf(Indicator.triggerGroup), 1);\n\t\t\tIndicator.triggerGroup.element.parentNode.removeChild(Indicator.triggerGroup.element);\n\t\t\tIndicator.triggerGroup = undefined;\n\t\t};\n\n\t\t// updates the trigger group -> either join existing or add new one\n/*\t\n\t\t * Logic:\n\t\t * 1 if a trigger group exist, check if it's in sync with Scene settings – if so, nothing else needs to happen\n\t\t * 2 try to find an existing one that matches Scene parameters\n\t\t * \t 2.1 If a match is found check if already assigned to an existing group\n\t\t *\t\t\t If so:\n\t\t *       A: it was the last member of existing group -> kill whole group\n\t\t *       B: the existing group has other members -> just remove from member list\n\t\t *\t 2.2 Assign to matching group\n\t\t * 3 if no new match could be found, check if assigned to existing group\n\t\t *   A: yes, and it's the only member -> just update parameters and positions and keep using this group\n\t\t *   B: yes but there are other members -> remove from member list and create a new one\n\t\t *   C: no, so create a new one\n\t\t */\n\t\tvar updateTriggerGroup = function () {\n\t\t\tvar\n\t\t\ttriggerHook = Scene.triggerHook(),\n\t\t\t\tcloseEnough = 0.0001;\n\n\t\t\t// Have a group, check if it still matches\n\t\t\tif (Indicator.triggerGroup) {\n\t\t\t\tif (Math.abs(Indicator.triggerGroup.triggerHook - triggerHook) < closeEnough) {\n\t\t\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"no need to change, still in sync\");\n\t\t\t\t\treturn; // all good\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Don't have a group, check if a matching one exists\n\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"out of sync!\");\n\t\t\tvar\n\t\t\tgroups = _ctrl._indicators.groups,\n\t\t\t\tgroup, i = groups.length;\n\t\t\twhile (i--) {\n\t\t\t\tgroup = groups[i];\n\t\t\t\tif (Math.abs(group.triggerHook - triggerHook) < closeEnough) {\n\t\t\t\t\t// found a match!\n\t\t\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"found match\");\n\t\t\t\t\tif (Indicator.triggerGroup) { // do I have an old group that is out of sync?\n\t\t\t\t\t\tif (Indicator.triggerGroup.members.length === 1) { // is it the only remaining group?\n\t\t\t\t\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"kill\");\n\t\t\t\t\t\t\t// was the last member, remove the whole group\n\t\t\t\t\t\t\tremoveTriggerGroup();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tIndicator.triggerGroup.members.splice(Indicator.triggerGroup.members.indexOf(Indicator), 1); // just remove from memberlist of old group\n\t\t\t\t\t\t\t_ctrl._indicators.updateTriggerGroupLabel(Indicator.triggerGroup);\n\t\t\t\t\t\t\t_ctrl._indicators.updateTriggerGroupPositions(Indicator.triggerGroup);\n\t\t\t\t\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"removing from previous member list\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// join new group\n\t\t\t\t\tgroup.members.push(Indicator);\n\t\t\t\t\tIndicator.triggerGroup = group;\n\t\t\t\t\t_ctrl._indicators.updateTriggerGroupLabel(group);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// at this point I am obviously out of sync and don't match any other group\n\t\t\tif (Indicator.triggerGroup) {\n\t\t\t\tif (Indicator.triggerGroup.members.length === 1) {\n\t\t\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"updating existing\");\n\t\t\t\t\t// out of sync but i'm the only member => just change and update\n\t\t\t\t\tIndicator.triggerGroup.triggerHook = triggerHook;\n\t\t\t\t\t_ctrl._indicators.updateTriggerGroupPositions(Indicator.triggerGroup);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"removing from previous member list\");\n\t\t\t\t\tIndicator.triggerGroup.members.splice(Indicator.triggerGroup.members.indexOf(Indicator), 1); // just remove from memberlist of old group\n\t\t\t\t\t_ctrl._indicators.updateTriggerGroupLabel(Indicator.triggerGroup);\n\t\t\t\t\t_ctrl._indicators.updateTriggerGroupPositions(Indicator.triggerGroup);\n\t\t\t\t\tIndicator.triggerGroup = undefined; // need a brand new group...\n\t\t\t\t}\n\t\t\t}\n\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"add a new one\");\n\t\t\t// did not find any match, make new trigger group\n\t\t\taddTriggerGroup();\n\t\t};\n\t};\n\n/*\n\t * ----------------------------------------------------------------\n\t * Templates for the indicators\n\t * ----------------------------------------------------------------\n\t */\n\tvar TPL = {\n\t\tstart: function (color) {\n\t\t\t// inner element (for bottom offset -1, while keeping top position 0)\n\t\t\tvar inner = document.createElement(\"div\");\n\t\t\tinner.textContent = \"start\";\n\t\t\t_util.css(inner, {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\toverflow: \"visible\",\n\t\t\t\t\"border-width\": 0,\n\t\t\t\t\"border-style\": \"solid\",\n\t\t\t\tcolor: color,\n\t\t\t\t\"border-color\": color\n\t\t\t});\n\t\t\tvar e = document.createElement('div');\n\t\t\t// wrapper\n\t\t\t_util.css(e, {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\toverflow: \"visible\",\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t});\n\t\t\te.appendChild(inner);\n\t\t\treturn e;\n\t\t},\n\t\tend: function (color) {\n\t\t\tvar e = document.createElement('div');\n\t\t\te.textContent = \"end\";\n\t\t\t_util.css(e, {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\toverflow: \"visible\",\n\t\t\t\t\"border-width\": 0,\n\t\t\t\t\"border-style\": \"solid\",\n\t\t\t\tcolor: color,\n\t\t\t\t\"border-color\": color\n\t\t\t});\n\t\t\treturn e;\n\t\t},\n\t\tbounds: function () {\n\t\t\tvar e = document.createElement('div');\n\t\t\t_util.css(e, {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\toverflow: \"visible\",\n\t\t\t\t\"white-space\": \"nowrap\",\n\t\t\t\t\"pointer-events\": \"none\",\n\t\t\t\t\"font-size\": FONT_SIZE\n\t\t\t});\n\t\t\te.style.zIndex = ZINDEX;\n\t\t\treturn e;\n\t\t},\n\t\ttrigger: function (color) {\n\t\t\t// inner to be above or below line but keep position\n\t\t\tvar inner = document.createElement('div');\n\t\t\tinner.textContent = \"trigger\";\n\t\t\t_util.css(inner, {\n\t\t\t\tposition: \"relative\",\n\t\t\t});\n\t\t\t// inner wrapper for right: 0 and main element has no size\n\t\t\tvar w = document.createElement('div');\n\t\t\t_util.css(w, {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\toverflow: \"visible\",\n\t\t\t\t\"border-width\": 0,\n\t\t\t\t\"border-style\": \"solid\",\n\t\t\t\tcolor: color,\n\t\t\t\t\"border-color\": color\n\t\t\t});\n\t\t\tw.appendChild(inner);\n\t\t\t// wrapper\n\t\t\tvar e = document.createElement('div');\n\t\t\t_util.css(e, {\n\t\t\t\tposition: \"fixed\",\n\t\t\t\toverflow: \"visible\",\n\t\t\t\t\"white-space\": \"nowrap\",\n\t\t\t\t\"pointer-events\": \"none\",\n\t\t\t\t\"font-size\": FONT_SIZE\n\t\t\t});\n\t\t\te.style.zIndex = ZINDEX;\n\t\t\te.appendChild(w);\n\t\t\treturn e;\n\t\t},\n\t};\n\n}));"],"sourceRoot":"/source/"}