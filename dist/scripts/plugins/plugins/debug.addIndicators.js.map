{"version":3,"sources":["plugins/plugins/debug.addIndicators.js"],"names":[],"mappings":"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","file":"plugins/plugins/debug.addIndicators.js","sourcesContent":["/*!\n * ScrollMagic v2.0.5 (2015-04-29)\n * The javascript library for magical scroll interactions.\n * (c) 2015 Jan Paepke (@janpaepke)\n * Project Website: http://scrollmagic.io\n * \n * @version 2.0.5\n * @license Dual licensed under MIT license and GPL.\n * @author Jan Paepke - e-mail@janpaepke.de\n *\n * @file Debug Extension for ScrollMagic.\n */\n/**\n * This plugin was formerly known as the ScrollMagic debug extension.\n *\n * It enables you to add visual indicators to your page, to be able to see exactly when a scene is triggered.\n *\n * To have access to this extension, please include `plugins/debug.addIndicators.js`.\n * @mixin debug.addIndicators\n */\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine(['ScrollMagic'], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// CommonJS\n\t\tfactory(require('scrollmagic'));\n\t} else {\n\t\t// no browser global export needed, just execute\n\t\tfactory(root.ScrollMagic || (root.jQuery && root.jQuery.ScrollMagic));\n\t}\n}(this, function (ScrollMagic) {\n\t\"use strict\";\n\tvar NAMESPACE = \"debug.addIndicators\";\n\n\tvar\n\tconsole = window.console || {},\n\t\terr = Function.prototype.bind.call(console.error || console.log ||\n\t\tfunction () {}, console);\n\tif (!ScrollMagic) {\n\t\terr(\"(\" + NAMESPACE + \") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs.\");\n\t}\n\n\t// plugin settings\n\tvar\n\tFONT_SIZE = \"0.85em\",\n\t\tZINDEX = \"9999\",\n\t\tEDGE_OFFSET = 15; // minimum edge distance, added to indentation\n\n\t// overall vars\n\tvar\n\t_util = ScrollMagic._util,\n\t\t_autoindex = 0;\n\n\n\n\tScrollMagic.Scene.extend(function () {\n\t\tvar\n\t\tScene = this,\n\t\t\t_indicator;\n\n\t\tvar log = function () {\n\t\t\tif (Scene._log) { // not available, when main source minified\n\t\t\t\tArray.prototype.splice.call(arguments, 1, 0, \"(\" + NAMESPACE + \")\", \"->\");\n\t\t\t\tScene._log.apply(this, arguments);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Add visual indicators for a ScrollMagic.Scene.  \n\t\t * @memberof! debug.addIndicators#\n\t\t *\n\t\t * @example\n\t\t * // add basic indicators\n\t\t * scene.addIndicators()\n\t\t *\n\t\t * // passing options\n\t\t * scene.addIndicators({name: \"pin scene\", colorEnd: \"#FFFFFF\"});\n\t\t *\n\t\t * @param {object} [options] - An object containing one or more options for the indicators.\n\t\t * @param {(string|object)} [options.parent=undefined] - A selector, DOM Object or a jQuery object that the indicators should be added to.  \n\t\t If undefined, the controller's container will be used.\n\t\t * @param {number} [options.name=\"\"] - This string will be displayed at the start and end indicators of the scene for identification purposes. If no name is supplied an automatic index will be used.\n\t\t * @param {number} [options.indent=0] - Additional position offset for the indicators (useful, when having multiple scenes starting at the same position).\n\t\t * @param {string} [options.colorStart=green] - CSS color definition for the start indicator.\n\t\t * @param {string} [options.colorEnd=red] - CSS color definition for the end indicator.\n\t\t * @param {string} [options.colorTrigger=blue] - CSS color definition for the trigger indicator.\n\t\t */\n\t\tScene.addIndicators = function (options) {\n\t\t\tif (!_indicator) {\n\t\t\t\tvar\n\t\t\t\tDEFAULT_OPTIONS = {\n\t\t\t\t\tname: \"\",\n\t\t\t\t\tindent: 0,\n\t\t\t\t\tparent: undefined,\n\t\t\t\t\tcolorStart: \"green\",\n\t\t\t\t\tcolorEnd: \"red\",\n\t\t\t\t\tcolorTrigger: \"blue\",\n\t\t\t\t};\n\n\t\t\t\toptions = _util.extend({}, DEFAULT_OPTIONS, options);\n\n\t\t\t\t_autoindex++;\n\t\t\t\t_indicator = new Indicator(Scene, options);\n\n\t\t\t\tScene.on(\"add.plugin_addIndicators\", _indicator.add);\n\t\t\t\tScene.on(\"remove.plugin_addIndicators\", _indicator.remove);\n\t\t\t\tScene.on(\"destroy.plugin_addIndicators\", Scene.removeIndicators);\n\n\t\t\t\t// it the scene already has a controller we can start right away.\n\t\t\t\tif (Scene.controller()) {\n\t\t\t\t\t_indicator.add();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Scene;\n\t\t};\n\n\t\t/**\n\t\t * Removes visual indicators from a ScrollMagic.Scene.\n\t\t * @memberof! debug.addIndicators#\n\t\t *\n\t\t * @example\n\t\t * // remove previously added indicators\n\t\t * scene.removeIndicators()\n\t\t *\n\t\t */\n\t\tScene.removeIndicators = function () {\n\t\t\tif (_indicator) {\n\t\t\t\t_indicator.remove();\n\t\t\t\tthis.off(\"*.plugin_addIndicators\");\n\t\t\t\t_indicator = undefined;\n\t\t\t}\n\t\t\treturn Scene;\n\t\t};\n\n\t});\n\n\n/*\n\t * ----------------------------------------------------------------\n\t * Extension for controller to store and update related indicators\n\t * ----------------------------------------------------------------\n\t */\n\t// add option to globally auto-add indicators to scenes\n\t/**\n\t * Every ScrollMagic.Controller instance now accepts an additional option.  \n\t * See {@link ScrollMagic.Controller} for a complete list of the standard options.\n\t * @memberof! debug.addIndicators#\n\t * @method new ScrollMagic.Controller(options)\n\t * @example\n\t * // make a controller and add indicators to all scenes attached\n\t * var controller = new ScrollMagic.Controller({addIndicators: true});\n\t * // this scene will automatically have indicators added to it\n\t * new ScrollMagic.Scene()\n\t *                .addTo(controller);\n\t *\n\t * @param {object} [options] - Options for the Controller.\n\t * @param {boolean} [options.addIndicators=false] - If set to `true` every scene that is added to the controller will automatically get indicators added to it.\n\t */\n\tScrollMagic.Controller.addOption(\"addIndicators\", false);\n\t// extend Controller\n\tScrollMagic.Controller.extend(function () {\n\t\tvar\n\t\tController = this,\n\t\t\t_info = Controller.info(),\n\t\t\t_container = _info.container,\n\t\t\t_isDocument = _info.isDocument,\n\t\t\t_vertical = _info.vertical,\n\t\t\t_indicators = { // container for all indicators and methods\n\t\t\t\tgroups: []\n\t\t\t};\n\n\t\tvar log = function () {\n\t\t\tif (Controller._log) { // not available, when main source minified\n\t\t\t\tArray.prototype.splice.call(arguments, 1, 0, \"(\" + NAMESPACE + \")\", \"->\");\n\t\t\t\tController._log.apply(this, arguments);\n\t\t\t}\n\t\t};\n\t\tif (Controller._indicators) {\n\t\t\tlog(2, \"WARNING: Scene already has a property '_indicators', which will be overwritten by plugin.\");\n\t\t}\n\n\t\t// add indicators container\n\t\tthis._indicators = _indicators;\n/*\n\t\t\tneeded updates:\n\t\t\t+++++++++++++++\n\t\t\tstart/end position on scene shift (handled in Indicator class)\n\t\t\ttrigger parameters on triggerHook value change (handled in Indicator class)\n\t\t\tbounds position on container scroll or resize (to keep alignment to bottom/right)\n\t\t\ttrigger position on container resize, window resize (if container isn't document) and window scroll (if container isn't document)\n\t\t*/\n\n\t\t// event handler for when associated bounds markers need to be repositioned\n\t\tvar handleBoundsPositionChange = function () {\n\t\t\t_indicators.updateBoundsPositions();\n\t\t};\n\n\t\t// event handler for when associated trigger groups need to be repositioned\n\t\tvar handleTriggerPositionChange = function () {\n\t\t\t_indicators.updateTriggerGroupPositions();\n\t\t};\n\n\t\t_container.addEventListener(\"resize\", handleTriggerPositionChange);\n\t\tif (!_isDocument) {\n\t\t\twindow.addEventListener(\"resize\", handleTriggerPositionChange);\n\t\t\twindow.addEventListener(\"scroll\", handleTriggerPositionChange);\n\t\t}\n\t\t// update all related bounds containers\n\t\t_container.addEventListener(\"resize\", handleBoundsPositionChange);\n\t\t_container.addEventListener(\"scroll\", handleBoundsPositionChange);\n\n\n\t\t// updates the position of the bounds container to aligned to the right for vertical containers and to the bottom for horizontal\n\t\tthis._indicators.updateBoundsPositions = function (specificIndicator) {\n\t\t\tvar // constant for all bounds\n\t\t\tgroups = specificIndicator ? [_util.extend({}, specificIndicator.triggerGroup, {\n\t\t\t\tmembers: [specificIndicator]\n\t\t\t})] : // create a group with only one element\n\t\t\t_indicators.groups,\n\t\t\t\t// use all\n\t\t\t\tg = groups.length,\n\t\t\t\tcss = {},\n\t\t\t\tparamPos = _vertical ? \"left\" : \"top\",\n\t\t\t\tparamDimension = _vertical ? \"width\" : \"height\",\n\t\t\t\tedge = _vertical ? _util.get.scrollLeft(_container) + _util.get.width(_container) - EDGE_OFFSET : _util.get.scrollTop(_container) + _util.get.height(_container) - EDGE_OFFSET,\n\t\t\t\tb, triggerSize, group;\n\t\t\twhile (g--) { // group loop\n\t\t\t\tgroup = groups[g];\n\t\t\t\tb = group.members.length;\n\t\t\t\ttriggerSize = _util.get[paramDimension](group.element.firstChild);\n\t\t\t\twhile (b--) { // indicators loop\n\t\t\t\t\tcss[paramPos] = edge - triggerSize;\n\t\t\t\t\t_util.css(group.members[b].bounds, css);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// updates the positions of all trigger groups attached to a controller or a specific one, if provided\n\t\tthis._indicators.updateTriggerGroupPositions = function (specificGroup) {\n\t\t\tvar // constant vars\n\t\t\tgroups = specificGroup ? [specificGroup] : _indicators.groups,\n\t\t\t\ti = groups.length,\n\t\t\t\tcontainer = _isDocument ? document.body : _container,\n\t\t\t\tcontainerOffset = _isDocument ? {\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0\n\t\t\t\t} : _util.get.offset(container, true),\n\t\t\t\tedge = _vertical ? _util.get.width(_container) - EDGE_OFFSET : _util.get.height(_container) - EDGE_OFFSET,\n\t\t\t\tparamDimension = _vertical ? \"width\" : \"height\",\n\t\t\t\tparamTransform = _vertical ? \"Y\" : \"X\";\n\t\t\tvar // changing vars\n\t\t\tgroup, elem, pos, elemSize, transform;\n\t\t\twhile (i--) {\n\t\t\t\tgroup = groups[i];\n\t\t\t\telem = group.element;\n\t\t\t\tpos = group.triggerHook * Controller.info(\"size\");\n\t\t\t\telemSize = _util.get[paramDimension](elem.firstChild.firstChild);\n\t\t\t\ttransform = pos > elemSize ? \"translate\" + paramTransform + \"(-100%)\" : \"\";\n\n\t\t\t\t_util.css(elem, {\n\t\t\t\t\ttop: containerOffset.top + (_vertical ? pos : edge - group.members[0].options.indent),\n\t\t\t\t\tleft: containerOffset.left + (_vertical ? edge - group.members[0].options.indent : pos)\n\t\t\t\t});\n\t\t\t\t_util.css(elem.firstChild.firstChild, {\n\t\t\t\t\t\"-ms-transform\": transform,\n\t\t\t\t\t\"-webkit-transform\": transform,\n\t\t\t\t\t\"transform\": transform\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t// updates the label for the group to contain the name, if it only has one member\n\t\tthis._indicators.updateTriggerGroupLabel = function (group) {\n\t\t\tvar\n\t\t\ttext = \"trigger\" + (group.members.length > 1 ? \"\" : \" \" + group.members[0].options.name),\n\t\t\t\telem = group.element.firstChild.firstChild,\n\t\t\t\tdoUpdate = elem.textContent !== text;\n\t\t\tif (doUpdate) {\n\t\t\t\telem.textContent = text;\n\t\t\t\tif (_vertical) { // bounds position is dependent on text length, so update\n\t\t\t\t\t_indicators.updateBoundsPositions();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// add indicators if global option is set\n\t\tthis.addScene = function (newScene) {\n\n\t\t\tif (this._options.addIndicators && newScene instanceof ScrollMagic.Scene && newScene.controller() === Controller) {\n\t\t\t\tnewScene.addIndicators();\n\t\t\t}\n\t\t\t// call original destroy method\n\t\t\tthis.$super.addScene.apply(this, arguments);\n\t\t};\n\n\t\t// remove all previously set listeners on destroy\n\t\tthis.destroy = function () {\n\t\t\t_container.removeEventListener(\"resize\", handleTriggerPositionChange);\n\t\t\tif (!_isDocument) {\n\t\t\t\twindow.removeEventListener(\"resize\", handleTriggerPositionChange);\n\t\t\t\twindow.removeEventListener(\"scroll\", handleTriggerPositionChange);\n\t\t\t}\n\t\t\t_container.removeEventListener(\"resize\", handleBoundsPositionChange);\n\t\t\t_container.removeEventListener(\"scroll\", handleBoundsPositionChange);\n\t\t\t// call original destroy method\n\t\t\tthis.$super.destroy.apply(this, arguments);\n\t\t};\n\t\treturn Controller;\n\n\t});\n\n/*\n\t * ----------------------------------------------------------------\n\t * Internal class for the construction of Indicators\n\t * ----------------------------------------------------------------\n\t */\n\tvar Indicator = function (Scene, options) {\n\t\tvar\n\t\tIndicator = this,\n\t\t\t_elemBounds = TPL.bounds(),\n\t\t\t_elemStart = TPL.start(options.colorStart),\n\t\t\t_elemEnd = TPL.end(options.colorEnd),\n\t\t\t_boundsContainer = options.parent && _util.get.elements(options.parent)[0],\n\t\t\t_vertical, _ctrl;\n\n\t\tvar log = function () {\n\t\t\tif (Scene._log) { // not available, when main source minified\n\t\t\t\tArray.prototype.splice.call(arguments, 1, 0, \"(\" + NAMESPACE + \")\", \"->\");\n\t\t\t\tScene._log.apply(this, arguments);\n\t\t\t}\n\t\t};\n\n\t\toptions.name = options.name || _autoindex;\n\n\t\t// prepare bounds elements\n\t\t_elemStart.firstChild.textContent += \" \" + options.name;\n\t\t_elemEnd.textContent += \" \" + options.name;\n\t\t_elemBounds.appendChild(_elemStart);\n\t\t_elemBounds.appendChild(_elemEnd);\n\n\t\t// set public variables\n\t\tIndicator.options = options;\n\t\tIndicator.bounds = _elemBounds;\n\t\t// will be set later\n\t\tIndicator.triggerGroup = undefined;\n\n\t\t// add indicators to DOM\n\t\tthis.add = function () {\n\t\t\t_ctrl = Scene.controller();\n\t\t\t_vertical = _ctrl.info(\"vertical\");\n\n\t\t\tvar isDocument = _ctrl.info(\"isDocument\");\n\n\t\t\tif (!_boundsContainer) {\n\t\t\t\t// no parent supplied or doesnt exist\n\t\t\t\t_boundsContainer = isDocument ? document.body : _ctrl.info(\"container\"); // check if window/document (then use body)\n\t\t\t}\n\t\t\tif (!isDocument && _util.css(_boundsContainer, \"position\") === 'static') {\n\t\t\t\t// position mode needed for correct positioning of indicators\n\t\t\t\t_util.css(_boundsContainer, {\n\t\t\t\t\tposition: \"relative\"\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// add listeners for updates\n\t\t\tScene.on(\"change.plugin_addIndicators\", handleTriggerParamsChange);\n\t\t\tScene.on(\"shift.plugin_addIndicators\", handleBoundsParamsChange);\n\n\t\t\t// updates trigger & bounds (will add elements if needed)\n\t\t\tupdateTriggerGroup();\n\t\t\tupdateBounds();\n\n\t\t\tsetTimeout(function () { // do after all execution is finished otherwise sometimes size calculations are off\n\t\t\t\t_ctrl._indicators.updateBoundsPositions(Indicator);\n\t\t\t}, 0);\n\n\t\t\tlog(3, \"added indicators\");\n\t\t};\n\n\t\t// remove indicators from DOM\n\t\tthis.remove = function () {\n\t\t\tif (Indicator.triggerGroup) { // if not set there's nothing to remove\n\t\t\t\tScene.off(\"change.plugin_addIndicators\", handleTriggerParamsChange);\n\t\t\t\tScene.off(\"shift.plugin_addIndicators\", handleBoundsParamsChange);\n\n\t\t\t\tif (Indicator.triggerGroup.members.length > 1) {\n\t\t\t\t\t// just remove from memberlist of old group\n\t\t\t\t\tvar group = Indicator.triggerGroup;\n\t\t\t\t\tgroup.members.splice(group.members.indexOf(Indicator), 1);\n\t\t\t\t\t_ctrl._indicators.updateTriggerGroupLabel(group);\n\t\t\t\t\t_ctrl._indicators.updateTriggerGroupPositions(group);\n\t\t\t\t\tIndicator.triggerGroup = undefined;\n\t\t\t\t} else {\n\t\t\t\t\t// remove complete group\n\t\t\t\t\tremoveTriggerGroup();\n\t\t\t\t}\n\t\t\t\tremoveBounds();\n\n\t\t\t\tlog(3, \"removed indicators\");\n\t\t\t}\n\t\t};\n\n/*\n\t\t * ----------------------------------------------------------------\n\t\t * internal Event Handlers\n\t\t * ----------------------------------------------------------------\n\t\t */\n\n\t\t// event handler for when bounds params change\n\t\tvar handleBoundsParamsChange = function () {\n\t\t\tupdateBounds();\n\t\t};\n\n\t\t// event handler for when trigger params change\n\t\tvar handleTriggerParamsChange = function (e) {\n\t\t\tif (e.what === \"triggerHook\") {\n\t\t\t\tupdateTriggerGroup();\n\t\t\t}\n\t\t};\n\n/*\n\t\t * ----------------------------------------------------------------\n\t\t * Bounds (start / stop) management\n\t\t * ----------------------------------------------------------------\n\t\t */\n\n\t\t// adds an new bounds elements to the array and to the DOM\n\t\tvar addBounds = function () {\n\t\t\tvar v = _ctrl.info(\"vertical\");\n\t\t\t// apply stuff we didn't know before...\n\t\t\t_util.css(_elemStart.firstChild, {\n\t\t\t\t\"border-bottom-width\": v ? 1 : 0,\n\t\t\t\t\"border-right-width\": v ? 0 : 1,\n\t\t\t\t\"bottom\": v ? -1 : options.indent,\n\t\t\t\t\"right\": v ? options.indent : -1,\n\t\t\t\t\"padding\": v ? \"0 8px\" : \"2px 4px\",\n\t\t\t});\n\t\t\t_util.css(_elemEnd, {\n\t\t\t\t\"border-top-width\": v ? 1 : 0,\n\t\t\t\t\"border-left-width\": v ? 0 : 1,\n\t\t\t\t\"top\": v ? \"100%\" : \"\",\n\t\t\t\t\"right\": v ? options.indent : \"\",\n\t\t\t\t\"bottom\": v ? \"\" : options.indent,\n\t\t\t\t\"left\": v ? \"\" : \"100%\",\n\t\t\t\t\"padding\": v ? \"0 8px\" : \"2px 4px\"\n\t\t\t});\n\t\t\t// append\n\t\t\t_boundsContainer.appendChild(_elemBounds);\n\t\t};\n\n\t\t// remove bounds from list and DOM\n\t\tvar removeBounds = function () {\n\t\t\t_elemBounds.parentNode.removeChild(_elemBounds);\n\t\t};\n\n\t\t// update the start and end positions of the scene\n\t\tvar updateBounds = function () {\n\t\t\tif (_elemBounds.parentNode !== _boundsContainer) {\n\t\t\t\taddBounds(); // Add Bounds elements (start/end)\n\t\t\t}\n\t\t\tvar css = {};\n\t\t\tcss[_vertical ? \"top\" : \"left\"] = Scene.triggerPosition();\n\t\t\tcss[_vertical ? \"height\" : \"width\"] = Scene.duration();\n\t\t\t_util.css(_elemBounds, css);\n\t\t\t_util.css(_elemEnd, {\n\t\t\t\tdisplay: Scene.duration() > 0 ? \"\" : \"none\"\n\t\t\t});\n\t\t};\n\n/*\n\t\t * ----------------------------------------------------------------\n\t\t * trigger and trigger group management\n\t\t * ----------------------------------------------------------------\n\t\t */\n\n\t\t// adds an new trigger group to the array and to the DOM\n\t\tvar addTriggerGroup = function () {\n\t\t\tvar triggerElem = TPL.trigger(options.colorTrigger); // new trigger element\n\t\t\tvar css = {};\n\t\t\tcss[_vertical ? \"right\" : \"bottom\"] = 0;\n\t\t\tcss[_vertical ? \"border-top-width\" : \"border-left-width\"] = 1;\n\t\t\t_util.css(triggerElem.firstChild, css);\n\t\t\t_util.css(triggerElem.firstChild.firstChild, {\n\t\t\t\tpadding: _vertical ? \"0 8px 3px 8px\" : \"3px 4px\"\n\t\t\t});\n\t\t\tdocument.body.appendChild(triggerElem); // directly add to body\n\t\t\tvar newGroup = {\n\t\t\t\ttriggerHook: Scene.triggerHook(),\n\t\t\t\telement: triggerElem,\n\t\t\t\tmembers: [Indicator]\n\t\t\t};\n\t\t\t_ctrl._indicators.groups.push(newGroup);\n\t\t\tIndicator.triggerGroup = newGroup;\n\t\t\t// update right away\n\t\t\t_ctrl._indicators.updateTriggerGroupLabel(newGroup);\n\t\t\t_ctrl._indicators.updateTriggerGroupPositions(newGroup);\n\t\t};\n\n\t\tvar removeTriggerGroup = function () {\n\t\t\t_ctrl._indicators.groups.splice(_ctrl._indicators.groups.indexOf(Indicator.triggerGroup), 1);\n\t\t\tIndicator.triggerGroup.element.parentNode.removeChild(Indicator.triggerGroup.element);\n\t\t\tIndicator.triggerGroup = undefined;\n\t\t};\n\n\t\t// updates the trigger group -> either join existing or add new one\n/*\t\n\t\t * Logic:\n\t\t * 1 if a trigger group exist, check if it's in sync with Scene settings â€“ if so, nothing else needs to happen\n\t\t * 2 try to find an existing one that matches Scene parameters\n\t\t * \t 2.1 If a match is found check if already assigned to an existing group\n\t\t *\t\t\t If so:\n\t\t *       A: it was the last member of existing group -> kill whole group\n\t\t *       B: the existing group has other members -> just remove from member list\n\t\t *\t 2.2 Assign to matching group\n\t\t * 3 if no new match could be found, check if assigned to existing group\n\t\t *   A: yes, and it's the only member -> just update parameters and positions and keep using this group\n\t\t *   B: yes but there are other members -> remove from member list and create a new one\n\t\t *   C: no, so create a new one\n\t\t */\n\t\tvar updateTriggerGroup = function () {\n\t\t\tvar\n\t\t\ttriggerHook = Scene.triggerHook(),\n\t\t\t\tcloseEnough = 0.0001;\n\n\t\t\t// Have a group, check if it still matches\n\t\t\tif (Indicator.triggerGroup) {\n\t\t\t\tif (Math.abs(Indicator.triggerGroup.triggerHook - triggerHook) < closeEnough) {\n\t\t\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"no need to change, still in sync\");\n\t\t\t\t\treturn; // all good\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Don't have a group, check if a matching one exists\n\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"out of sync!\");\n\t\t\tvar\n\t\t\tgroups = _ctrl._indicators.groups,\n\t\t\t\tgroup, i = groups.length;\n\t\t\twhile (i--) {\n\t\t\t\tgroup = groups[i];\n\t\t\t\tif (Math.abs(group.triggerHook - triggerHook) < closeEnough) {\n\t\t\t\t\t// found a match!\n\t\t\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"found match\");\n\t\t\t\t\tif (Indicator.triggerGroup) { // do I have an old group that is out of sync?\n\t\t\t\t\t\tif (Indicator.triggerGroup.members.length === 1) { // is it the only remaining group?\n\t\t\t\t\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"kill\");\n\t\t\t\t\t\t\t// was the last member, remove the whole group\n\t\t\t\t\t\t\tremoveTriggerGroup();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tIndicator.triggerGroup.members.splice(Indicator.triggerGroup.members.indexOf(Indicator), 1); // just remove from memberlist of old group\n\t\t\t\t\t\t\t_ctrl._indicators.updateTriggerGroupLabel(Indicator.triggerGroup);\n\t\t\t\t\t\t\t_ctrl._indicators.updateTriggerGroupPositions(Indicator.triggerGroup);\n\t\t\t\t\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"removing from previous member list\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// join new group\n\t\t\t\t\tgroup.members.push(Indicator);\n\t\t\t\t\tIndicator.triggerGroup = group;\n\t\t\t\t\t_ctrl._indicators.updateTriggerGroupLabel(group);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// at this point I am obviously out of sync and don't match any other group\n\t\t\tif (Indicator.triggerGroup) {\n\t\t\t\tif (Indicator.triggerGroup.members.length === 1) {\n\t\t\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"updating existing\");\n\t\t\t\t\t// out of sync but i'm the only member => just change and update\n\t\t\t\t\tIndicator.triggerGroup.triggerHook = triggerHook;\n\t\t\t\t\t_ctrl._indicators.updateTriggerGroupPositions(Indicator.triggerGroup);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"removing from previous member list\");\n\t\t\t\t\tIndicator.triggerGroup.members.splice(Indicator.triggerGroup.members.indexOf(Indicator), 1); // just remove from memberlist of old group\n\t\t\t\t\t_ctrl._indicators.updateTriggerGroupLabel(Indicator.triggerGroup);\n\t\t\t\t\t_ctrl._indicators.updateTriggerGroupPositions(Indicator.triggerGroup);\n\t\t\t\t\tIndicator.triggerGroup = undefined; // need a brand new group...\n\t\t\t\t}\n\t\t\t}\n\t\t\t// _util.log(0, \"trigger\", options.name, \"->\", \"add a new one\");\n\t\t\t// did not find any match, make new trigger group\n\t\t\taddTriggerGroup();\n\t\t};\n\t};\n\n/*\n\t * ----------------------------------------------------------------\n\t * Templates for the indicators\n\t * ----------------------------------------------------------------\n\t */\n\tvar TPL = {\n\t\tstart: function (color) {\n\t\t\t// inner element (for bottom offset -1, while keeping top position 0)\n\t\t\tvar inner = document.createElement(\"div\");\n\t\t\tinner.textContent = \"start\";\n\t\t\t_util.css(inner, {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\toverflow: \"visible\",\n\t\t\t\t\"border-width\": 0,\n\t\t\t\t\"border-style\": \"solid\",\n\t\t\t\tcolor: color,\n\t\t\t\t\"border-color\": color\n\t\t\t});\n\t\t\tvar e = document.createElement('div');\n\t\t\t// wrapper\n\t\t\t_util.css(e, {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\toverflow: \"visible\",\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t});\n\t\t\te.appendChild(inner);\n\t\t\treturn e;\n\t\t},\n\t\tend: function (color) {\n\t\t\tvar e = document.createElement('div');\n\t\t\te.textContent = \"end\";\n\t\t\t_util.css(e, {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\toverflow: \"visible\",\n\t\t\t\t\"border-width\": 0,\n\t\t\t\t\"border-style\": \"solid\",\n\t\t\t\tcolor: color,\n\t\t\t\t\"border-color\": color\n\t\t\t});\n\t\t\treturn e;\n\t\t},\n\t\tbounds: function () {\n\t\t\tvar e = document.createElement('div');\n\t\t\t_util.css(e, {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\toverflow: \"visible\",\n\t\t\t\t\"white-space\": \"nowrap\",\n\t\t\t\t\"pointer-events\": \"none\",\n\t\t\t\t\"font-size\": FONT_SIZE\n\t\t\t});\n\t\t\te.style.zIndex = ZINDEX;\n\t\t\treturn e;\n\t\t},\n\t\ttrigger: function (color) {\n\t\t\t// inner to be above or below line but keep position\n\t\t\tvar inner = document.createElement('div');\n\t\t\tinner.textContent = \"trigger\";\n\t\t\t_util.css(inner, {\n\t\t\t\tposition: \"relative\",\n\t\t\t});\n\t\t\t// inner wrapper for right: 0 and main element has no size\n\t\t\tvar w = document.createElement('div');\n\t\t\t_util.css(w, {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\toverflow: \"visible\",\n\t\t\t\t\"border-width\": 0,\n\t\t\t\t\"border-style\": \"solid\",\n\t\t\t\tcolor: color,\n\t\t\t\t\"border-color\": color\n\t\t\t});\n\t\t\tw.appendChild(inner);\n\t\t\t// wrapper\n\t\t\tvar e = document.createElement('div');\n\t\t\t_util.css(e, {\n\t\t\t\tposition: \"fixed\",\n\t\t\t\toverflow: \"visible\",\n\t\t\t\t\"white-space\": \"nowrap\",\n\t\t\t\t\"pointer-events\": \"none\",\n\t\t\t\t\"font-size\": FONT_SIZE\n\t\t\t});\n\t\t\te.style.zIndex = ZINDEX;\n\t\t\te.appendChild(w);\n\t\t\treturn e;\n\t\t},\n\t};\n\n}));"],"sourceRoot":"/source/"}