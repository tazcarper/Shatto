{"version":3,"sources":["plugins/plugins/animation.velocity.js"],"names":[],"mappings":"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","file":"plugins/plugins/animation.velocity.js","sourcesContent":["/*!\n * ScrollMagic v2.0.5 (2015-04-29)\n * The javascript library for magical scroll interactions.\n * (c) 2015 Jan Paepke (@janpaepke)\n * Project Website: http://scrollmagic.io\n * \n * @version 2.0.5\n * @license Dual licensed under MIT license and GPL.\n * @author Jan Paepke - e-mail@janpaepke.de\n *\n * @file ScrollMagic Velocity Animation Plugin.\n *\n * requires: velocity ~1.2\n * Powered by VelocityJS: http://VelocityJS.org\n * Velocity is published under MIT license.\n */\n/**\n * This plugin is meant to be used in conjunction with the Velocity animation framework.  \n * It offers an easy API to __trigger__ Velocity animations.\n *\n * With the current version of Velocity scrollbound animations (scenes with duration) are not supported.  \n * This feature will be added as soon as Velocity provides the appropriate API.\n * \n * To have access to this extension, please include `plugins/animation.velocity.js`.\n * @requires {@link http://julian.com/research/velocity/|Velocity ~1.2.0}\n * @mixin animation.Velocity\n */\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine(['ScrollMagic', 'velocity'], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// CommonJS\n\t\tfactory(require('scrollmagic'), require('velocity'));\n\t} else {\n\t\t// Browser globals\n\t\tfactory(root.ScrollMagic || (root.jQuery && root.jQuery.ScrollMagic), root.Velocity || (root.jQuery && root.jQuery.Velocity));\n\t}\n}(this, function (ScrollMagic, velocity) {\n\t\"use strict\";\n\tvar NAMESPACE = \"animation.velocity\";\n\n\tvar\n\tconsole = window.console || {},\n\t\terr = Function.prototype.bind.call(console.error || console.log ||\n\t\tfunction () {}, console);\n\tif (!ScrollMagic) {\n\t\terr(\"(\" + NAMESPACE + \") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs.\");\n\t}\n\tif (!velocity) {\n\t\terr(\"(\" + NAMESPACE + \") -> ERROR: Velocity could not be found. Please make sure it's loaded before ScrollMagic or use an asynchronous loader like requirejs.\");\n\t}\n\n\tvar autoindex = 0;\n\n\tScrollMagic.Scene.extend(function () {\n\t\tvar\n\t\tScene = this,\n\t\t\t_util = ScrollMagic._util,\n\t\t\t_currentProgress = 0,\n\t\t\t_elems, _properties, _options, _dataID; // used to identify element data related to this scene, will be defined everytime a new velocity animation is added\n\t\tvar log = function () {\n\t\t\tif (Scene._log) { // not available, when main source minified\n\t\t\t\tArray.prototype.splice.call(arguments, 1, 0, \"(\" + NAMESPACE + \")\", \"->\");\n\t\t\t\tScene._log.apply(this, arguments);\n\t\t\t}\n\t\t};\n\n\t\t// set listeners\n\t\tScene.on(\"progress.plugin_velocity\", function () {\n\t\t\tupdateAnimationProgress();\n\t\t});\n\t\tScene.on(\"destroy.plugin_velocity\", function (e) {\n\t\t\tScene.off(\"*.plugin_velocity\");\n\t\t\tScene.removeVelocity(e.reset);\n\t\t});\n\n\t\tvar animate = function (elem, properties, options) {\n\t\t\tif (_util.type.Array(elem)) {\n\t\t\t\telem.forEach(function (elem) {\n\t\t\t\t\tanimate(elem, properties, options);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// set reverse values\n\t\t\t\tif (!velocity.Utilities.data(elem, _dataID)) {\n\t\t\t\t\tvelocity.Utilities.data(elem, _dataID, {\n\t\t\t\t\t\treverseProps: _util.css(elem, Object.keys(_properties))\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// animate\n\t\t\t\tvelocity(elem, properties, options);\n\t\t\t\tif (options.queue !== undefined) {\n\t\t\t\t\tvelocity.Utilities.dequeue(elem, options.queue);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tvar reverse = function (elem, options) {\n\t\t\tif (_util.type.Array(elem)) {\n\t\t\t\telem.forEach(function (elem) {\n\t\t\t\t\treverse(elem, options);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar data = velocity.Utilities.data(elem, _dataID);\n\t\t\t\tif (data && data.reverseProps) {\n\t\t\t\t\tvelocity(elem, data.reverseProps, options);\n\t\t\t\t\tif (options.queue !== undefined) {\n\t\t\t\t\t\tvelocity.Utilities.dequeue(elem, options.queue);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Update the tween progress to current position.\n\t\t * @private\n\t\t */\n\t\tvar updateAnimationProgress = function () {\n\t\t\tif (_elems) {\n\t\t\t\tvar progress = Scene.progress();\n\t\t\t\tif (progress != _currentProgress) { // do we even need to update the progress?\n\t\t\t\t\tif (Scene.duration() === 0) {\n\t\t\t\t\t\t// play the animation\n\t\t\t\t\t\tif (progress > 0) { // play forward\n\t\t\t\t\t\t\tanimate(_elems, _properties, _options);\n\t\t\t\t\t\t} else { // play reverse\n\t\t\t\t\t\t\treverse(_elems, _options);\n\t\t\t\t\t\t\t// velocity(_elems, _propertiesReverse, _options);\n\t\t\t\t\t\t\t// velocity(\"reverse\");\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// TODO: Scrollbound animations not supported yet...\n\t\t\t\t\t}\n\t\t\t\t\t_currentProgress = progress;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Add a Velocity animation to the scene.  \n\t\t * The method accepts the same parameters as Velocity, with the first parameter being the target element.\n\t\t *\n\t\t * To gain better understanding, check out the [Velocity example](../examples/basic/simple_velocity.html).\n\t\t * @memberof! animation.Velocity#\n\t\t *\n\t\t * @example\n\t\t * // trigger a Velocity animation\n\t\t * scene.setVelocity(\"#myElement\", {opacity: 0.5}, {duration: 1000, easing: \"linear\"});\n\t\t *\n\t\t * @param {(object|string)} elems - One or more Dom Elements or a Selector that should be used as the target of the animation.\n\t\t * @param {object} properties - The CSS properties that should be animated.\n\t\t * @param {object} options - Options for the animation, like duration or easing.\n\t\t * @returns {Scene} Parent object for chaining.\n\t\t */\n\t\tScene.setVelocity = function (elems, properties, options) {\n\t\t\tif (_elems) { // kill old ani?\n\t\t\t\tScene.removeVelocity();\n\t\t\t}\n\n\t\t\t_elems = _util.get.elements(elems);\n\t\t\t_properties = properties || {};\n\t\t\t_options = options || {};\n\t\t\t_dataID = \"ScrollMagic.\" + NAMESPACE + \"[\" + (autoindex++) + \"]\";\n\n\t\t\tif (_options.queue !== undefined) {\n\t\t\t\t// we'll use the queue to identify the animation. When defined it will always stop the previously running one.\n\t\t\t\t// if undefined the animation will always fully run, as is expected.\n\t\t\t\t// defining anything other than 'false' as the que doesn't make much sense, because ScrollMagic takes control over the trigger.\n\t\t\t\t// thus it is also overwritten.\n\t\t\t\t_options.queue = _dataID + \"_queue\";\n\t\t\t}\n\n\t\t\tvar checkDuration = function () {\n\t\t\t\tif (Scene.duration() !== 0) {\n\t\t\t\t\tlog(1, \"ERROR: The Velocity animation plugin does not support scrollbound animations (scenes with duration) yet.\");\n\t\t\t\t}\n\t\t\t};\n\t\t\tScene.on(\"change.plugin_velocity\", function (e) {\n\t\t\t\tif (e.what == 'duration') {\n\t\t\t\t\tcheckDuration();\n\t\t\t\t}\n\t\t\t});\n\t\t\tcheckDuration();\n\t\t\tlog(3, \"added animation\");\n\n\t\t\tupdateAnimationProgress();\n\t\t\treturn Scene;\n\t\t};\n\t\t/**\n\t\t * Remove the animation from the scene.  \n\t\t * This will stop the scene from triggering the animation.\n\t\t *\n\t\t * Using the reset option you can decide if the animation should remain in the current state or be rewound to set the target elements back to the state they were in before the animation was added to the scene.\n\t\t * @memberof! animation.Velocity#\n\t\t *\n\t\t * @example\n\t\t * // remove the animation from the scene without resetting it\n\t\t * scene.removeVelocity();\n\t\t *\n\t\t * // remove the animation from the scene and reset the elements to initial state\n\t\t * scene.removeVelocity(true);\n\t\t *\n\t\t * @param {boolean} [reset=false] - If `true` the animation will rewound.\n\t\t * @returns {Scene} Parent object for chaining.\n\t\t */\n\t\tScene.removeVelocity = function (reset) {\n\t\t\tif (_elems) {\n\t\t\t\t// stop running animations\n\t\t\t\tif (_options.queue !== undefined) {\n\t\t\t\t\tvelocity(_elems, \"stop\", _options.queue);\n\t\t\t\t}\n\t\t\t\tif (reset) {\n\t\t\t\t\treverse(_elems, {\n\t\t\t\t\t\tduration: 0\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t_elems.forEach(function (elem) {\n\t\t\t\t\tvelocity.Utilities.removeData(elem, _dataID);\n\t\t\t\t});\n\t\t\t\t_elems = _properties = _options = _dataID = undefined;\n\t\t\t}\n\t\t\treturn Scene;\n\t\t};\n\t});\n}));"],"sourceRoot":"/source/"}