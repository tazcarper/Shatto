{"version":3,"sources":["plugins/sticky.js"],"names":[],"mappings":"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","file":"plugins/sticky.js","sourcesContent":["// Generated by CoffeeScript 1.9.2\n\n/**\n@license Sticky-kit v1.1.2 | WTFPL | Leaf Corcoran 2015 | http://leafo.net\n */\n\n(function() {\n  \n  var $, win;\n\n  $ = this.jQuery || window.jQuery;\n\n  win = $(window);\n\n  $.fn.stick_in_parent = function(opts) {\n    var doc, elm, enable_bottoming, fn, i, inner_scrolling, len, manual_spacer, offset_top, parent_selector, recalc_every, sticky_class;\n    if (opts == null) {\n      opts = {};\n    }\n    sticky_class = opts.sticky_class, inner_scrolling = opts.inner_scrolling, recalc_every = opts.recalc_every, parent_selector = opts.parent, offset_top = opts.offset_top, manual_spacer = opts.spacer, enable_bottoming = opts.bottoming;\n    if (offset_top == null) {\n      offset_top = 0;\n    }\n    if (parent_selector == null) {\n      parent_selector = void 0;\n    }\n    if (inner_scrolling == null) {\n      inner_scrolling = true;\n    }\n    if (sticky_class == null) {\n      sticky_class = \"is_stuck\";\n    }\n    doc = $(document);\n    if (enable_bottoming == null) {\n      enable_bottoming = true;\n    }\n    fn = function(elm, padding_bottom, parent_top, parent_height, top, height, el_float, detached) {\n      var bottomed, detach, fixed, last_pos, last_scroll_height, offset, parent, recalc, recalc_and_tick, recalc_counter, spacer, tick;\n      if (elm.data(\"sticky_kit\")) {\n        return;\n      }\n      elm.data(\"sticky_kit\", true);\n      last_scroll_height = doc.height();\n      parent = elm.parent();\n      if (parent_selector != null) {\n        parent = parent.closest(parent_selector);\n      }\n      if (!parent.length) {\n        throw \"failed to find stick parent\";\n      }\n      fixed = false;\n      bottomed = false;\n      spacer = manual_spacer != null ? manual_spacer && elm.closest(manual_spacer) : $(\"<div />\");\n      if (spacer) {\n        spacer.css('position', elm.css('position'));\n      }\n      recalc = function() {\n        var border_top, padding_top, restore;\n        if (detached) {\n          return;\n        }\n        last_scroll_height = doc.height();\n        border_top = parseInt(parent.css(\"border-top-width\"), 10);\n        padding_top = parseInt(parent.css(\"padding-top\"), 10);\n        padding_bottom = parseInt(parent.css(\"padding-bottom\"), 10);\n        parent_top = parent.offset().top + border_top + padding_top;\n        parent_height = parent.height();\n        if (fixed) {\n          fixed = false;\n          bottomed = false;\n          if (manual_spacer == null) {\n            elm.insertAfter(spacer);\n            spacer.detach();\n          }\n          elm.css({\n            position: \"\",\n            top: \"\",\n            width: \"\",\n            bottom: \"\"\n          }).removeClass(sticky_class);\n          restore = true;\n        }\n        top = elm.offset().top - (parseInt(elm.css(\"margin-top\"), 10) || 0) - offset_top;\n        height = elm.outerHeight(true);\n        el_float = elm.css(\"float\");\n        if (spacer) {\n          spacer.css({\n            width: elm.outerWidth(true),\n            height: height,\n            display: elm.css(\"display\"),\n            \"vertical-align\": elm.css(\"vertical-align\"),\n            \"float\": el_float\n          });\n        }\n        if (restore) {\n          return tick();\n        }\n      };\n      recalc();\n      if (height === parent_height) {\n        return;\n      }\n      last_pos = void 0;\n      offset = offset_top;\n      recalc_counter = recalc_every;\n      tick = function() {\n        var css, delta, recalced, scroll, will_bottom, win_height;\n        if (detached) {\n          return;\n        }\n        recalced = false;\n        if (recalc_counter != null) {\n          recalc_counter -= 1;\n          if (recalc_counter <= 0) {\n            recalc_counter = recalc_every;\n            recalc();\n            recalced = true;\n          }\n        }\n        if (!recalced && doc.height() !== last_scroll_height) {\n          recalc();\n          recalced = true;\n        }\n        scroll = win.scrollTop();\n        if (last_pos != null) {\n          delta = scroll - last_pos;\n        }\n        last_pos = scroll;\n        if (fixed) {\n          if (enable_bottoming) {\n            will_bottom = scroll + height + offset > parent_height + parent_top;\n            if (bottomed && !will_bottom) {\n              bottomed = false;\n              elm.css({\n                position: \"fixed\",\n                bottom: \"\",\n                top: offset\n              }).trigger(\"sticky_kit:unbottom\");\n            }\n          }\n          if (scroll < top) {\n            fixed = false;\n            offset = offset_top;\n            if (manual_spacer == null) {\n              if (el_float === \"left\" || el_float === \"right\") {\n                elm.insertAfter(spacer);\n              }\n              spacer.detach();\n            }\n            css = {\n              position: \"\",\n              width: \"\",\n              top: \"\"\n            };\n            elm.css(css).removeClass(sticky_class).trigger(\"sticky_kit:unstick\");\n          }\n          if (inner_scrolling) {\n            win_height = win.height();\n            if (height + offset_top > win_height) {\n              if (!bottomed) {\n                offset -= delta;\n                offset = Math.max(win_height - height, offset);\n                offset = Math.min(offset_top, offset);\n                if (fixed) {\n                  elm.css({\n                    top: offset + \"px\"\n                  });\n                }\n              }\n            }\n          }\n        } else {\n          if (scroll > top) {\n            fixed = true;\n            css = {\n              position: \"fixed\",\n              top: offset\n            };\n            css.width = elm.css(\"box-sizing\") === \"border-box\" ? elm.outerWidth() + \"px\" : elm.width() + \"px\";\n            elm.css(css).addClass(sticky_class);\n            if (manual_spacer == null) {\n              elm.after(spacer);\n              if (el_float === \"left\" || el_float === \"right\") {\n                spacer.append(elm);\n              }\n            }\n            elm.trigger(\"sticky_kit:stick\");\n          }\n        }\n        if (fixed && enable_bottoming) {\n          if (will_bottom == null) {\n            will_bottom = scroll + height + offset > parent_height + parent_top;\n          }\n          if (!bottomed && will_bottom) {\n            bottomed = true;\n            if (parent.css(\"position\") === \"static\") {\n              parent.css({\n                position: \"relative\"\n              });\n            }\n            return elm.css({\n              position: \"absolute\",\n              bottom: padding_bottom,\n              top: \"auto\"\n            }).trigger(\"sticky_kit:bottom\");\n          }\n        }\n      };\n      recalc_and_tick = function() {\n        recalc();\n        return tick();\n      };\n      detach = function() {\n        detached = true;\n        win.off(\"touchmove\", tick);\n        win.off(\"scroll\", tick);\n        win.off(\"resize\", recalc_and_tick);\n        $(document.body).off(\"sticky_kit:recalc\", recalc_and_tick);\n        elm.off(\"sticky_kit:detach\", detach);\n        elm.removeData(\"sticky_kit\");\n        elm.css({\n          position: \"\",\n          bottom: \"\",\n          top: \"\",\n          width: \"\"\n        });\n        parent.position(\"position\", \"\");\n        if (fixed) {\n          if (manual_spacer == null) {\n            if (el_float === \"left\" || el_float === \"right\") {\n              elm.insertAfter(spacer);\n            }\n            spacer.remove();\n          }\n          return elm.removeClass(sticky_class);\n        }\n      };\n      win.on(\"touchmove\", tick);\n      win.on(\"scroll\", tick);\n      win.on(\"resize\", recalc_and_tick);\n      $(document.body).on(\"sticky_kit:recalc\", recalc_and_tick);\n      elm.on(\"sticky_kit:detach\", detach);\n      return setTimeout(tick, 0);\n    };\n    for (i = 0, len = this.length; i < len; i++) {\n      elm = this[i];\n      fn($(elm));\n    }\n    return this;\n  };\n\n}).call(this);"],"sourceRoot":"/source/"}