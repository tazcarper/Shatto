{"version":3,"sources":["plugins/sticky.js"],"names":[],"mappings":"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","file":"plugins/sticky.js","sourcesContent":["// Generated by CoffeeScript 1.9.2\n\n/**\n@license Sticky-kit v1.1.2 | WTFPL | Leaf Corcoran 2015 | http://leafo.net\n */\n\n(function() {\n  var $, win;\n\n  $ = this.jQuery || window.jQuery;\n\n  win = $(window);\n\n  $.fn.stick_in_parent = function(opts) {\n    var doc, elm, enable_bottoming, fn, i, inner_scrolling, len, manual_spacer, offset_top, parent_selector, recalc_every, sticky_class;\n    if (opts == null) {\n      opts = {};\n    }\n    sticky_class = opts.sticky_class, inner_scrolling = opts.inner_scrolling, recalc_every = opts.recalc_every, parent_selector = opts.parent, offset_top = opts.offset_top, manual_spacer = opts.spacer, enable_bottoming = opts.bottoming;\n    if (offset_top == null) {\n      offset_top = 0;\n    }\n    if (parent_selector == null) {\n      parent_selector = void 0;\n    }\n    if (inner_scrolling == null) {\n      inner_scrolling = true;\n    }\n    if (sticky_class == null) {\n      sticky_class = \"is_stuck\";\n    }\n    doc = $(document);\n    if (enable_bottoming == null) {\n      enable_bottoming = true;\n    }\n    fn = function(elm, padding_bottom, parent_top, parent_height, top, height, el_float, detached) {\n      var bottomed, detach, fixed, last_pos, last_scroll_height, offset, parent, recalc, recalc_and_tick, recalc_counter, spacer, tick;\n      if (elm.data(\"sticky_kit\")) {\n        return;\n      }\n      elm.data(\"sticky_kit\", true);\n      last_scroll_height = doc.height();\n      parent = elm.parent();\n      if (parent_selector != null) {\n        parent = parent.closest(parent_selector);\n      }\n      if (!parent.length) {\n        throw \"failed to find stick parent\";\n      }\n      fixed = false;\n      bottomed = false;\n      spacer = manual_spacer != null ? manual_spacer && elm.closest(manual_spacer) : $(\"<div />\");\n      if (spacer) {\n        spacer.css('position', elm.css('position'));\n      }\n      recalc = function() {\n        var border_top, padding_top, restore;\n        if (detached) {\n          return;\n        }\n        last_scroll_height = doc.height();\n        border_top = parseInt(parent.css(\"border-top-width\"), 10);\n        padding_top = parseInt(parent.css(\"padding-top\"), 10);\n        padding_bottom = parseInt(parent.css(\"padding-bottom\"), 10);\n        parent_top = parent.offset().top + border_top + padding_top;\n        parent_height = parent.height();\n        if (fixed) {\n          fixed = false;\n          bottomed = false;\n          if (manual_spacer == null) {\n            elm.insertAfter(spacer);\n            spacer.detach();\n          }\n          elm.css({\n            position: \"\",\n            top: \"\",\n            width: \"\",\n            bottom: \"\"\n          }).removeClass(sticky_class);\n          restore = true;\n        }\n        top = elm.offset().top - (parseInt(elm.css(\"margin-top\"), 10) || 0) - offset_top;\n        height = elm.outerHeight(true);\n        el_float = elm.css(\"float\");\n        if (spacer) {\n          spacer.css({\n            width: elm.outerWidth(true),\n            height: height,\n            display: elm.css(\"display\"),\n            \"vertical-align\": elm.css(\"vertical-align\"),\n            \"float\": el_float\n          });\n        }\n        if (restore) {\n          return tick();\n        }\n      };\n      recalc();\n      if (height === parent_height) {\n        return;\n      }\n      last_pos = void 0;\n      offset = offset_top;\n      recalc_counter = recalc_every;\n      tick = function() {\n        var css, delta, recalced, scroll, will_bottom, win_height;\n        if (detached) {\n          return;\n        }\n        recalced = false;\n        if (recalc_counter != null) {\n          recalc_counter -= 1;\n          if (recalc_counter <= 0) {\n            recalc_counter = recalc_every;\n            recalc();\n            recalced = true;\n          }\n        }\n        if (!recalced && doc.height() !== last_scroll_height) {\n          recalc();\n          recalced = true;\n        }\n        scroll = win.scrollTop();\n        if (last_pos != null) {\n          delta = scroll - last_pos;\n        }\n        last_pos = scroll;\n        if (fixed) {\n          if (enable_bottoming) {\n            will_bottom = scroll + height + offset > parent_height + parent_top;\n            if (bottomed && !will_bottom) {\n              bottomed = false;\n              elm.css({\n                position: \"fixed\",\n                bottom: \"\",\n                top: offset\n              }).trigger(\"sticky_kit:unbottom\");\n            }\n          }\n          if (scroll < top) {\n            fixed = false;\n            offset = offset_top;\n            if (manual_spacer == null) {\n              if (el_float === \"left\" || el_float === \"right\") {\n                elm.insertAfter(spacer);\n              }\n              spacer.detach();\n            }\n            css = {\n              position: \"\",\n              width: \"\",\n              top: \"\"\n            };\n            elm.css(css).removeClass(sticky_class).trigger(\"sticky_kit:unstick\");\n          }\n          if (inner_scrolling) {\n            win_height = win.height();\n            if (height + offset_top > win_height) {\n              if (!bottomed) {\n                offset -= delta;\n                offset = Math.max(win_height - height, offset);\n                offset = Math.min(offset_top, offset);\n                if (fixed) {\n                  elm.css({\n                    top: offset + \"px\"\n                  });\n                }\n              }\n            }\n          }\n        } else {\n          if (scroll > top) {\n            fixed = true;\n            css = {\n              position: \"fixed\",\n              top: offset\n            };\n            css.width = elm.css(\"box-sizing\") === \"border-box\" ? elm.outerWidth() + \"px\" : elm.width() + \"px\";\n            elm.css(css).addClass(sticky_class);\n            if (manual_spacer == null) {\n              elm.after(spacer);\n              if (el_float === \"left\" || el_float === \"right\") {\n                spacer.append(elm);\n              }\n            }\n            elm.trigger(\"sticky_kit:stick\");\n          }\n        }\n        if (fixed && enable_bottoming) {\n          if (will_bottom == null) {\n            will_bottom = scroll + height + offset > parent_height + parent_top;\n          }\n          if (!bottomed && will_bottom) {\n            bottomed = true;\n            if (parent.css(\"position\") === \"static\") {\n              parent.css({\n                position: \"relative\"\n              });\n            }\n            return elm.css({\n              position: \"absolute\",\n              bottom: padding_bottom,\n              top: \"auto\"\n            }).trigger(\"sticky_kit:bottom\");\n          }\n        }\n      };\n      recalc_and_tick = function() {\n        recalc();\n        return tick();\n      };\n      detach = function() {\n        detached = true;\n        win.off(\"touchmove\", tick);\n        win.off(\"scroll\", tick);\n        win.off(\"resize\", recalc_and_tick);\n        $(document.body).off(\"sticky_kit:recalc\", recalc_and_tick);\n        elm.off(\"sticky_kit:detach\", detach);\n        elm.removeData(\"sticky_kit\");\n        elm.css({\n          position: \"\",\n          bottom: \"\",\n          top: \"\",\n          width: \"\"\n        });\n        parent.position(\"position\", \"\");\n        if (fixed) {\n          if (manual_spacer == null) {\n            if (el_float === \"left\" || el_float === \"right\") {\n              elm.insertAfter(spacer);\n            }\n            spacer.remove();\n          }\n          return elm.removeClass(sticky_class);\n        }\n      };\n      win.on(\"touchmove\", tick);\n      win.on(\"scroll\", tick);\n      win.on(\"resize\", recalc_and_tick);\n      $(document.body).on(\"sticky_kit:recalc\", recalc_and_tick);\n      elm.on(\"sticky_kit:detach\", detach);\n      return setTimeout(tick, 0);\n    };\n    for (i = 0, len = this.length; i < len; i++) {\n      elm = this[i];\n      fn($(elm));\n    }\n    return this;\n  };\n\n}).call(this);"],"sourceRoot":"/source/"}