{"version":3,"sources":["plugins/jquery.vide.js"],"names":[],"mappings":"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","file":"plugins/jquery.vide.js","sourcesContent":["!(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    factory(require('jquery'));\n  } else {\n    factory(root.jQuery);\n  }\n})(this, function($) {\n\n  'use strict';\n\n  /**\n   * Name of the plugin\n   * @private\n   * @const\n   * @type {String}\n   */\n  var PLUGIN_NAME = 'vide';\n\n  /**\n   * Default settings\n   * @private\n   * @const\n   * @type {Object}\n   */\n  var DEFAULTS = {\n    volume: 1,\n    playbackRate: 1,\n    muted: true,\n    loop: true,\n    autoplay: true,\n    position: '50% 50%',\n    posterType: 'detect',\n    resizing: true,\n    bgColor: 'transparent',\n    className: ''\n  };\n\n  /**\n   * Not implemented error message\n   * @private\n   * @const\n   * @type {String}\n   */\n  var NOT_IMPLEMENTED_MSG = 'Not implemented';\n\n  /**\n   * Parse a string with options\n   * @private\n   * @param {String} str\n   * @returns {Object|String}\n   */\n  function parseOptions(str) {\n    var obj = {};\n    var delimiterIndex;\n    var option;\n    var prop;\n    var val;\n    var arr;\n    var len;\n    var i;\n\n    // Remove spaces around delimiters and split\n    arr = str.replace(/\\s*:\\s*/g, ':').replace(/\\s*,\\s*/g, ',').split(',');\n\n    // Parse a string\n    for (i = 0, len = arr.length; i < len; i++) {\n      option = arr[i];\n\n      // Ignore urls and a string without colon delimiters\n      if (\n        option.search(/^(http|https|ftp):\\/\\//) !== -1 ||\n        option.search(':') === -1\n      ) {\n        break;\n      }\n\n      delimiterIndex = option.indexOf(':');\n      prop = option.substring(0, delimiterIndex);\n      val = option.substring(delimiterIndex + 1);\n\n      // If val is an empty string, make it undefined\n      if (!val) {\n        val = undefined;\n      }\n\n      // Convert a string value if it is like a boolean\n      if (typeof val === 'string') {\n        val = val === 'true' || (val === 'false' ? false : val);\n      }\n\n      // Convert a string value if it is like a number\n      if (typeof val === 'string') {\n        val = !isNaN(val) ? +val : val;\n      }\n\n      obj[prop] = val;\n    }\n\n    // If nothing is parsed\n    if (prop == null && val == null) {\n      return str;\n    }\n\n    return obj;\n  }\n\n  /**\n   * Parse a position option\n   * @private\n   * @param {String} str\n   * @returns {Object}\n   */\n  function parsePosition(str) {\n    str = '' + str;\n\n    // Default value is a center\n    var args = str.split(/\\s+/);\n    var x = '50%';\n    var y = '50%';\n    var len;\n    var arg;\n    var i;\n\n    for (i = 0, len = args.length; i < len; i++) {\n      arg = args[i];\n\n      // Convert values\n      if (arg === 'left') {\n        x = '0%';\n      } else if (arg === 'right') {\n        x = '100%';\n      } else if (arg === 'top') {\n        y = '0%';\n      } else if (arg === 'bottom') {\n        y = '100%';\n      } else if (arg === 'center') {\n        if (i === 0) {\n          x = '50%';\n        } else {\n          y = '50%';\n        }\n      } else {\n        if (i === 0) {\n          x = arg;\n        } else {\n          y = arg;\n        }\n      }\n    }\n\n    return { x: x, y: y };\n  }\n\n  /**\n   * Search a poster\n   * @private\n   * @param {String} path\n   * @param {Function} callback\n   */\n  function findPoster(path, callback) {\n    var onLoad = function() {\n      callback(this.src);\n    };\n\n    $('<img src=\"' + path + '.gif\">').load(onLoad);\n    $('<img src=\"' + path + '.jpg\">').load(onLoad);\n    $('<img src=\"' + path + '.jpeg\">').load(onLoad);\n    $('<img src=\"' + path + '.png\">').load(onLoad);\n  }\n\n  /**\n   * Vide constructor\n   * @param {HTMLElement} element\n   * @param {Object|String} path\n   * @param {Object|String} options\n   * @constructor\n   */\n  function Vide(element, path, options) {\n    this.$element = $(element);\n\n    // Parse path\n    if (typeof path === 'string') {\n      path = parseOptions(path);\n    }\n\n    // Parse options\n    if (!options) {\n      options = {};\n    } else if (typeof options === 'string') {\n      options = parseOptions(options);\n    }\n\n    // Remove an extension\n    if (typeof path === 'string') {\n      path = path.replace(/\\.\\w*$/, '');\n    } else if (typeof path === 'object') {\n      for (var i in path) {\n        if (path.hasOwnProperty(i)) {\n          path[i] = path[i].replace(/\\.\\w*$/, '');\n        }\n      }\n    }\n\n    this.settings = $.extend({}, DEFAULTS, options);\n    this.path = path;\n\n    // https://github.com/VodkaBears/Vide/issues/110\n    try {\n      this.init();\n    } catch (e) {\n      if (e.message !== NOT_IMPLEMENTED_MSG) {\n        throw e;\n      }\n    }\n  }\n\n  /**\n   * Initialization\n   * @public\n   */\n  Vide.prototype.init = function() {\n    var vide = this;\n    var path = vide.path;\n    var poster = path;\n    var sources = '';\n    var $element = vide.$element;\n    var settings = vide.settings;\n    var position = parsePosition(settings.position);\n    var posterType = settings.posterType;\n    var $video;\n    var $wrapper;\n\n    // Set styles of a video wrapper\n    $wrapper = vide.$wrapper = $('<div>')\n      .addClass(settings.className)\n      .css({\n        position: 'absolute',\n        'z-index': -1,\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0,\n        overflow: 'hidden',\n        '-webkit-background-size': 'cover',\n        '-moz-background-size': 'cover',\n        '-o-background-size': 'cover',\n        'background-size': 'cover',\n        'background-color': settings.bgColor,\n        'background-repeat': 'no-repeat',\n        'background-position': position.x + ' ' + position.y\n      });\n\n    // Get a poster path\n    if (typeof path === 'object') {\n      if (path.poster) {\n        poster = path.poster;\n      } else {\n        if (path.mp4) {\n          poster = path.mp4;\n        } else if (path.webm) {\n          poster = path.webm;\n        } else if (path.ogv) {\n          poster = path.ogv;\n        }\n      }\n    }\n\n    // Set a video poster\n    if (posterType === 'detect') {\n      findPoster(poster, function(url) {\n        $wrapper.css('background-image', 'url(' + url + ')');\n      });\n    } else if (posterType !== 'none') {\n      $wrapper.css('background-image', 'url(' + poster + '.' + posterType + ')');\n    }\n\n    // If a parent element has a static position, make it relative\n    if ($element.css('position') === 'static') {\n      $element.css('position', 'relative');\n    }\n\n    $element.prepend($wrapper);\n\n    if (typeof path === 'object') {\n      if (path.mp4) {\n        sources += '<source src=\"' + path.mp4 + '.mp4\" type=\"video/mp4\">';\n      }\n\n      if (path.webm) {\n        sources += '<source src=\"' + path.webm + '.webm\" type=\"video/webm\">';\n      }\n\n      if (path.ogv) {\n        sources += '<source src=\"' + path.ogv + '.ogv\" type=\"video/ogg\">';\n      }\n\n      $video = vide.$video = $('<video>' + sources + '</video>');\n    } else {\n      $video = vide.$video = $('<video>' +\n        '<source src=\"' + path + '.mp4\" type=\"video/mp4\">' +\n        '<source src=\"' + path + '.webm\" type=\"video/webm\">' +\n        '<source src=\"' + path + '.ogv\" type=\"video/ogg\">' +\n        '</video>');\n    }\n\n    // https://github.com/VodkaBears/Vide/issues/110\n    try {\n      $video\n\n        // Set video properties\n        .prop({\n          autoplay: settings.autoplay,\n          loop: settings.loop,\n          volume: settings.volume,\n          muted: settings.muted,\n          defaultMuted: settings.muted,\n          playbackRate: settings.playbackRate,\n          defaultPlaybackRate: settings.playbackRate\n        });\n    } catch (e) {\n      throw new Error(NOT_IMPLEMENTED_MSG);\n    }\n\n    // Video alignment\n    $video.css({\n      margin: 'auto',\n      position: 'absolute',\n      'z-index': -1,\n      top: position.y,\n      left: position.x,\n      '-webkit-transform': 'translate(-' + position.x + ', -' + position.y + ')',\n      '-ms-transform': 'translate(-' + position.x + ', -' + position.y + ')',\n      '-moz-transform': 'translate(-' + position.x + ', -' + position.y + ')',\n      transform: 'translate(-' + position.x + ', -' + position.y + ')',\n\n      // Disable visibility, while loading\n      visibility: 'hidden',\n      opacity: 0\n    })\n\n    // Resize a video, when it's loaded\n    .one('canplaythrough.' + PLUGIN_NAME, function() {\n      vide.resize();\n    })\n\n    // Make it visible, when it's already playing\n    .one('playing.' + PLUGIN_NAME, function() {\n      $video.css({\n        visibility: 'visible',\n        opacity: 1\n      });\n      $wrapper.css('background-image', 'none');\n    });\n\n    // Resize event is available only for 'window'\n    // Use another code solutions to detect DOM elements resizing\n    $element.on('resize.' + PLUGIN_NAME, function() {\n      if (settings.resizing) {\n        vide.resize();\n      }\n    });\n\n    // Append a video\n    $wrapper.append($video);\n  };\n\n  /**\n   * Get a video element\n   * @public\n   * @returns {HTMLVideoElement}\n   */\n  Vide.prototype.getVideoObject = function() {\n    return this.$video[0];\n  };\n\n  /**\n   * Resize a video background\n   * @public\n   */\n  Vide.prototype.resize = function() {\n    if (!this.$video) {\n      return;\n    }\n\n    var $wrapper = this.$wrapper;\n    var $video = this.$video;\n    var video = $video[0];\n\n    // Get a native video size\n    var videoHeight = video.videoHeight;\n    var videoWidth = video.videoWidth;\n\n    // Get a wrapper size\n    var wrapperHeight = $wrapper.height();\n    var wrapperWidth = $wrapper.width();\n\n    if (wrapperWidth / videoWidth > wrapperHeight / videoHeight) {\n      $video.css({\n\n        // +2 pixels to prevent an empty space after transformation\n        width: wrapperWidth + 2,\n        height: 'auto'\n      });\n    } else {\n      $video.css({\n        width: 'auto',\n\n        // +2 pixels to prevent an empty space after transformation\n        height: wrapperHeight + 2\n      });\n    }\n  };\n\n  /**\n   * Destroy a video background\n   * @public\n   */\n  Vide.prototype.destroy = function() {\n    delete $[PLUGIN_NAME].lookup[this.index];\n    this.$video && this.$video.off(PLUGIN_NAME);\n    this.$element.off(PLUGIN_NAME).removeData(PLUGIN_NAME);\n    this.$wrapper.remove();\n  };\n\n  /**\n   * Special plugin object for instances.\n   * @public\n   * @type {Object}\n   */\n  $[PLUGIN_NAME] = {\n    lookup: []\n  };\n\n  /**\n   * Plugin constructor\n   * @param {Object|String} path\n   * @param {Object|String} options\n   * @returns {JQuery}\n   * @constructor\n   */\n  $.fn[PLUGIN_NAME] = function(path, options) {\n    var instance;\n\n    this.each(function() {\n      instance = $.data(this, PLUGIN_NAME);\n\n      // Destroy the plugin instance if exists\n      instance && instance.destroy();\n\n      // Create the plugin instance\n      instance = new Vide(this, path, options);\n      instance.index = $[PLUGIN_NAME].lookup.push(instance) - 1;\n      $.data(this, PLUGIN_NAME, instance);\n    });\n\n    return this;\n  };\n\n  $(document).ready(function() {\n    var $window = $(window);\n\n    // Window resize event listener\n    $window.on('resize.' + PLUGIN_NAME, function() {\n      for (var len = $[PLUGIN_NAME].lookup.length, i = 0, instance; i < len; i++) {\n        instance = $[PLUGIN_NAME].lookup[i];\n\n        if (instance && instance.settings.resizing) {\n          instance.resize();\n        }\n      }\n    });\n\n    // https://github.com/VodkaBears/Vide/issues/68\n    $window.on('unload.' + PLUGIN_NAME, function() {\n      return false;\n    });\n\n    // Auto initialization\n    // Add 'data-vide-bg' attribute with a path to the video without extension\n    // Also you can pass options throw the 'data-vide-options' attribute\n    // 'data-vide-options' must be like 'muted: false, volume: 0.5'\n    $(document).find('[data-' + PLUGIN_NAME + '-bg]').each(function(i, element) {\n      var $element = $(element);\n      var options = $element.data(PLUGIN_NAME + '-options');\n      var path = $element.data(PLUGIN_NAME + '-bg');\n\n      $element[PLUGIN_NAME](path, options);\n    });\n  });\n\n});\n"],"sourceRoot":"/source/"}