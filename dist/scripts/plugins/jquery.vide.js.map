{"version":3,"sources":["plugins/jquery.vide.js"],"names":[],"mappings":"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","file":"plugins/jquery.vide.js","sourcesContent":["!(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    factory(require('jquery'));\n  } else {\n    factory(root.jQuery);\n  }\n})(this, function($) {\n\n  'use strict';\n\n  /**\n   * Name of the plugin\n   * @private\n   * @const\n   * @type {String}\n   */\n  var PLUGIN_NAME = 'vide';\n\n  /**\n   * Default settings\n   * @private\n   * @const\n   * @type {Object}\n   */\n  var DEFAULTS = {\n    volume: 1,\n    playbackRate: 1,\n    muted: true,\n    loop: true,\n    autoplay: true,\n    position: '50% 50%',\n    posterType: 'detect',\n    resizing: true,\n    bgColor: 'transparent',\n    className: ''\n  };\n\n  /**\n   * Not implemented error message\n   * @private\n   * @const\n   * @type {String}\n   */\n  var NOT_IMPLEMENTED_MSG = 'Not implemented';\n\n  /**\n   * Parse a string with options\n   * @private\n   * @param {String} str\n   * @returns {Object|String}\n   */\n  function parseOptions(str) {\n    var obj = {};\n    var delimiterIndex;\n    var option;\n    var prop;\n    var val;\n    var arr;\n    var len;\n    var i;\n\n    // Remove spaces around delimiters and split\n    arr = str.replace(/\\s*:\\s*/g, ':').replace(/\\s*,\\s*/g, ',').split(',');\n\n    // Parse a string\n    for (i = 0, len = arr.length; i < len; i++) {\n      option = arr[i];\n\n      // Ignore urls and a string without colon delimiters\n      if (\n        option.search(/^(http|https|ftp):\\/\\//) !== -1 ||\n        option.search(':') === -1\n      ) {\n        break;\n      }\n\n      delimiterIndex = option.indexOf(':');\n      prop = option.substring(0, delimiterIndex);\n      val = option.substring(delimiterIndex + 1);\n\n      // If val is an empty string, make it undefined\n      if (!val) {\n        val = undefined;\n      }\n\n      // Convert a string value if it is like a boolean\n      if (typeof val === 'string') {\n        val = val === 'true' || (val === 'false' ? false : val);\n      }\n\n      // Convert a string value if it is like a number\n      if (typeof val === 'string') {\n        val = !isNaN(val) ? +val : val;\n      }\n\n      obj[prop] = val;\n    }\n\n    // If nothing is parsed\n    if (prop == null && val == null) {\n      return str;\n    }\n\n    return obj;\n  }\n\n  /**\n   * Parse a position option\n   * @private\n   * @param {String} str\n   * @returns {Object}\n   */\n  function parsePosition(str) {\n    str = '' + str;\n\n    // Default value is a center\n    var args = str.split(/\\s+/);\n    var x = '50%';\n    var y = '50%';\n    var len;\n    var arg;\n    var i;\n\n    for (i = 0, len = args.length; i < len; i++) {\n      arg = args[i];\n\n      // Convert values\n      if (arg === 'left') {\n        x = '0%';\n      } else if (arg === 'right') {\n        x = '100%';\n      } else if (arg === 'top') {\n        y = '0%';\n      } else if (arg === 'bottom') {\n        y = '100%';\n      } else if (arg === 'center') {\n        if (i === 0) {\n          x = '50%';\n        } else {\n          y = '50%';\n        }\n      } else {\n        if (i === 0) {\n          x = arg;\n        } else {\n          y = arg;\n        }\n      }\n    }\n\n    return { x: x, y: y };\n  }\n\n  /**\n   * Search a poster\n   * @private\n   * @param {String} path\n   * @param {Function} callback\n   */\n  function findPoster(path, callback) {\n    var onLoad = function() {\n      callback(this.src);\n    };\n\n    $('<img src=\"' + path + '.gif\">').load(onLoad);\n    $('<img src=\"' + path + '.jpg\">').load(onLoad);\n    $('<img src=\"' + path + '.jpeg\">').load(onLoad);\n    $('<img src=\"' + path + '.png\">').load(onLoad);\n  }\n\n  /**\n   * Vide constructor\n   * @param {HTMLElement} element\n   * @param {Object|String} path\n   * @param {Object|String} options\n   * @constructor\n   */\n  function Vide(element, path, options) {\n    this.$element = $(element);\n\n    // Parse path\n    if (typeof path === 'string') {\n      path = parseOptions(path);\n    }\n\n    // Parse options\n    if (!options) {\n      options = {};\n    } else if (typeof options === 'string') {\n      options = parseOptions(options);\n    }\n\n    // Remove an extension\n    if (typeof path === 'string') {\n      path = path.replace(/\\.\\w*$/, '');\n    } else if (typeof path === 'object') {\n      for (var i in path) {\n        if (path.hasOwnProperty(i)) {\n          path[i] = path[i].replace(/\\.\\w*$/, '');\n        }\n      }\n    }\n\n    this.settings = $.extend({}, DEFAULTS, options);\n    this.path = path;\n\n    // https://github.com/VodkaBears/Vide/issues/110\n    try {\n      this.init();\n    } catch (e) {\n      if (e.message !== NOT_IMPLEMENTED_MSG) {\n        throw e;\n      }\n    }\n  }\n\n  /**\n   * Initialization\n   * @public\n   */\n  Vide.prototype.init = function() {\n    var vide = this;\n    var path = vide.path;\n    var poster = path;\n    var sources = '';\n    var $element = vide.$element;\n    var settings = vide.settings;\n    var position = parsePosition(settings.position);\n    var posterType = settings.posterType;\n    var $video;\n    var $wrapper;\n\n    // Set styles of a video wrapper\n    $wrapper = vide.$wrapper = $('<div>')\n      .addClass(settings.className)\n      .css({\n        position: 'absolute',\n        'z-index': -1,\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0,\n        overflow: 'hidden',\n        '-webkit-background-size': 'cover',\n        '-moz-background-size': 'cover',\n        '-o-background-size': 'cover',\n        'background-size': 'cover',\n        'background-color': settings.bgColor,\n        'background-repeat': 'no-repeat',\n        'background-position': position.x + ' ' + position.y\n      });\n\n    // Get a poster path\n    if (typeof path === 'object') {\n      if (path.poster) {\n        poster = path.poster;\n      } else {\n        if (path.mp4) {\n          poster = path.mp4;\n        } else if (path.webm) {\n          poster = path.webm;\n        } else if (path.ogv) {\n          poster = path.ogv;\n        }\n      }\n    }\n\n    // Set a video poster\n    if (posterType === 'detect') {\n      findPoster(poster, function(url) {\n        $wrapper.css('background-image', 'url(' + url + ')');\n      });\n    } else if (posterType !== 'none') {\n      $wrapper.css('background-image', 'url(' + poster + '.' + posterType + ')');\n    }\n\n    // If a parent element has a static position, make it relative\n    if ($element.css('position') === 'static') {\n      $element.css('position', 'relative');\n    }\n\n    $element.prepend($wrapper);\n\n    if (typeof path === 'object') {\n      if (path.mp4) {\n        sources += '<source src=\"' + path.mp4 + '.mp4\" type=\"video/mp4\">';\n      }\n\n      if (path.webm) {\n        sources += '<source src=\"' + path.webm + '.webm\" type=\"video/webm\">';\n      }\n\n      if (path.ogv) {\n        sources += '<source src=\"' + path.ogv + '.ogv\" type=\"video/ogg\">';\n      }\n\n      $video = vide.$video = $('<video>' + sources + '</video>');\n    } else {\n      $video = vide.$video = $('<video>' +\n        '<source src=\"' + path + '.mp4\" type=\"video/mp4\">' +\n        '<source src=\"' + path + '.webm\" type=\"video/webm\">' +\n        '<source src=\"' + path + '.ogv\" type=\"video/ogg\">' +\n        '</video>');\n    }\n\n    // https://github.com/VodkaBears/Vide/issues/110\n    try {\n      $video\n\n        // Set video properties\n        .prop({\n          autoplay: settings.autoplay,\n          loop: settings.loop,\n          volume: settings.volume,\n          muted: settings.muted,\n          defaultMuted: settings.muted,\n          playbackRate: settings.playbackRate,\n          defaultPlaybackRate: settings.playbackRate\n        });\n    } catch (e) {\n      throw new Error(NOT_IMPLEMENTED_MSG);\n    }\n\n    // Video alignment\n    $video.css({\n      margin: 'auto',\n      position: 'absolute',\n      'z-index': -1,\n      top: position.y,\n      left: position.x,\n      '-webkit-transform': 'translate(-' + position.x + ', -' + position.y + ')',\n      '-ms-transform': 'translate(-' + position.x + ', -' + position.y + ')',\n      '-moz-transform': 'translate(-' + position.x + ', -' + position.y + ')',\n      transform: 'translate(-' + position.x + ', -' + position.y + ')',\n\n      // Disable visibility, while loading\n      visibility: 'hidden',\n      opacity: 0\n    })\n\n    // Resize a video, when it's loaded\n    .one('canplaythrough.' + PLUGIN_NAME, function() {\n      vide.resize();\n    })\n\n    // Make it visible, when it's already playing\n    .one('playing.' + PLUGIN_NAME, function() {\n      $video.css({\n        visibility: 'visible',\n        opacity: 1\n      });\n      $wrapper.css('background-image', 'none');\n    });\n\n    // Resize event is available only for 'window'\n    // Use another code solutions to detect DOM elements resizing\n    $element.on('resize.' + PLUGIN_NAME, function() {\n      if (settings.resizing) {\n        vide.resize();\n      }\n    });\n\n    // Append a video\n    $wrapper.append($video);\n  };\n\n  /**\n   * Get a video element\n   * @public\n   * @returns {HTMLVideoElement}\n   */\n  Vide.prototype.getVideoObject = function() {\n    return this.$video[0];\n  };\n\n  /**\n   * Resize a video background\n   * @public\n   */\n  Vide.prototype.resize = function() {\n    if (!this.$video) {\n      return;\n    }\n\n    var $wrapper = this.$wrapper;\n    var $video = this.$video;\n    var video = $video[0];\n\n    // Get a native video size\n    var videoHeight = video.videoHeight;\n    var videoWidth = video.videoWidth;\n\n    // Get a wrapper size\n    var wrapperHeight = $wrapper.height();\n    var wrapperWidth = $wrapper.width();\n\n    if (wrapperWidth / videoWidth > wrapperHeight / videoHeight) {\n      $video.css({\n\n        // +2 pixels to prevent an empty space after transformation\n        width: wrapperWidth + 2,\n        height: 'auto'\n      });\n    } else {\n      $video.css({\n        width: 'auto',\n\n        // +2 pixels to prevent an empty space after transformation\n        height: wrapperHeight + 2\n      });\n    }\n  };\n\n  /**\n   * Destroy a video background\n   * @public\n   */\n  Vide.prototype.destroy = function() {\n    delete $[PLUGIN_NAME].lookup[this.index];\n    this.$video && this.$video.off(PLUGIN_NAME);\n    this.$element.off(PLUGIN_NAME).removeData(PLUGIN_NAME);\n    this.$wrapper.remove();\n  };\n\n  /**\n   * Special plugin object for instances.\n   * @public\n   * @type {Object}\n   */\n  $[PLUGIN_NAME] = {\n    lookup: []\n  };\n\n  /**\n   * Plugin constructor\n   * @param {Object|String} path\n   * @param {Object|String} options\n   * @returns {JQuery}\n   * @constructor\n   */\n  $.fn[PLUGIN_NAME] = function(path, options) {\n    var instance;\n\n    this.each(function() {\n      instance = $.data(this, PLUGIN_NAME);\n\n      // Destroy the plugin instance if exists\n      instance && instance.destroy();\n\n      // Create the plugin instance\n      instance = new Vide(this, path, options);\n      instance.index = $[PLUGIN_NAME].lookup.push(instance) - 1;\n      $.data(this, PLUGIN_NAME, instance);\n    });\n\n    return this;\n  };\n\n  $(document).ready(function() {\n    var $window = $(window);\n\n    // Window resize event listener\n    $window.on('resize.' + PLUGIN_NAME, function() {\n      for (var len = $[PLUGIN_NAME].lookup.length, i = 0, instance; i < len; i++) {\n        instance = $[PLUGIN_NAME].lookup[i];\n\n        if (instance && instance.settings.resizing) {\n          instance.resize();\n        }\n      }\n    });\n\n    // https://github.com/VodkaBears/Vide/issues/68\n    $window.on('unload.' + PLUGIN_NAME, function() {\n      return false;\n    });\n\n    // Auto initialization\n    // Add 'data-vide-bg' attribute with a path to the video without extension\n    // Also you can pass options throw the 'data-vide-options' attribute\n    // 'data-vide-options' must be like 'muted: false, volume: 0.5'\n    $(document).find('[data-' + PLUGIN_NAME + '-bg]').each(function(i, element) {\n      var $element = $(element);\n      var options = $element.data(PLUGIN_NAME + '-options');\n      var path = $element.data(PLUGIN_NAME + '-bg');\n\n      $element[PLUGIN_NAME](path, options);\n    });\n  });\n\n});\n"],"sourceRoot":"/source/"}